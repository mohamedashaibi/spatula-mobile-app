(self.webpackChunkSpatulalatest=self.webpackChunkSpatulalatest||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},1116:(t,e,n)=>{"use strict";n.d(e,{mr:()=>b,ez:()=>F,K0:()=>u,Do:()=>E,V_:()=>h,Ye:()=>T,S$:()=>y,sg:()=>P,O5:()=>D,b0:()=>w,lw:()=>c,EM:()=>V,JF:()=>B,PM:()=>U,w_:()=>a,bD:()=>j,q:()=>o,Mx:()=>N,HT:()=>s});var r=n(7368);let i=null;function o(){return i}function s(t){i||(i=t)}class a{}const u=new r.OlP("DocumentToken");let c=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(u))},t.\u0275prov=(0,r.Yz7)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d((0,r.LFG)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:_,token:t,providedIn:"root"}),t})();function _(t){const e=(0,r.LFG)(u).location;return new w((0,r.LFG)(c),e&&e.origin||"")}const b=new r.OlP("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),T=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(y),r.LFG(c))},t.normalizeQueryParams=v,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=(0,r.Yz7)({factory:I,token:t,providedIn:"root"}),t})();function I(){return new T((0,r.LFG)(y),(0,r.LFG)(c))}function C(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const k=r.kL8;class A{}let x=(()=>{class t extends A{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function N(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class R{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new R(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new O(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new O(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class O{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new L,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){M("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){M("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class L{constructor(){this.$implicit=null,this.ngIf=null}}function M(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:A,useClass:x}]}),t})();const j="browser";function U(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new q((0,r.LFG)(u),window)}),t})();class q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$(this.window.history)||$(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function $(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B{}},2693:(t,e,n)=>{"use strict";n.d(e,{eN:()=>A,JF:()=>q,WM:()=>d});var r=n(1116),i=n(7368),o=n(878),s=n(8318),a=n(436),u=n(3835),c=n(9996);class l{}class h{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class f{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function g(t){return`${t}`}class m{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new m({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(g(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(g(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class v{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function y(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function _(t){return"undefined"!=typeof Blob&&t instanceof Blob}function b(t){return"undefined"!=typeof FormData&&t instanceof FormData}class w{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.context||(this.context=new v),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new m,this.urlWithParams=e}serializeBody(){return null===this.body?null:y(this.body)||_(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:_(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new w(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var E=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class T{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class I extends T{constructor(t={}){super(t),this.type=E.ResponseHeader}clone(t={}){return new I({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C extends T{constructor(t={}){super(t),this.type=E.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new C({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class S extends T{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function k(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let A=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof w)r=t;else{let i,o;i=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(o=n.params instanceof m?n.params:new m({fromObject:n.params})),r=new w(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,o.of)(r).pipe((0,a.b)(t=>this.handler.handle(t)));if(t instanceof w||"events"===n.observe)return i;const s=i.pipe((0,u.h)(t=>t instanceof C));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,c.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe((0,c.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe((0,c.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe((0,c.U)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new m).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,k(n,e))}post(t,e,n={}){return this.request("POST",t,k(n,e))}put(t,e,n={}){return this.request("PUT",t,k(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(l))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const N=new i.OlP("HTTP_INTERCEPTORS");let R=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const P=/^\)\]\}',?\n/;let O=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new d(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new I({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(P,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new C({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new S({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new S({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:E.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:E.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:E.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.JF))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const D=new i.OlP("XSRF_COOKIE_NAME"),L=new i.OlP("XSRF_HEADER_NAME");class M{}let F=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,r.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0),i.LFG(i.Lbi),i.LFG(D))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(M),i.LFG(L))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(N,[]);this.chain=t.reduceRight((t,e)=>new x(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(h),i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:j,useClass:R}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:D,useValue:e.cookieName}:[],e.headerName?{provide:L,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[j,{provide:N,useExisting:j,multi:!0},{provide:M,useClass:F},{provide:D,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[A,{provide:l,useClass:U},O,{provide:h,useExisting:O}],imports:[[V.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},7368:(t,e,n)=>{"use strict";n.d(e,{deG:()=>rn,tb:()=>ku,AFp:()=>Eu,ip1:()=>bu,CZH:()=>wu,hGG:()=>bc,z2F:()=>lc,ahi:()=>en,sBO:()=>ka,Sil:()=>ju,_Vd:()=>Xs,EJc:()=>Nu,SBq:()=>ea,qLn:()=>Tr,vpe:()=>eu,gxx:()=>uo,tBr:()=>In,XFs:()=>R,OlP:()=>nn,zs3:()=>Io,ZZ4:()=>ba,aQg:()=>Ea,soG:()=>xu,YKP:()=>Fa,v3s:()=>dc,h0i:()=>Ma,PXZ:()=>oc,R0b:()=>qu,FiY:()=>Cn,Lbi:()=>Su,g9A:()=>Cu,Qsj:()=>ia,FYo:()=>ra,JOm:()=>Sr,Tiy:()=>sa,q3G:()=>pr,tp0:()=>Sn,EAV:()=>gc,Rgc:()=>Pa,dDg:()=>Ku,DyG:()=>on,q4F:()=>ua,GfV:()=>aa,s_b:()=>Ua,ifc:()=>F,eFA:()=>sc,G48:()=>rc,Gpc:()=>g,X6Q:()=>nc,_c5:()=>yc,VLi:()=>Xu,c2e:()=>Au,zSh:()=>lo,wAp:()=>Fs,vHH:()=>y,EiD:()=>dr,mCW:()=>Yn,qzn:()=>jn,JVY:()=>Vn,pB0:()=>zn,eBb:()=>$n,L6k:()=>qn,LAX:()=>Bn,cg1:()=>Ds,Tjo:()=>vc,kL8:()=>Ls,yhl:()=>Un,dqk:()=>$,sIi:()=>Oo,CqO:()=>Yo,QGY:()=>Wo,F4k:()=>Ko,RDi:()=>St,AaK:()=>d,z3N:()=>Fn,qOj:()=>So,TTD:()=>bt,_Bn:()=>Ks,xp6:()=>fi,uIk:()=>Mo,ekj:()=>ps,Suo:()=>gu,Xpm:()=>Z,lG2:()=>st,Yz7:()=>E,cJS:()=>T,oAB:()=>rt,Yjl:()=>at,Y36:()=>Uo,_UZ:()=>Ho,qZA:()=>zo,TgZ:()=>Bo,EpF:()=>Go,n5z:()=>Qe,Ikx:()=>Ns,LFG:()=>wn,$8M:()=>Je,$Z:()=>Vo,NdJ:()=>Qo,CRH:()=>mu,oxw:()=>Zo,Hsn:()=>ns,F$t:()=>es,Q6J:()=>qo,s9C:()=>rs,iGM:()=>fu,CHM:()=>zt,oJD:()=>gr,LSH:()=>mr,kYT:()=>it,Jzz:()=>xs,YNc:()=>jo,_uU:()=>Cs,Oqu:()=>Ss,hij:()=>ks,AsE:()=>As,Gf:()=>pu});var r=n(5959),i=n(7570),o=n(8318),s=n(1906),a=n(2875),u=n(1564);function c(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return v(t)?t():t}function v(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class y extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_(t)}function w(t,e){const n=e?` in ${e}`:"";throw new y("201",`No provider for ${b(t)} found${n}`)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{providers:t.providers||[],imports:t.imports||[]}}function I(t){return C(t,k)||C(t,x)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(N))?t[A]:null}const k=l({"\u0275prov":l}),A=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),N=l({ngInjectorDef:l});var R=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function O(t){const e=P;return P=t,e}function D(t,e,n){const r=I(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function L(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const j="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,$=j||q||U||V,B={},z=[],H=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let J=0;function Z(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[G]||null}(t)}function et(t){return function(t){return t[W]||null}(t)}const nt={};function rt(t){return L(()=>{const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(nt[t.id]=t.type),e})}function it(t,e){return L(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function ot(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=Z;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[H]||null}function ct(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),Et}function Et(){const t=It(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=It(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new _t(u&&u.currentValue,e,s===B),t[r]=e}function It(t){return t.__ngSimpleChanges__||null}let Ct;function St(t){Ct=t}function kt(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function At(t){return!!t.listen}bt.ngInherit=!0;const xt={createRenderer:(t,e)=>kt()};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Nt(e[t])}function Pt(t,e){return Nt(e[t.index])}function Ot(t,e){return t.data[e]}function Dt(t,e){const n=e[t];return dt(n)?n:n[0]}function Lt(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function jt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Vt={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Vt.bindingsEnabled}function $t(){return Vt.lFrame.lView}function Bt(){return Vt.lFrame.tView}function zt(t){return Vt.lFrame.contextLView=t,t[8]}function Ht(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Vt.lFrame.currentTNode}function Wt(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return Vt.lFrame.isParent}function Yt(){Vt.lFrame.isParent=!1}function Qt(){return Vt.isInCheckNoChangesMode}function Xt(t){Vt.isInCheckNoChangesMode=t}function Jt(){return Vt.lFrame.bindingIndex++}function Zt(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function te(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){Vt.lFrame.currentDirectiveIndex=t}function ne(){return Vt.lFrame.currentQueryIndex}function re(t){Vt.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&R.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&R.Host||(r=ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Vt.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=ae(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ce(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const le=ce;function he(){const t=ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return Vt.lFrame.selectedIndex}function fe(t){Vt.lFrame.selectedIndex=t}function pe(){const t=Vt.lFrame;return Ot(t.tView,t.selectedIndex)}function ge(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function me(t,e,n){_e(t,e,3,n)}function ve(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const we=-1;class Ee{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ce(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function Ce(t){return 64===t.charCodeAt(0)}function Se(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ae(t){return t!==we}function xe(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Pe(t){const e=Re;return Re=t,e}let Oe=0;function De(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Fe(t,e),o=t.injectorIndex;if(Ae(i)){const t=xe(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return we;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return we}function je(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Oe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&R.Optional)return t;w(e,"NodeInjector")}function Ve(t,e,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=t[9],o=O(void 0);try{return i?i.get(e,r,n&R.Optional):D(e,r,n&R.Optional)}finally{O(o)}}return Ue(r,e,n)}function qe(t,e,n,r=R.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Be:e}(n);if("function"==typeof o){if(!oe(e,t,r))return r&R.Host?Ue(i,n,r):Ve(e,n,r,i);try{const t=o(r);if(null!=t||r&R.Optional)return t;w(n)}finally{le()}}else if("number"==typeof o){let i=null,s=Me(t,e),a=we,u=r&R.Host?e[16][6]:null;for((-1===s||r&R.SkipSelf)&&(a=-1===s?Fe(t,e):e[s+8],a!==we&&Ke(r,!1)?(i=e[1],s=xe(a),e=Ne(a,e)):s=-1);-1!==s;){const t=e[1];if(We(o,s,t.data)){const t=ze(s,e,n,i,r,u);if(t!==$e)return t}a=e[s+8],a!==we&&Ke(r,e[1].data[s+8]===u)&&We(o,s,e)?(i=t,s=xe(a),e=Ne(a,e)):s=-1}}}return Ve(e,n,r,i)}const $e={};function Be(){return new Ye(Ht(),$t())}function ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=He(a,s,n,null==r?gt(a)&&Re:r!=s&&0!=(3&a.type),i&R.Host&&o===a);return null!==u?Ge(e,s,u,a):$e}function He(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function Ge(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ee){const s=i;s.resolving&&function(t,e){throw new y("200",`Circular dependency in DI detected for ${t}`)}(b(o[n]));const a=Pe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?O(s.injectImpl):null;oe(t,r,R.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&O(u),Pe(a),s.resolving=!1,le()}}return i}function We(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ke(t,e){return!(t&R.Self||t&R.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qe(this._tNode,this._lView,t,void 0,e)}}function Qe(t){return L(()=>{const e=t.prototype.constructor,n=e[Q]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Xe(t){return v(t)?()=>{const e=Xe(m(t));return e&&e()}:yt(t)}function Je(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ht(),t)}const Ze="__parameters__";function tn(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ze)?t[Ze]:Object.defineProperty(t,Ze,{value:[]})[Ze];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const en=function(){return tn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Je(t)}))}();class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),on=Function;function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),sn(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hn(t,e,n){let r=fn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=fn(t,e);if(n>=0)return t[1|n]}function fn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},gn=/\n/gm,mn="__source",vn=l({provide:String,useValue:l});let yn;function _n(t){const e=yn;return yn=t,e}function bn(t,e=R.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?D(t,void 0,e):yn.get(t,e&R.Optional?null:void 0,e)}function wn(t,e=R.Default){return(P||bn)(m(t),e)}function En(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=R.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(wn(t,n))}else e.push(wn(r))}return e}function Tn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const In=Tn(tn("Inject",t=>({token:t})),-1),Cn=Tn(tn("Optional"),8),Sn=Tn(tn("SkipSelf"),4);let kn,An;function xn(t){var e;return(null===(e=function(){if(void 0===kn&&(kn=null,$.trustedTypes))try{kn=$.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return kn}())||void 0===e?void 0:e.createHTML(t))||t}function Nn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,$.trustedTypes))try{An=$.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pn extends Rn{getTypeName(){return"HTML"}}class On extends Rn{getTypeName(){return"Style"}}class Dn extends Rn{getTypeName(){return"Script"}}class Ln extends Rn{getTypeName(){return"URL"}}class Mn extends Rn{getTypeName(){return"ResourceURL"}}function Fn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function jn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof Rn&&t.getTypeName()||null}function Vn(t){return new Pn(t)}function qn(t){return new On(t)}function $n(t){return new Dn(t)}function Bn(t){return new Ln(t)}function zn(t){return new Mn(t)}class Hn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=xn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Wn)||t.match(Kn)?t:"unsafe:"+t}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Qn("area,br,col,hr,img,wbr"),Zn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Qn("rp,rt"),er=Xn(tr,Zn),nr=Xn(Jn,Xn(Zn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(tr,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Qn("srcset"),or=Xn(rr,ir,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=Qn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!sr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!or.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;rr[o]&&(s=Yn(s)),ir[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function dr(t,e){let n=null;try{hr=hr||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch(t){return!1}}()?new Hn(e):e}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==o);return xn((new ar).sanitizeChildren(fr(n)||n))}finally{if(n){const t=fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=vr();return e?Nn(e.sanitize(pr.HTML,t)||""):jn(t,"HTML")?Nn(Fn(t)):dr(kt(),_(t))}function mr(t){const e=vr();return e?e.sanitize(pr.URL,t)||"":jn(t,"URL")?Fn(t):Yn(_(t))}function vr(){const t=$t();return t&&t[12]}function yr(t,e){t.__ngContext__=e}function _r(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function br(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function Er(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?br(t)?br(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function Cr(t){return t instanceof Function?t():t}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function kr(t,e){return(void 0)(t,e)}function Ar(t){const e=t[3];return ft(e)?e[3]:e}function xr(t){return Rr(t[13])}function Nr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Pr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?Vr(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=$r(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&Pr(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];Qr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Or(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Dr(o,r),e>0&&(t[n-1][4]=r[4]);const s=cn(t,ht+e);Qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ee)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Dr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function jr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Pt(r,n)}(t,e.parent,n)}function Ur(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Vr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Vr(t,e,n)}function $r(t,e){return At(t)?t.parentNode(e):e.parentNode}function Br(t,e,n){return zr(t,e,n)}let zr=function(t,e,n){return 40&t.type?Pt(t,n):null};function Hr(t,e,n,r){const i=jr(t,r,e),o=e[11],s=Br(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)qr(o,i,n[a],s,!1);else qr(o,i,n,s,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Pt(e,t);if(4&n)return Kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return ft(n)?Kr(-1,n):Nt(n)}}if(32&n)return kr(e,t)()||Nt(t[e.index]);{const n=Wr(t,e);return null!==n?Array.isArray(n)?n[0]:Gr(Ar(t[16]),n):Gr(t,e.next)}}return null}function Wr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Kr(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Yr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&yr(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Yr(t,e,n.child,r,i,o,!1),Pr(e,t,i,a,o);else if(32&u){const s=kr(n,r);let u;for(;u=s();)Pr(e,t,i,u,o);Pr(e,t,i,a,o)}else 16&u?Xr(t,e,r,n,i,o):Pr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Qr(t,e,n,r,i,o){Yr(n,r,t.firstChild,e,i,o,!1)}function Xr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Pr(e,t,i,a[u],o);else Yr(t,e,a,s[3],i,o,!0)}function Jr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function oi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(si(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(si(r))return!1;s=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(si(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(si(r))return!1;s=!0}}}}else{if(!s&&!si(r)&&!si(u))return!1;if(s&&si(u))continue;s=!1,r=u|1&r}}return si(r)||s}function si(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||si(s)||(e+=li(o,i),i=""),r=s,o=o||!si(r);n++}return""!==i&&(e+=li(o,i)),e}const di={};function fi(t){pi(Bt(),$t(),de()+t,Qt())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ve(e,r,0,n)}fe(n)}function gi(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function vi(t){return 2|t}function yi(t){return(131068&t)>>2}function _i(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];re(i),n.contentQueries(2,e[o],o)}}}function Ei(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,jt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ti(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Gt(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Vt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Wt(o,!0),o}function Ii(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ci(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&to(1,r,n);const i=t.template;null!==i&&Ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&to(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,he()}}function Si(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const o=Qt();try{jt(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ai(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),ye(e,0)}if(function(t){for(let e=xr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=xr(t);null!==e;e=Nr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&Si(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,o=n[++t],s=n[++t];te(o,i),s(2,e[i])}}}finally{fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&to(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{he()}}function ki(t,e,n,r){const i=e[10],o=!Qt(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&Ci(t,e,r),Si(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ai(t,e,n,r,i){const o=de(),s=2&r;try{fe(-1),s&&e.length>lt&&pi(t,e,lt,Qt()),n(r,i)}finally{fe(o)}}function xi(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||De(n,e),yr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Bi(e,n,r);const u=Ge(e,t,a,n);yr(u,e),null!==s&&zi(0,a-i,u,r,0,s),o&&(Dt(n.index,e)[8]=u)}}(t,e,n,Pt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Vt.lFrame.currentDirectiveIndex;try{fe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ee(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{fe(-1),ee(s)}}(t,e,n))}function Ni(t,e,n=Pt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ri(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Pi(t,e,n,r,i,o,s,a,u,c){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Oi(t,e,n,r){const i=no(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ro(t).push(r,i.length-1))}function Di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Li(t,e,n,r,i,o,s,a){const u=Pt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(oo(t,n,c,r,i),gt(e)&&function(t,e){const n=Dt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):Ce(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Mi(t,e,n,r){let i=!1;if(qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ui(n,s.selectors,!1)&&(i||(i=[]),je(De(n,e),t,s.type),vt(s)?(Ui(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,qi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ii(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Se(n.mergedAttrs,c.hostAttrs),$i(t,n,e,u,c),Vi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:Hi(n,i);o.push(c),s=Di(n,u,s),a=Di(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new y("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Se(n.mergedAttrs,n.attrs),i}function Fi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $i(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new Ee(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Fi(t,e,0,r,Ii(t,n,i.hostVars,di),i)}function Bi(t,e,n){const r=Pt(e,t),i=Ri(n),o=t[10],s=Qi(t,Ei(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function zi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Gi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Wi(t,e){const n=Dt(e,t);if(Mt(n)){const t=n[1];80&n[2]?Si(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=xr(t);null!==n;n=Nr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Si(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Dt(e[n],t);Mt(r)&&r[5]>0&&Ki(r)}}function Yi(t,e){const n=Dt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ci(r,n,n[8])}function Qi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=Ar(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ji(t,e,n){const r=e[10];r.begin&&r.begin();try{Si(t,e,t.template,n)}catch(i){throw io(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=_r(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function to(t,e,n){re(0),e(t,n)}const eo=(()=>Promise.resolve(null))();function no(t){return t[7]||(t[7]=[])}function ro(t){return t.cleanup||(t.cleanup=[])}function io(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function oo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function so(t,e,n){const r=Rt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ao(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=f(i,t):2==o&&(r=f(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const uo=new nn("INJECTOR",-1);class co{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const lo=new nn("Set Injector scope."),ho={},fo={};let po;function go(){return void 0===po&&(po=new co),po}function mo(t,e=null,n=null,r){return new vo(t,n,e||go(),r)}class vo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(uo,bo(void 0,this));const o=this.records.get(lo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=R.Default){this.assertNotDestroyed();const r=_n(this);try{if(!(n&R.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&I(t);e=n&&this.injectableDefInScope(n)?bo(yo(t),ho):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&R.Self?go():this.parent).get(t,e=n&R.Optional&&e===pn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[mn]&&i.unshift(e[mn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{_n(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||z))}}this.injectorDefTypes.add(o);const a=yt(o)||(()=>new o);this.records.set(o,bo(a,ho));const u=r.providers;if(null!=u&&!s){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Eo(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return wo(t)?bo(void 0,t.useValue):bo(_o(t),ho)}(t);if(Eo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=bo(void 0,ho,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ho&&(e.value=fo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=m(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function yo(t){const e=I(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function _o(t,e,n){let r;if(Eo(t)){const e=m(t);return yt(e)||yo(e)}if(wo(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>wn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||yo(e);r=()=>new e(...En(t.deps))}var i;return r}function bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wo(t){return null!==t&&"object"==typeof t&&vn in t}function Eo(t){return"function"==typeof t}const To=function(t,e,n){return function(t,e=null,n=null,r){const i=mo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Io=(()=>{class t{static create(t,e){return Array.isArray(t)?To(t,e,""):To(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new co,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>wn(uo)}),t.__NG_ELEMENT_ID__=-1,t})();function Co(t,e){ge(_r(t)[1],Ht())}function So(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ko(t.inputs),e.declaredInputs=ko(t.declaredInputs),e.outputs=ko(t.outputs);const n=i.hostBindings;n&&No(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ao(t,o),s&&xo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===So&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Se(i.hostAttrs,n=Se(n,i.hostAttrs))}}(r)}function ko(t){return t===B?{}:t===z?[]:t}function Ao(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function xo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function No(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ro=null;function Po(){if(!Ro){const t=$.Symbol;if(t&&t.iterator)Ro=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ro=n)}}}return Ro}function Oo(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,r){const i=$t();return Lo(i,Jt(),e)&&(Bt(),function(t,e,n,r,i,o){const s=Pt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(pe(),i,t,e,n,r)),Mo}function Fo(t,e,n,r){return Lo(t,Jt(),n)?e+_(n)+r:di}function jo(t,e,n,r,i,o,s,a){const u=$t(),c=Bt(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ti(e,t,4,s||null,Ft(c,a));Mi(e,n,l,Ft(c,u)),ge(e,l);const h=l.tViews=Pi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Wt(h,!1);const d=u[11].createComment("");Hr(c,u,d,h),yr(d,u),Qi(u,u[l]=Gi(d,u,d,h)),mt(h)&&xi(c,u,h),null!=s&&Ni(u,h,a)}function Uo(t,e=R.Default){const n=$t();return null===n?wn(t,e):qe(Ht(),n,m(t),e)}function Vo(){throw new Error("invalid")}function qo(t,e,n){const r=$t();return Lo(r,Jt(),e)&&Li(Bt(),pe(),r,t,e,r[11],n,!1),qo}function $o(t,e,n,r,i){const o=i?"class":"style";oo(t,n,e.inputs[o],o,r)}function Bo(t,e,n,r){const i=$t(),o=Bt(),s=lt+t,a=i[11],u=i[s]=Or(a,e,Vt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ti(e,t,2,i,Ft(a,o));return Mi(e,n,u,Ft(a,s)),null!==u.attrs&&ao(u,u.attrs,!1),null!==u.mergedAttrs&&ao(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Wt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const d=c.styles;null!==d&&Jr(a,u,d),64!=(64&c.flags)&&Hr(o,i,u,c),0===Vt.lFrame.elementDepthCount&&yr(u,i),Vt.lFrame.elementDepthCount++,mt(c)&&(xi(o,i,c),function(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ni(i,c)}function zo(){let t=Ht();Kt()?Yt():(t=t.parent,Wt(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(ge(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&$o(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&$o(n,e,$t(),e.stylesWithoutHost,!1)}function Ho(t,e,n,r){Bo(t,e,n,r),zo()}function Go(){return $t()}function Wo(t){return!!t&&"function"==typeof t.then}function Ko(t){return!!t&&"function"==typeof t.subscribe}const Yo=Ko;function Qo(t,e,n,r){const i=$t(),o=Bt(),s=Ht();return function(t,e,n,r,i,o,s,a){const u=mt(r),c=t.firstCreatePass&&ro(t),l=no(e);let h=!0;if(3&r.type||a){const d=Pt(r,e),f=a?a(d):d,p=l.length,g=a?t=>a(Nt(t[r.index])):r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Jo(r,e,0,o,!1);const t=n.listen(f,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=Jo(r,e,0,o,!0),f.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Jo(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Qo}function Xo(t,e,n,r){try{return!1!==n(r)}catch(i){return io(t,i),!1}}function Jo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Dt(t.index,e):e;0==(32&e[2])&&Xi(s);let a=Xo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Xo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Zo(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function ts(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ui(t,o,!0):ci(r,o))return i}else n=i}return n}function es(t){const e=$t()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ts(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ns(t,e=0,n){const r=$t(),i=Bt(),o=Ti(i,lt+t,16,null,n||null);null===o.projection&&(o.projection=e),Yt(),64!=(64&o.flags)&&function(t,e,n){Xr(e[11],0,e,n,jr(t,n,e),Br(n.parent||e[6],n,e))}(i,r,o)}function rs(t,e,n){return is(t,"",e,"",n),rs}function is(t,e,n,r,i){const o=$t(),s=Fo(o,e,n,r);return s!==di&&Li(Bt(),pe(),o,t,s,o[11],i,!1),is}function os(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?mi(o):yi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ss(t[a],e)&&(u=!0,t[a+1]=r?bi(n):vi(n)),a=r?mi(n):yi(n)}u&&(t[n+1]=r?vi(o):bi(o))}function ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fn(t,e)>=0}const as={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function us(t){return t.substring(as.key,as.keyEnd)}function cs(t){return t.substring(as.value,as.valueEnd)}function ls(t,e){const n=as.textEnd;let r=as.key=hs(t,e,n);return n===r?-1:(r=as.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=ds(t,r,n),r=as.value=hs(t,r,n),r=as.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=fs(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=fs(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),ds(t,r,n))}function hs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ds(t,e,n,r){return(e=hs(t,e,n))<n&&e++,e}function fs(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function ps(t,e){return function(t,e,n,r){const i=$t(),o=Bt(),s=Zt(2);o.firstUpdatePass&&vs(o,t,s,true),e!==di&&Lo(i,s,e)&&ws(o,o.data[de()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=d(Fn(t))),t}(e),true,s)}(t,e),ps}function gs(t,e){for(let n=function(t){return function(t){as.key=0,as.keyEnd=0,as.value=0,as.valueEnd=0,as.textEnd=t.length}(t),ls(t,hs(t,0,as.textEnd))}(e);n>=0;n=ls(e,n))bs(t,us(e),cs(e))}function ms(t,e){return e>=t.expandoStartIndex}function vs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[de()],s=ms(t,n);Is(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=_s(n=ys(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ys(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[mi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ys(null,t,e,n[1],r),n=_s(n,e.attrs,r),function(t,e,n,r){t[mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=_s(r,t[o].hostAttrs,n);return _s(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=mi(s),u=yi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||fn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=mi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=_i(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=_i(t[a+1],r)),a=r;else t[r+1]=gi(u,0),0===a?a=r:t[u+1]=_i(t[u+1],r),u=r;l&&(t[r+1]=vi(t[r+1])),os(t,c,r,!0),os(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&fn(o,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r,o),s=gi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ys(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=_s(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function _s(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,s,!!n||e[++o]))}return void 0===t?null:t}function bs(t,e,n){hn(t,e,Fn(n))}function ws(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ts(1==(1&c)?Es(u,e,n,i,yi(c),s):void 0)||(Ts(o)||2==(2&c)&&(o=Es(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Sr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Sr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Rt(de(),n),i,o))}function Es(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===di&&(l=c?z:void 0);let h=c?dn(l,r):u===r?l:void 0;if(o&&!Ts(h)&&(h=dn(e,r)),Ts(h)&&(a=h,s))return a;const d=t[i+1];i=s?mi(d):yi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function Ts(t){return void 0!==t}function Is(t,e){return 0!=(t.flags&(e?16:32))}function Cs(t,e=""){const n=$t(),r=Bt(),i=t+lt,o=r.firstCreatePass?Ti(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Hr(r,n,s,o),Wt(o,!1)}function Ss(t){return ks("",t,""),Ss}function ks(t,e,n){const r=$t(),i=Fo(r,t,e,n);return i!==di&&so(r,de(),i),ks}function As(t,e,n,r,i){const o=$t(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=Lo(t,e,n);return Lo(t,e+1,r)||i}(t,Vt.lFrame.bindingIndex,n,i);return Zt(2),s?e+_(n)+r+_(i)+o:di}(o,t,e,n,r,i);return s!==di&&so(o,de(),s),As}function xs(t,e,n){(function(t,e,n,r){const i=Bt(),o=Zt(2);i.firstUpdatePass&&vs(i,null,o,r);const s=$t();if(n!==di&&Lo(s,o,n)){const a=i.data[de()];if(Is(a,r)&&!ms(i,o)){let t=a.stylesWithoutHost;null!==t&&(n=f(t,n||"")),$o(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===di&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let f,p=null;l===h?(u+=2,c+=2,s!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,f=d),null!==p&&ws(t,e,n,r,p,f,!1,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Fn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}})(bs,gs,Fo($t(),t,e,n),!1)}function Ns(t,e,n){const r=$t();return Lo(r,Jt(),e)&&Li(Bt(),pe(),r,t,e,r[11],n,!0),Ns}const Rs=void 0;var Ps=["en",[["a","p"],["AM","PM"],Rs],[["AM","PM"],Rs,Rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rs,"{1} 'at' {0}",Rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Os={};function Ds(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ms(e);if(n)return n;const r=e.split("-")[0];if(n=Ms(r),n)return n;if("en"===r)return Ps;throw new Error(`Missing locale data for the locale "${t}".`)}function Ls(t){return Ds(t)[Fs.PluralCase]}function Ms(t){return t in Os||(Os[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),Os[t]}var Fs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const js="en-US";let Us=js;function Vs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Us=t.toLowerCase().replace(/_/g,"-"))}function qs(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)qs(t[o],e,n,r,i);else{const o=Bt(),s=$t();let a=Eo(t)?t:m(t.provide),u=_o(t);const c=Ht(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Eo(t)||!t.multi){const r=new Ee(u,i,Uo),f=zs(a,e,i?l:l+d,h);-1===f?(je(De(c,s),o,a),$s(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=zs(a,e,l+d,h),p=zs(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){je(De(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ee(t,n,Uo);return o.multi=[],o.index=e,o.componentProviders=0,Bs(o,i,r&&!n),o}(i?Gs:Hs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),$s(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else $s(o,t,f>-1?f:p,Bs(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function $s(t,e,n,r){const i=Eo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Bs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Hs(t,e,n,r){return Ws(this.multi,[])}function Gs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ws(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ws(i,o);return o}function Ws(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ks(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=vt(t);qs(n,r.data,r.blueprint,i,!0),qs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ys{}class Qs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Xs=(()=>{class t{}return t.NULL=new Qs,t})();function Js(...t){}function Zs(t,e){return new ea(Pt(t,e))}const ta=function(){return Zs(Ht(),$t())};let ea=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ta,t})();function na(t){return t instanceof ea?t.nativeElement:t}class ra{}let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oa(),t})();const oa=function(){const t=$t(),e=Dt(Ht().index,t);return function(t){return t[11]}(dt(e)?e:t)};let sa=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class aa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ua=new aa("12.0.5");class ca{constructor(){}supports(t){return Oo(t)}create(t){return new ha(t)}}const la=(t,e)=>e;class ha{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||la}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ga(n,r,i)?e:n,s=ga(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Oo(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new da(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class da{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class pa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new fa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ga(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ma{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new va}}class va{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ya(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ya{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _a(){return new ba([new ca])}let ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||_a()),deps:[[t,new Sn,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:_a}),t})();function wa(){return new Ea([new ma])}let Ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||wa()),deps:[[t,new Sn,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:wa}),t})();function Ta(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),ft(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ta(e[1],e,n,r)}const s=n.type;if(8&s)Ta(t,e,n.child,r);else if(32&s){const t=kr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Wr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ar(e[16]);Ta(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ia{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ta(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Lr(t,n),cn(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){Oi(this._lView[1],this._lView,null,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ji(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{Ji(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ca extends Ia{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){Xt(!0);try{Zi(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Sa=function(t){return function(t,e,n){if(gt(t)&&!n){const n=Dt(t.index,e);return new Ia(n,n)}return 47&t.type?new Ia(e[16],e):null}(Ht(),$t(),16==(16&t))};let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Aa=[new ma],xa=new ba([new ca]),Na=new Ea(Aa),Ra=function(){return La(Ht(),$t())};let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t})();const Oa=Pa,Da=class extends Oa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ei(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ci(e,n,t),new Ia(n)}};function La(t,e){return 4&t.type?new Da(e,t,Zs(t,e)):null}class Ma{}class Fa{}const ja=function(){return za(Ht(),$t())};let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t})();const Va=Ua,qa=class extends Va{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(Ae(t)){const e=Ne(t,this._hostLView),n=xe(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=$a(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ma,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new qa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],un(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Kr(i,o),a=n[11],u=$r(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Qr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),un(Ba(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=$a(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(cn(Ba(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=cn(Ba(this._lContainer),e)?new Ia(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function $a(t){return t[8]}function Ba(t){return t[8]||(t[8]=[])}function za(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Pt(t,e);Ur(n,$r(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Gi(r,e,i,t),Qi(e,n)}return new qa(n,t,e)}const Ha={};class Ga extends Xs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Ya(e,this.ngModule)}}function Wa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ka=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class Ya extends Ys{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Wa(this.componentDef.inputs)}get outputs(){return Wa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ha,i);return o!==Ha||r===Ha?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ra,xt),s=i.get(sa,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Or(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:eo,playerHandler:null,flags:0},d=Pi(0,null,null,1,0,null,null,null,null,null),f=Ei(null,d,h,l,null,null,o,a,s,i);let p,g;se(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ti(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ao(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ei(n,Ri(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(je(De(a,n),s,e.type),Ui(s,a),qi(a,n.length,1)),Qi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)Te(a,c,["ng-version",ua.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=Ot(d,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$i(t,r,e,Ii(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);yr(i,e);const o=Pt(r,e);return o&&yr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ht();e.contentQueries(1,s,t.directiveStart)}const a=Ht();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(a.index),Fi(n[1],a,0,a.directiveStart,a.directiveEnd,e),ji(e,s)),s}(t,this.componentDef,f,h,[Co]),Ci(d,f,null)}finally{he()}return new Qa(this.componentType,p,Zs(g,f),f,g)}}class Qa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ca(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Xa=new Map;class Ja extends Ma{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ga(this);const n=ct(t),r=t[Y]||null;r&&Vs(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=mo(t,e,[{provide:Ma,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Io.THROW_IF_NOT_FOUND,n=R.Default){return t===Io||t===Ma||t===uo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Za extends Fa{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,Xa.get(i),n),Xa.set(i,n));const o=Cr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ja(this.moduleType,t)}}function tu(t){return e=>{setTimeout(t,void 0,e)}}const eu=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=tu(u),a&&(a=tu(a)),c&&(c=tu(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function nu(){return this._results[Po()]()}class ru{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Po(),n=ru.prototype;n[e]||(n[e]=nu)}get changes(){return this._changes||(this._changes=new eu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class iu{constructor(t){this.queryList=t,this.matches=null}clone(){return new iu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ou{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ou(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==_u(t,e).matches&&this.queries[e].setDirty()}}class su{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class au{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new au(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class uu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new uu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,cu(e,i)),this.matchTNodeWithReadOption(t,e,He(e,t,i,!1,!1))}else n===Pa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,He(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ea||r===Ua||r===Pa&&4&e.type)this.addMatch(e.index,-2);else{const n=He(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function cu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function lu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Zs(t,e):4&t.type?La(t,e):null}(e,t):-2===n?function(t,e,n){return n===ea?Zs(e,t):n===Pa?La(e,t):n===Ua?za(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function hu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:lu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function du(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=hu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&du(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];du(n[1],n,i,r)}}}}}return r}function fu(t){const e=$t(),n=Bt(),r=ne();re(r+1);const i=_u(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?du(n,e,r,[]):hu(n,e,i,r);t.reset(o,na),t.notifyOnChanges()}return!0}return!1}function pu(t,e,n){const r=Bt();r.firstCreatePass&&(yu(r,new su(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),vu(r,$t(),e)}function gu(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=Ht();yu(i,new su(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}vu(i,$t(),n)}function mu(){return t=$t(),e=ne(),t[19].queries[e].queryList;var t,e}function vu(t,e,n){const r=new ru(4==(4&n));Oi(t,e,r,r.destroy),null===e[19]&&(e[19]=new ou),e[19].queries.push(new iu(r))}function yu(t,e,n){null===t.queries&&(t.queries=new au),t.queries.track(new uu(e,n))}function _u(t,e){return t.queries.getByIndex(e)}const bu=new nn("Application Initializer");let wu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Js,this.reject=Js,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Wo(e))t.push(e);else if(Yo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(wn(bu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Eu=new nn("AppId"),Tu={provide:Eu,useFactory:function(){return`${Iu()}${Iu()}${Iu()}`},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cu=new nn("Platform Initializer"),Su=new nn("Platform ID"),ku=new nn("appBootstrapListener");let Au=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const xu=new nn("LocaleId"),Nu=new nn("DefaultCurrencyCode");class Ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Pu=function(t){return new Za(t)},Ou=Pu,Du=function(t){return Promise.resolve(Pu(t))},Lu=function(t){const e=Pu(t),n=Cr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new Ya(n)),t},[]);return new Ru(e,n)},Mu=Lu,Fu=function(t){return Promise.resolve(Lu(t))};let ju=(()=>{class t{constructor(){this.compileModuleSync=Ou,this.compileModuleAsync=Du,this.compileModuleAndAllComponentsSync=Mu,this.compileModuleAndAllComponentsAsync=Fu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Uu=(()=>Promise.resolve(0))();function Vu(t){"undefined"==typeof Zone?Uu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eu(!1),this.onMicrotaskEmpty=new eu(!1),this.onStable=new eu(!1),this.onError=new eu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zu(t),t.isCheckStableRunning=!0,Bu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Hu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Gu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Hu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Gu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,zu(t),Bu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,$u,Js,Js);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const $u={};function Bu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Hu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gu(t){t._nesting--,Bu(t)}class Wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eu,this.onMicrotaskEmpty=new eu,this.onStable=new eu,this.onError=new eu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ku=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qu.assertNotInAngularZone(),Vu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(wn(qu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t{constructor(){this._applications=new Map,Zu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Zu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Qu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Xu(t){Zu=t}let Ju,Zu=new Qu,tc=!0,ec=!1;function nc(){return ec=!0,tc}function rc(){if(ec)throw new Error("Cannot enable prod mode after platform setup.");tc=!1}const ic=new nn("AllowMultipleToken");class oc{constructor(t,e){this.name=t,this.token=e}}function sc(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let o=ac();if(!o||o.injector.get(ic,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:lo,useValue:"platform"});!function(t){if(Ju&&!Ju.destroyed&&!Ju.injector.get(ic,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ju=t.get(uc);const e=t.get(Cu,null);e&&e.forEach(t=>t())}(Io.create({providers:t,name:r}))}return function(t){const e=ac();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ac(){return Ju&&!Ju.destroyed?Ju:null}let uc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Wu:("zone.js"===t?void 0:t)||new qu({enableLongStackTrace:nc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:qu,useValue:n}];return n.run(()=>{const e=Io.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Tr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{hc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Wo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(wu);return t.runInitializers(),t.donePromise.then(()=>(Vs(i.injector.get(xu,js)||js),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=cc({},e);return function(t,e,n){const r=new Za(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(lc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(wn(Io))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function cc(t,e){return Array.isArray(e)?e.reduce(cc,t):Object.assign(Object.assign({},t),e)}let lc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{qu.assertNotInAngularZone(),Vu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,h.pipe(t=>{return(0,u.x)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ys?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ma),i=n.create(Io.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Ku,null),a=s&&i.injector.get(Yu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),hc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;hc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ku,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(wn(qu),wn(Io),wn(Tr),wn(Xs),wn(wu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function hc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dc{}class fc{}const pc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||pc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>mc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>mc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(wn(ju),wn(fc,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function mc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const vc=function(t){return null},yc=sc(null,"core",[{provide:Su,useValue:"unknown"},{provide:uc,deps:[Io]},{provide:Yu,deps:[]},{provide:Au,deps:[]}]),_c=[{provide:lc,useClass:lc,deps:[qu,Io,Tr,Xs,wu]},{provide:Ka,deps:[qu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:wu,useClass:wu,deps:[[new Cn,bu]]},{provide:ju,useClass:ju,deps:[]},Tu,{provide:ba,useFactory:function(){return xa},deps:[]},{provide:Ea,useFactory:function(){return Na},deps:[]},{provide:xu,useFactory:function(t){return Vs(t=t||"undefined"!=typeof $localize&&$localize.locale||js),t},deps:[[new In(xu),new Cn,new Sn]]},{provide:Nu,useValue:"USD"}];let bc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(wn(lc))},t.\u0275mod=rt({type:t}),t.\u0275inj=T({providers:_c}),t})()},5912:(t,e,n)=>{"use strict";n.d(e,{zQ:()=>R,ww:()=>P});var r=n(7368),i=n(5959),o=n(878),s=n(8318),a=n(9764),u=n(1906),c=n(8489),l=n(7570),h=n(9098),d=n(3895),f=n(9291);class p extends i.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new g(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new d.N;if(this.isStopped||this.hasError?o=l.w.EMPTY:(this.observers.push(t),o=new f.W(this,t)),r&&t.add(t=new h.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||c.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class g{constructor(t,e){this.time=t,this.value=e}}function m(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new p(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}var v=n(4689);function y(t,e){return e?(0,v.w)(()=>t,e):(0,v.w)(()=>t)}var _=n(9996),b=n(3530),w=n(4187),E=n(3835),T=n(4474),I=n(1116);const C=new r.OlP("angularfire2.auth.use-emulator"),S=new r.OlP("angularfire2.auth.settings"),k=new r.OlP("angularfire2.auth.tenant-id"),A=new r.OlP("angularfire2.auth.langugage-code"),x=new r.OlP("angularfire2.auth.use-device-language"),N=new r.OlP("angularfire.auth.persistence");let R=(()=>{class t{constructor(t,e,r,c,l,d,f,p,g,C){const S=new T.HU(c),k=(0,T.ss)(S),A=new i.xQ,x=(0,o.of)(void 0).pipe((0,h.QV)(S.outsideAngular),(0,v.w)(()=>c.runOutsideAngular(()=>n.e(9781).then(n.bind(n,9781)))),(0,_.U)(()=>(0,T.on)(t,c,e)),(0,_.U)(t=>c.runOutsideAngular(()=>{const e=l,n=d;return(0,T.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=c.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),f&&(r.tenantId=f),r.languageCode=p,g&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return C&&r.setPersistence(C),r},[e,f,p,g,n,C])})),m({bufferSize:1,refCount:!1}));if((0,I.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,o.of)(null);else{x.pipe((0,b.P)()).subscribe();const t=x.pipe((0,v.w)(t=>t.getRedirectResult().then(t=>t,()=>null)),k,m({bufferSize:1,refCount:!1})),e=t=>new s.y(e=>({unsubscribe:c.runOutsideAngular(()=>t(e))})),n=x.pipe((0,v.w)(t=>e(t.onAuthStateChanged.bind(t)))),r=x.pipe((0,v.w)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(y(n),(0,w.R)(S.outsideAngular),(0,h.QV)(S.insideAngular)),this.user=t.pipe(y(r),(0,w.R)(S.outsideAngular),(0,h.QV)(S.insideAngular)),this.idToken=this.user.pipe((0,v.w)(t=>t?(0,a.D)(t.getIdToken()):(0,o.of)(null))),this.idTokenResult=this.user.pipe((0,v.w)(t=>t?(0,a.D)(t.getIdTokenResult()):(0,o.of)(null))),this.credential=(0,u.T)(t,A,this.authState.pipe((0,E.h)(t=>!t))).pipe((0,_.U)(t=>(null==t?void 0:t.user)?t:null),(0,w.R)(S.outsideAngular),(0,h.QV)(S.insideAngular))}return(0,T.pX)(this,x,c,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>A.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(T.Dh),r.LFG(T.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(C,8),r.LFG(S,8),r.LFG(k,8),r.LFG(A,8),r.LFG(x,8),r.LFG(N,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(T.Dh),r.LFG(T.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(C,8),r.LFG(S,8),r.LFG(k,8),r.LFG(A,8),r.LFG(x,8),r.LFG(N,8))},token:t,providedIn:"any"}),t})();(0,T.GT)(R,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[R]}),t})()},4474:(t,e,n)=>{"use strict";n.d(e,{hO:()=>k,xv:()=>w,Dh:()=>b,HU:()=>g,GT:()=>_,sI:()=>C,on:()=>T,ss:()=>m,pX:()=>y});var r=n(8277);const i=new(n(1098).v)(r.o);var o=n(8489),s=n(6599),a=n(4187),u=n(9098),c=n(7368),l=n(1062),h="8.8.0";function d(){}l.default.registerVersion("firebase",h,"app"),l.default.SDK_VERSION=h,t=n.hmd(t);class f{constructor(t,e=o.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class p{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",d,{},d,d)),e.pipe((0,s.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class g{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new f(Zone.current)),this.insideAngular=t.run(()=>new f(Zone.current,i))}}function m(t){return function(e){return(e=e.lift(new p(t.ngZone))).pipe((0,a.R)(t.outsideAngular),(0,u.QV)(t.insideAngular))}}const v=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),_=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.OlP("angularfire2.app.options"),w=new c.OlP("angularfire2.app.nameOrConfig"),E=new c.GfV("6.1.5");function T(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=l.default.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.default.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const I=(t,...e)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:T,deps:[b,c.R0b,[new c.FiY,w]]};let k=(()=>{class t{constructor(t){l.default.registerVersion("angularfire",E.full,t.toString()),l.default.registerVersion("angular",c.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:w,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(c.Lbi))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[S]}),t})()},1462:(t,e,n)=>{"use strict";n.d(e,{u5:()=>et,nD:()=>Z,JU:()=>f,a5:()=>N,JJ:()=>R,On:()=>Q});var r=n(7368),i=n(1116),o=n(8318),s=n(8470),a=n(9996),u=n(2056),c=n(9764);function l(t,e){return new o.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,c.D)(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let h=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),d=(()=>{class t extends h{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const f=new r.OlP("NgValueAccessor"),p={provide:f,useExisting:(0,r.Gpc)(()=>m),multi:!0},g=new r.OlP("CompositionEventMode");let m=(()=>{class t extends h{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=(0,i.q)()?(0,i.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(g,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([p]),r.qOj]}),t})();const v=new r.OlP("NgValidators"),y=new r.OlP("NgAsyncValidators");function _(t){return null}function b(t){return null!=t}function w(t){const e=(0,r.QGY)(t)?(0,c.D)(t):t;return(0,r.CqO)(e),e}function E(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function T(t,e){return e.map(e=>e(t))}function I(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function C(t){return null!=t?function(t){if(!t)return null;const e=t.filter(b);return 0==e.length?null:function(t){return E(T(t,e))}}(I(t)):null}function S(t){return null!=t?function(t){if(!t)return null;const e=t.filter(b);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,s.k)(e))return l(e,null);if((0,u.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&(0,s.k)(t[0])?t[0]:t,null).pipe((0,a.U)(t=>e(...t)))}return l(t,null)}(T(t,e).map(w)).pipe((0,a.U)(E))}}(I(t)):null}function k(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let A=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=C(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),x=(()=>{class t extends A{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class N extends A{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let R=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(N,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function P(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const L="VALID",M="INVALID",F="PENDING",j="DISABLED";function U(t){return(B(t)?t.validators:t)||null}function V(t){return Array.isArray(t)?C(t):t||null}function q(t,e){return(B(e)?e.asyncValidators:t)||null}function $(t){return Array.isArray(t)?S(t):t||null}function B(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class z{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=V(this._rawValidators),this._composedAsyncValidatorFn=$(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===L}get invalid(){return this.status===M}get pending(){return this.status==F}get disabled(){return this.status===j}get enabled(){return this.status!==j}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=V(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=F,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=j,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=L,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==L&&this.status!==F||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j:L}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=F,this._hasOwnPendingAsyncValidator=!0;const e=w(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof G?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof W&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?j:this.errors?M:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(F)?F:this._anyControlsHaveStatus(M)?M:L}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){B(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class H extends z{constructor(t=null,e,n){super(U(e),q(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){D(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){D(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class G extends z{constructor(t,e,n){super(U(e),q(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof H?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class W extends z{constructor(t,e,n){super(U(e),q(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof H?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const K={provide:N,useExisting:(0,r.Gpc)(()=>Q)},Y=(()=>Promise.resolve(null))();let Q=(()=>{class t extends N{constructor(t,e,n,i){super(),this.control=new H,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===m?n=t:Object.getPrototypeOf(t.constructor)===d?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(k(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(k(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();P(e._rawValidators,i),P(e._rawAsyncValidators,i)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&O(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&O(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Y.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Y.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(x,9),r.Y36(v,10),r.Y36(y,10),r.Y36(f,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([K]),r.qOj,r.TTD]}),t})(),X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const J={provide:v,useExisting:(0,r.Gpc)(()=>Z),multi:!0};let Z=(()=>{class t{constructor(){this._validator=_}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){var t;this._validator=(t="number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10),e=>{return null!=(n=e.value)&&"number"==typeof n.length&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null;var n})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.uIk("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r._Bn([J]),r.TTD]}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[X]]}),t})(),et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[tt]}),t})()},9624:(t,e,n)=>{"use strict";n.d(e,{b2:()=>j,H7:()=>O,q6:()=>M});var r=n(1116),i=n(7368);class o extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s extends o{static makeCurrent(){(0,r.HT)(new s)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(u=u||document.querySelector("base"),u?u.getAttribute("href"):null);return null==e?null:function(t){a=a||document.createElement("a"),a.setAttribute("href",t);const e=a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,r.Mx)(document.cookie,t)}}let a,u=null;const c=new i.OlP("TRANSITION_ID"),l=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?(0,r.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let d=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const f=new i.OlP("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(f),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class g{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(y),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(y))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function y(t){(0,r.q)().remove(t)}const _={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?w(t,i,n):(i=i.replace(b,t),n.push(i))}return n}function E(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let T=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new I(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=w(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(p),i.LFG(v),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class I{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(_[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=_[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=_[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,E(n)):this.eventManager.addEventListener(t,e,E(n))}}class C extends I{constructor(t,e,n,r){super(t),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class S extends I{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=w(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let k=(()=>{class t extends g{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const A=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},R={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let P=(()=>{class t extends g{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const o=t.parseEventName(n),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(A.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&N.hasOwnProperty(e)&&(e=N[e]))}return x[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,R[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(L)},token:t,providedIn:"root"}),t})();function D(t){return new L(t.get(r.K0))}let L=(()=>{class t extends O{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.q3G.NONE:return e;case i.q3G.HTML:return(0,i.qzn)(e,"HTML")?(0,i.z3N)(e):(0,i.EiD)(this._doc,String(e)).toString();case i.q3G.STYLE:return(0,i.qzn)(e,"Style")?(0,i.z3N)(e):e;case i.q3G.SCRIPT:if((0,i.qzn)(e,"Script"))return(0,i.z3N)(e);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(e),(0,i.qzn)(e,"URL")?(0,i.z3N)(e):(0,i.mCW)(String(e));case i.q3G.RESOURCE_URL:if((0,i.qzn)(e,"ResourceURL"))return(0,i.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=(0,i.Yz7)({factory:function(){return D((0,i.LFG)(i.gxx))},token:t,providedIn:"root"}),t})();const M=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),F=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:f,useClass:k,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:f,useClass:P,multi:!0,deps:[r.K0]},[],{provide:T,useClass:T,deps:[p,v,i.AFp]},{provide:i.FYo,useExisting:T},{provide:m,useExisting:v},{provide:v,useClass:v,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:p,useClass:p,deps:[f,i.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let j=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:c,useExisting:i.AFp},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:F,imports:[r.ez,i.hGG]}),t})();"undefined"!=typeof window&&window},4174:(t,e,n)=>{"use strict";n.d(e,{gz:()=>se,y6:()=>Tn,OD:()=>tt,eC:()=>mt,wm:()=>Mn,wN:()=>yn,F0:()=>Nn,rH:()=>Rn,Bz:()=>zn,Hx:()=>Ft});var r=n(1116),i=n(7368),o=n(6163),s=n(8470),a=n(6673);class u extends a.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class c extends a.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var l=n(6015),h=n(8318);function d(t,e,n,r,i=new c(t,n,r)){if(!i.closed)return e instanceof h.y?e.subscribe(i):(0,l.s)(e)(i)}var f=n(9342);const p={};class g{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new m(t,this.resultSelector))}}class m extends u{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(p),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(d(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===p?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var v=n(878),y=n(7471);function _(...t){return(0,y.J)(1)((0,v.of)(...t))}var b=n(9764),w=n(653);function E(t){return new h.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,b.D)(n):(0,w.c)()).subscribe(e)})}var T=n(8512),I=n(9665),C=n(2875),S=n(5959);function k(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new A(t,e,n))}}class A{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new x(t,this.accumulator,this.seed,this.hasSeed))}}class x extends a.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var N=n(6882);function R(t){return function(e){const n=new P(t),r=e.lift(n);return n.caught=r}}class P{constructor(t){this.selector=t}call(t,e){return e.subscribe(new O(t,this.selector,this.caught))}}class O extends N.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new N.IY(this);this.add(r);const i=(0,N.ft)(n,r);i!==r&&this.add(i)}}}var D=n(3835),L=n(8402);function M(t){return function(e){return 0===t?(0,w.c)():e.lift(new F(t))}}class F{constructor(t){if(this.total=t,this.total<0)throw new L.W}call(t,e){return e.subscribe(new j(t,this.total))}}class j extends a.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var U=n(790),V=n(7768),q=n(3392),$=n(7570);class B{constructor(t){this.callback=t}call(t,e){return e.subscribe(new z(t,this.callback))}}class z extends a.L{constructor(t,e){super(t),this.add(new $.w(e))}}var H=n(9996),G=n(4689),W=n(611),K=n(436),Y=n(3530),Q=n(3982),X=n(6599),J=n(1564);class Z{constructor(t,e){this.id=t,this.url=e}}class tt extends Z{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class et extends Z{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nt extends Z{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rt extends Z{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class it extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends Z{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class at extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ht{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class vt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yt(t){return new vt(t)}function _t(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function bt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wt(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Et(t[i],e[i]))return!1;return!0}function Et(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Tt(t){return Array.prototype.concat.apply([],t)}function It(t){return t.length>0?t[t.length-1]:null}function Ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function St(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,b.D)(Promise.resolve(t)):(0,v.of)(t)}const kt={exact:function t(e,n,r){if(!Mt(e.segments,n.segments))return!1;if(!Pt(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Nt},At={exact:function(t,e){return wt(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Et(t[n],e[n]))},ignored:()=>!0};function xt(t,e,n){return kt[n.paths](t.root,e.root,n.matrixParams)&&At[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Nt(t,e,n){return Rt(t,e,e.segments,n)}function Rt(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Mt(i,n)&&!e.hasChildren()&&!!Pt(i,n,r)}if(t.segments.length===n.length){if(!Mt(t.segments,n))return!1;if(!Pt(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Nt(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Mt(t.segments,i)&&!!Pt(t.segments,i,r)&&!!t.children[mt]&&Rt(t.children[mt],e,o,r)}}function Pt(t,e,n){return e.every((e,r)=>At[n](t[r].parameters,e.parameters))}class Ot{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return Ut.serialize(this)}}class Dt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ct(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vt(this)}}class Lt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return Wt(this)}}function Mt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ft{}class jt{parse(t){const e=new Jt(t);return new Ot(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${qt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Bt(e)}=${Bt(t)}`).join("&"):`${Bt(e)}=${Bt(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Ut=new jt;function Vt(t){return t.segments.map(t=>Wt(t)).join("/")}function qt(t,e){if(!t.hasChildren())return Vt(t);if(e){const e=t.children[mt]?qt(t.children[mt],!1):"",n=[];return Ct(t.children,(t,e)=>{e!==mt&&n.push(`${e}:${qt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ct(t.children,(t,r)=>{r===mt&&(n=n.concat(e(t,r)))}),Ct(t.children,(t,r)=>{r!==mt&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===mt?[qt(t.children[mt],!1)]:[`${n}:${qt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[mt]?`${Vt(t)}/${e[0]}`:`${Vt(t)}/(${e.join("//")})`}}function $t(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bt(t){return $t(t).replace(/%3B/gi,";")}function zt(t){return $t(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ht(t){return decodeURIComponent(t)}function Gt(t){return Ht(t.replace(/\+/g,"%20"))}function Wt(t){return`${zt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zt(t)}=${zt(e[t])}`).join("")}`;var e}const Kt=/^[^\/()?;=#]+/;function Yt(t){const e=t.match(Kt);return e?e[0]:""}const Qt=/^[^=?&#]+/,Xt=/^[^?&#]+/;class Jt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[mt]=new Dt(t,e)),n}parseSegment(){const t=Yt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Lt(Ht(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Yt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Yt(this.remaining);t&&(n=t,this.capture(n))}t[Ht(e)]=Ht(n)}parseQueryParam(t){const e=function(t){const e=t.match(Qt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Xt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Gt(e),i=Gt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Yt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=mt);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[mt]:new Dt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Zt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=te(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=te(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ee(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ee(t,this._root).map(t=>t.value)}}function te(t,e){if(t===e.value)return e;for(const n of e.children){const e=te(t,n);if(e)return e}return null}function ee(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ee(t,n);if(r.length)return r.unshift(e),r}return[]}class ne{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function re(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ie extends Zt{constructor(t,e){super(t),this.snapshot=e,le(this,t)}toString(){return this.snapshot.toString()}}function oe(t,e){const n=function(t,e){const n=new ue([],{},{},"",{},mt,e,null,t.root,-1,{});return new ce("",new ne(n,[]))}(t,e),r=new T.X([new Lt("",{})]),i=new T.X({}),o=new T.X({}),s=new T.X({}),a=new T.X(""),u=new se(r,i,s,a,o,mt,e,n.root);return u.snapshot=n.root,new ie(new ne(u,[]),n)}class se{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,H.U)(t=>yt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,H.U)(t=>yt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ae(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ue{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ce extends Zt{constructor(t,e){super(e),this.url=t,le(this,e)}toString(){return he(this._root)}}function le(t,e){e.value._routerState=t,e.children.forEach(e=>le(t,e))}function he(t){const e=t.children.length>0?` { ${t.children.map(he).join(", ")} } `:"";return`${t.value}${e}`}function de(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function fe(t,e){var n,r;return wt(t.params,e.params)&&Mt(n=t.url,r=e.url)&&n.every((t,e)=>wt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||fe(t.parent,e.parent))}function pe(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return pe(t,e,r);return pe(t,e)})}(t,e,n);return new ne(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ge(e,t),t}}const n=new se(new T.X((r=e.value).url),new T.X(r.params),new T.X(r.queryParams),new T.X(r.fragment),new T.X(r.data),r.outlet,r.component,r),i=e.children.map(e=>pe(t,e));return new ne(n,i)}var r}function ge(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ge(t.children[n],e.children[n])}function me(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ve(t){return"object"==typeof t&&null!=t&&t.outlets}function ye(t,e,n,r,i){let o={};return r&&Ct(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Ot(n.root===t?e:_e(n.root,t,e),o,i)}function _e(t,e,n){const r={};return Ct(t.children,(t,i)=>{r[i]=t===e?n:_e(t,e,n)}),new Dt(t.segments,r)}class be{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&me(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ve);if(r&&r!==It(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class we{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ee(t,e,n){if(t||(t=new Dt([],{})),0===t.segments.length&&t.hasChildren())return Te(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ve(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!ke(a,u,e))return o;r+=2}else{if(!ke(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Dt(t.segments.slice(0,r.pathIndex),{});return e.children[mt]=new Dt(t.segments.slice(r.pathIndex),t.children),Te(e,0,i)}return r.match&&0===i.length?new Dt(t.segments,{}):r.match&&!t.hasChildren()?Ie(t,e,n):r.match?Te(t,0,i):Ie(t,e,n)}function Te(t,e,n){if(0===n.length)return new Dt(t.segments,{});{const r=function(t){return ve(t[0])?t[0].outlets:{[mt]:t}}(n),i={};return Ct(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ee(t.children[r],e,n))}),Ct(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Dt(t.segments,i)}}function Ie(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ve(o)){const t=Ce(o.outlets);return new Dt(r,t)}if(0===i&&me(n[0])){r.push(new Lt(t.segments[e].path,Se(n[0]))),i++;continue}const s=ve(o)?o.outlets[mt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&me(a)?(r.push(new Lt(s,Se(a))),i+=2):(r.push(new Lt(s,{})),i++)}return new Dt(r,{})}function Ce(t){const e={};return Ct(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Ie(new Dt([],{}),0,t))}),e}function Se(t){const e={};return Ct(t,(t,n)=>e[n]=`${t}`),e}function ke(t,e,n){return t==n.path&&wt(e,n.parameters)}class Ae{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),de(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=re(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ct(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=re(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=re(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new pt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dt(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(de(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),xe(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function xe(t){de(t.value),t.children.forEach(xe)}class Ne{constructor(t,e){this.routes=t,this.module=e}}function Re(t){return"function"==typeof t}function Pe(t){return t instanceof Ot}const Oe=Symbol("INITIAL_VALUE");function De(){return(0,G.w)(t=>function(...t){let e,n;return(0,o.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,s.k)(t[0])&&(t=t[0]),(0,f.n)(t,n).lift(new g(e))}(t.map(t=>t.pipe((0,W.q)(1),function(...t){const e=t[t.length-1];return(0,o.K)(e)?(t.pop(),n=>_(t,n,e)):e=>_(t,e)}(Oe)))).pipe(k((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Oe)return t;if(r===Oe&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Pe(r))return r}return t},t)},Oe),(0,D.h)(t=>t!==Oe),(0,H.U)(t=>Pe(t)?t:!0===t),(0,W.q)(1)))}let Le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[On]},encapsulation:2}),t})();function Me(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Fe(r,je(e,r))}}function Fe(t,e){t.children&&Me(t.children,e)}function je(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ue(t){const e=t.children&&t.children.map(Ue),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==mt&&(n.component=Le),n}function Ve(t){return t.outlet||mt}function qe(t,e){const n=t.filter(t=>Ve(t)===e);return n.push(...t.filter(t=>Ve(t)!==e)),n}const $e={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Be(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},$e):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bt)(n,t,e);if(!i)return Object.assign({},$e);const o={};Ct(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ze(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>He(t,e,n)&&Ve(n)!==mt)}(t,n,r)){const i=new Dt(e,function(t,e,n,r){const i={};i[mt]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ve(o)!==mt){const n=new Dt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ve(o)]=n}return i}(t,e,r,new Dt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>He(t,e,n))}(t,n,r)){const o=new Dt(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(He(t,n,a)&&!i[Ve(a)]){const n=new Dt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ve(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Dt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function He(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ge(t,e,n,r){return!!(Ve(t)===r||r!==mt&&He(e,n,t))&&("**"===t.path||Be(e,t,n).matched)}function We(t,e,n){return 0===e.length&&!t.children[n]}class Ke{constructor(t){this.segmentGroup=t||null}}class Ye{constructor(t){this.urlTree=t}}function Qe(t){return new h.y(e=>e.error(new Ke(t)))}function Xe(t){return new h.y(e=>e.error(new Ye(t)))}function Je(t){return new h.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ze{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=ze(this.urlTree.root,[],[],this.config).segmentGroup,e=new Dt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,mt).pipe((0,H.U)(t=>this.createUrlTree(tn(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(R(t=>{if(t instanceof Ye)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ke)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,mt).pipe((0,H.U)(e=>this.createUrlTree(tn(e),t.queryParams,t.fragment))).pipe(R(t=>{if(t instanceof Ke)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Dt([],{[mt]:t}):t;return new Ot(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,H.U)(t=>new Dt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,b.D)(r).pipe((0,K.b)(r=>{const i=n.children[r],o=qe(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,H.U)(t=>({segment:t,outlet:r})))}),k((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?(0,D.h)((e,n)=>t(e,n,r)):q.y,M(1),n?(0,V.d)(e):(0,U.T)(()=>new I.K))}())}expandSegment(t,e,n,r,i,o){return(0,b.D)(n).pipe((0,K.b)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(R(t=>{if(t instanceof Ke)return(0,v.of)(null);throw t}))),(0,Y.P)(t=>!!t),R((t,n)=>{if(t instanceof I.K||"EmptyError"===t.name){if(We(e,r,i))return(0,v.of)(new Dt([],{}));throw new Ke(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ge(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Qe(e):Qe(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xe(i):this.lineralizeSegments(n,i).pipe((0,Q.zg)(n=>{const i=new Dt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Be(e,r,i);if(!s)return Qe(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Xe(l):this.lineralizeSegments(r,l).pipe((0,Q.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,v.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,H.U)(t=>(n._loadedConfig=t,new Dt(r,{})))):(0,v.of)(new Dt(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Be(e,n,r);if(!o)return Qe(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,Q.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ze(e,s,u,o),l=new Dt(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,H.U)(t=>new Dt(s,t)));if(0===o.length&&0===c.length)return(0,v.of)(new Dt(s,{}));const h=Ve(n)===i;return this.expandSegment(r,l,o,c,h?mt:i,!0).pipe((0,H.U)(t=>new Dt(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,v.of)(new Ne(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,v.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Q.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,H.U)(t=>(e._loadedConfig=t,t))):function(t){return new h.y(e=>e.error(_t(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,v.of)(new Ne([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,v.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Re(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Re(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return St(o)});return(0,v.of)(i).pipe(De(),(0,X.b)(t=>{if(!Pe(t))return;const e=_t(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,H.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,v.of)(n);if(r.numberOfChildren>1||!r.children[mt])return Je(t.redirectTo);r=r.children[mt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ot(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ct(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ct(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Dt(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function tn(t){const e={};for(const n of Object.keys(t.children)){const r=tn(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children[mt]){const e=t.children[mt];return new Dt(t.segments.concat(e.segments),e.children)}return t}(new Dt(t.segments,e))}class en{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class nn{constructor(t,e){this.component=t,this.route=e}}function rn(t,e,n){const r=t._root;return sn(r,e?e._root:null,n,[r.value])}function on(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function sn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=re(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Mt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mt(t.url,e.url)||!wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fe(t,e)||!wt(t.queryParams,e.queryParams);case"paramsChange":default:return!fe(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new en(r)):(o.data=s.data,o._resolvedData=s._resolvedData),sn(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new nn(a.outlet.component,s))}else s&&an(e,a,i),i.canActivateChecks.push(new en(r)),sn(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ct(o,(t,e)=>an(t,n.getContext(e),i)),i}function an(t,e,n){const r=re(t),i=t.value;Ct(r,(t,r)=>{an(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new nn(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class un{}function cn(t){return new h.y(e=>e.error(t))}class ln{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ze(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,mt);if(null===e)return null;const n=new ue([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ne(n,e),i=new ce(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ae(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=qe(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=dn(n);return r.sort((t,e)=>t.value.outlet===mt?-1:e.value.outlet===mt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return We(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ge(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?It(n).parameters:{};i=new ue(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gn(t),Ve(t),t.component,t,fn(e),pn(e)+n.length,mn(t))}else{const r=Be(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new ue(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gn(t),Ve(t),t.component,t,fn(e),pn(e)+o.length,mn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ze(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new ne(i,t)]}if(0===a.length&&0===c.length)return[new ne(i,[])];const l=Ve(t)===r,h=this.processSegment(a,u,c,l?mt:r);return null===h?null:[new ne(i,h)]}}function hn(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dn(t){const e=[],n=new Set;for(const r of t){if(!hn(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=dn(r.children);e.push(new ne(r.value,t))}return e.filter(t=>!n.has(t))}function fn(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function gn(t){return t.data||{}}function mn(t){return t.resolve||{}}function vn(t){return(0,G.w)(e=>{const n=t(e);return n?(0,b.D)(n).pipe((0,H.U)(()=>e)):(0,v.of)(e)})}class yn{}class _n extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const bn=new i.OlP("ROUTES");class wn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,H.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ne(Tt(r.injector.get(bn,void 0,i.XFs.Self|i.XFs.Optional)).map(Ue),r)}),R(t=>{throw e._loader$=void 0,t}));return e._loader$=new C.c(n,()=>new S.xQ).pipe((0,J.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,b.D)(this.loader.load(t)):St(t()).pipe((0,Q.zg)(t=>t instanceof i.YKP?(0,v.of)(t):(0,b.D)(this.compiler.compileModuleAsync(t))))}}class En{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tn,this.attachRef=null}}class Tn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new En,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class In{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Cn(t){throw t}function Sn(t,e,n){return e.parse("/")}function kn(t,e){return(0,v.of)(null)}const An={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class t{constructor(t,e,n,r,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new S.xQ,this.errorHandler=Cn,this.malformedUriErrorHandler=Sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kn,afterPreactivation:kn},this.urlHandlingStrategy=new In,this.routeReuseStrategy=new _n,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);const c=o.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ot(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wn(s,a,t=>this.triggerEvent(new ct(t)),t=>this.triggerEvent(new lt(t))),this.routerState=oe(this.currentUrlTree,this.rootComponentType),this.transitions=new T.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe((0,D.h)(t=>0!==t.id),(0,H.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),(0,G.w)(t=>{let n=!1,r=!1;return(0,v.of)(t).pipe((0,X.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,G.w)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,v.of)(t).pipe((0,G.w)(t=>{const n=this.transitions.getValue();return e.next(new tt(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?w.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,(0,G.w)(t=>function(t,e,n,r,i){return new Ze(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,H.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,X.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,Q.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new ln(t,e,n,r,i,o).recognize();return null===s?cn(new un):(0,v.of)(s)}catch(s){return cn(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,H.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,X.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new it(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new tt(n,this.serializeUrl(r),i,o);e.next(a);const u=oe(r,this.rootComponentType).snapshot;return(0,v.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),w.E}),vn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,X.b)(t=>{const e=new ot(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,H.U)(t=>Object.assign(Object.assign({},t),{guards:rn(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Q.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,v.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,b.D)(t).pipe((0,Q.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,v.of)(!0);const s=o.map(o=>{const s=on(o,e,i);let a;if(function(t){return t&&Re(t.canDeactivate)}(s))a=St(s.canDeactivate(t,e,n,r));else{if(!Re(s))throw new Error("Invalid CanDeactivate guard");a=St(s(t,e,n,r))}return a.pipe((0,Y.P)())});return(0,v.of)(s).pipe(De())}(t.component,t.route,n,e,r)),(0,Y.P)(t=>!0!==t,!0))}(s,r,i,t).pipe((0,Q.zg)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return(0,b.D)(e).pipe((0,K.b)(e=>_(function(t,e){return null!==t&&e&&e(new ht(t)),(0,v.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ft(t)),(0,v.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>E(()=>{const i=e.guards.map(i=>{const o=on(i,e.node,n);let s;if(function(t){return t&&Re(t.canActivateChild)}(o))s=St(o.canActivateChild(r,t));else{if(!Re(o))throw new Error("Invalid CanActivateChild guard");s=St(o(r,t))}return s.pipe((0,Y.P)())});return(0,v.of)(i).pipe(De())}));return(0,v.of)(i).pipe(De())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,v.of)(!0);const i=r.map(r=>E(()=>{const i=on(r,e,n);let o;if(function(t){return t&&Re(t.canActivate)}(i))o=St(i.canActivate(e,t));else{if(!Re(i))throw new Error("Invalid CanActivate guard");o=St(i(e,t))}return o.pipe((0,Y.P)())}));return(0,v.of)(i).pipe(De())}(t,e.route,n))),(0,Y.P)(t=>!0!==t,!0))}(r,o,t,e):(0,v.of)(n)),(0,H.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,X.b)(t=>{if(Pe(t.guardsResult)){const e=_t(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new st(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),(0,D.h)(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),vn(t=>{if(t.guards.canActivateChecks.length)return(0,v.of)(t).pipe((0,X.b)(t=>{const e=new at(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,G.w)(t=>{let e=!1;return(0,v.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,Q.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,v.of)(t);let o=0;return(0,b.D)(i).pipe((0,K.b)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,v.of)({});const o={};return(0,b.D)(i).pipe((0,Q.zg)(i=>function(t,e,n,r){const i=on(t,e,r);return St(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,X.b)(t=>{o[i]=t}))),M(1),(0,Q.zg)(()=>Object.keys(o).length===i.length?(0,v.of)(o):w.E))}(t._resolve,t,e,r).pipe((0,H.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ae(t,n).resolve),null)))}(t.route,e,n,r)),(0,X.b)(()=>o++),M(1),(0,Q.zg)(e=>o===i.length?(0,v.of)(t):w.E))})),(0,X.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,X.b)(t=>{const e=new ut(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,H.U)(t=>{const e=function(t,e,n){const r=pe(t,e._root,n?n._root:void 0);return new ie(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,X.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,H.U)(t=>(new Ae(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,X.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},t=>t.lift(new B(i))),R(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Pe(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new nt(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new rt(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return w.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Me(t),this.config=t.map(Ue),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ye(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new be(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ct(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new be(n,e,r)}(n);if(o.toRoot())return ye(e.root,new Dt([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new we(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new we(t,t===e.root,0)}const r=me(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new we(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Te(s.segmentGroup,s.index,o.commands):Ee(s.segmentGroup,s.index,o.commands);return ye(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Pe(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},An):!1===e?Object.assign({},xn):e,Pe(t))return xt(this.currentUrlTree,t,n);const r=this.parseUrl(t);return xt(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new et(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new nt(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(Ft),i.LFG(Tn),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Rn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new S.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Nn),i.Y36(se),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})();function Pn(t){return""===t||!!t}let On=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Dn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Tn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Dn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===se?this.route:t===Tn?this.childContexts:this.parent.get(t,e)}}class Ln{}class Mn{preload(t,e){return e().pipe(R(()=>(0,v.of)(null)))}}class Fn{preload(t,e){return(0,v.of)(null)}}let jn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new wn(e,n,e=>t.triggerEvent(new ct(e)),e=>t.triggerEvent(new lt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,D.h)(t=>t instanceof et),(0,K.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,b.D)(n).pipe((0,y.J)(),(0,H.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,v.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,Q.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Nn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Ln))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Un=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof et&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Nn),i.LFG(r.EM),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Vn=new i.OlP("ROUTER_CONFIGURATION"),qn=new i.OlP("ROUTER_FORROOT_GUARD"),$n=[r.Ye,{provide:Ft,useClass:jt},{provide:Nn,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Nn(null,t,e,n,r,i,o,Tt(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Ft,Tn,r.Ye,i.zs3,i.v3s,i.Sil,bn,Vn,[class{},new i.FiY],[yn,new i.FiY]]},Tn,{provide:se,useFactory:function(t){return t.routerState.root},deps:[Nn]},{provide:i.v3s,useClass:i.EAV},jn,Fn,Mn,{provide:Vn,useValue:{enableTracing:!1}}];function Bn(){return new i.PXZ("Router",Nn)}let zn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[$n,Kn(e),{provide:qn,useFactory:Wn,deps:[[Nn,new i.FiY,new i.tp0]]},{provide:Vn,useValue:n||{}},{provide:r.S$,useFactory:Gn,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Vn]},{provide:Un,useFactory:Hn,deps:[Nn,r.EM,Vn]},{provide:Ln,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fn},{provide:i.PXZ,multi:!0,useFactory:Bn},[Yn,{provide:i.ip1,multi:!0,useFactory:Qn,deps:[Yn]},{provide:Jn,useFactory:Xn,deps:[Yn]},{provide:i.tb,multi:!0,useExisting:Jn}]]}}static forChild(e){return{ngModule:t,providers:[Kn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(qn,8),i.LFG(Nn,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function Hn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Un(t,e,n)}function Gn(t,e,n={}){return n.useHash?new r.Do(t,e):new r.b0(t,e)}function Wn(t){return"guarded"}function Kn(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:bn,multi:!0,useValue:t}]}let Yn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Nn),r=this.injector.get(Vn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,v.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Vn),n=this.injector.get(jn),r=this.injector.get(Un),o=this.injector.get(Nn),s=this.injector.get(i.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Qn(t){return t.appInitializer.bind(t)}function Xn(t){return t.bootstrapListener.bind(t)}const Jn=new i.OlP("Router Initializer")},6934:(t,e,n)=>{"use strict";var r=n(1062),i=n(5119),o=n(4762),s=n(250),a=n(308);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),d=new s.ErrorFactory("appCheck","AppCheck",h),f=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function m(t){return f.get(t)||p}function v(t,e){f.set(t,e)}function y(){return g}function _(){return self.grecaptcha}function b(t){if(!m(t).activated)throw d.create("use-before-activation",{appName:t.name})}function w(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return b(t),[4,m(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=m(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function E(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=m(t);v(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var T="https://content-firebaseappcheck.googleapis.com/v1beta",I=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function C(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,i,s,a,u,c,l,h,f,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw u=o.sent(),d.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==a.status)throw d.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return f=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+f,issuedAtTimeMillis:p}]}})})}function S(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function k(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var A="firebase-app-check-store",x="debug-token",N=null;function R(){return N||(N=new Promise(function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(d.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(A,{keyPath:"compositeKey"})}}}catch(r){e(d.create("storage-open",{originalErrorMessage:r.message}))}}))}function P(t){return D(L(t))}function O(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,R()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),s=i.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(d.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function D(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,R()];case 1:return e=o.sent(),n=e.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(t),[2,new Promise(function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(d.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function L(t){return t.options.appId+"-"+t.name}var M=new a.Logger("@firebase/app-check");function F(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,P(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),M.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function j(t,e){return s.isIndexedDBAvailable()?function(t,e){return O(L(t),e)}(t,e).catch(function(t){M.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=y()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var V={error:"UNKNOWN_ERROR"};function q(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,a,u,c,l,h,f,p,g,_,E,T,I;return o.__generator(this,function(A){switch(A.label){case 0:return b(t),r=m(t),a=void 0,(i=r.token)?[3,2]:[4,F(t)];case 1:(u=A.sent())&&H(u)&&(i=u,v(t,o.__assign(o.__assign({},r),{token:i})),z(t,{token:i.token})),A.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:y().enabled?(l=C,h=k,f=[t],[4,U()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,f.concat([A.sent()])),e])];case 4:return c=A.sent(),[4,j(t,c)];case 5:return A.sent(),v(t,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return A.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=A.sent(),g=s.issuedAtTime(p.token),_=null!==g&&g<Date.now()&&g>0?1e3*g:Date.now(),i=o.__assign(o.__assign({},p),{issuedAtTimeMillis:_}),[3,11];case 8:return[4,w(t).catch(function(t){throw d.create("recaptcha-error")})];case 9:return E=A.sent(),[4,C(S(t,E),e)];case 10:i=A.sent(),A.label=11;case 11:return[3,13];case 12:return T=A.sent(),M.error(T),a=T,[3,13];case 13:return i?[3,14]:(I=function(t){return{token:(e=V,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,16]);case 14:return I={token:i.token},v(t,o.__assign(o.__assign({},r),{token:i})),[4,j(t,i)];case 15:A.sent(),A.label=16;case 16:return z(t,I),[2,I]}})})}function $(t,e,n,r,i){var s=m(t),a={next:r,error:i,type:n},u=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!u.tokenRefresher){var c=function(t,e){var n=this;return new I(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return m(t).token?[3,2]:[4,q(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,q(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=m(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(t,e);u.tokenRefresher=c}if(u.tokenRefresher.isRunning()||!0!==s.isTokenAutoRefreshEnabled||u.tokenRefresher.start(),s.token&&H(s.token)){var l=s.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}v(t,u)}function B(t,e){var n=m(t),r=n.tokenObservers.filter(function(t){return t.next!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function z(t,e){for(var n=0,r=m(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function H(t){return t.expireTimeMillis-Date.now()>0}var G="app-check-internal";!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,n){return function(t,e,n){var r=m(t);if(r.activated)throw d.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,v(t,i),i.siteKey&&function(t,e){var n=m(t),r=new s.Deferred;v(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var u,c,l=_();return l?l.ready(function(){E(t,e,l,i),r.resolve(l)}):(u=function(){var n=_();if(!n)throw new Error("no recaptcha");n.ready(function(){E(t,e,n,i),r.resolve(n)})},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(t,i.siteKey).catch(function(){})}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=m(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),v(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,q(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(e,n,t)},onTokenChanged:function(t,r,i){return function(t,e,n,r,i){var o,s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),$(t,e,"EXTERNAL",o,s),function(){return B(t,o)}}(e,n,t,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++)B(e,n[t].next);return Promise.resolve()}}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider(G).initialize()})),t.INTERNAL.registerComponent(new i.Component(G,function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return q(e,n,t)},addTokenListener:function(t){return $(e,n,"INTERNAL",t)},removeTokenListener:function(t){return B(e,t)}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.2.0")}(l.default),function(){var t=s.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new s.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,D(x)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),O(x,r)).catch(function(t){return M.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r})})}())}}()},1062:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>w,firebase:()=>b});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.deepCopy)(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.contains)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.contains)(e,t=t||d))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.deepExtend)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.__assign)((0,o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.deepExtend)(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var b=m;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(b);const w=b},9738:(t,e,n)=>{"use strict";var r=n(1062);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Ra(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function S(t,e,n){this.code=x+t,this.message=e||N[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new S(e.substring(x.length),t.message,t.serverResponse):null}I(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var A,x="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}A=P("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new F(function(){return new $},function(t){t.reset()});function q(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function $(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},$.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},$.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=B(t,e)}function Y(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ut(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function _t(t,e){this.a=t===Tt&&e||"",this.b=Et}function bt(t){return t instanceof _t&&t.constructor===_t&&t.b===Et?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}_t.prototype.ta=!0,_t.prototype.sa=function(){return this.a},_t.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Et={},Tt={};function It(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function Ct(t,e){this.a=e===Nt?t:""}function St(t){return t instanceof Ct&&t.constructor===Ct?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=bt(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Ct(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof _t?bt(t):encodeURIComponent(String(t))}))}Ct.prototype.ta=!0,Ct.prototype.sa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function Rt(t,e){this.a=e===jt?t:""}function Pt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Rt.prototype.ta=!0,Rt.prototype.sa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t))t=new Rt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Ot.test(e[1])?new Rt(t,jt):null}return t}function Ft(t){return t instanceof Rt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,jt))}var jt={},Ut=new Rt("about:invalid#zClosurez",jt);function Vt(t,e,n){this.a=n===qt?t:""}Vt.prototype.ta=!0,Vt.prototype.sa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function $t(t,e,n,r){return t=t instanceof Rt?t:Ft(t),e=e||a,n=n instanceof _t?bt(n):n||"",e.open(Pt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=h;var Gt,Wt,Kt=dt("Opera"),Yt=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Xt=Qt||Yt,Jt=dt("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Wt):Qt?/Edge\/([\d\.]+)/.exec(Wt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):Kt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Yt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Yt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(_e)}}else he=function(){var t=_e;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),ye.add(t,e)}var ve=!1,ye=new U;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){ge(e)}j(V,t)}ve=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){De(n,Ee,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Te,t)})}catch(r){De(this,Te,r)}}var we=0,Ee=2,Te=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new F(function(){return new Ie},function(t){t.reset()});function Se(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof be)return t;var e=new be(h);return De(e,Ee,t),e}function Ae(t){return new be(function(e,n){n(t)})}function xe(t,e,n){Le(t,e,n,null)||me(E(e,t))}function Ne(t){return new be(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],E(i,o,!0),E(i,o,!1));else e(r)})}function Re(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),je(n,i,Te,e)))}t.c=null}else De(t,Te,e)}function Pe(t,e){t.b||t.a!=Ee&&t.a!=Te||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Se(null,null,null);return i.a=new be(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Pe(t,i),i.a}function De(t,e,n){t.a==we&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Te||n instanceof qe||function(t,e){t.g=!0,me(function(){t.g&&Ve.call(null,e)})}(t,n)))}function Le(t,e,n,r){if(t instanceof be)return Pe(t,Se(e||h,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,me(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Ve.call(null,i)}j(Ce,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Oe(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new qe(t);me(function(){Re(this,e)},this)}},t.$c=function(t){this.a=we,De(this,Ee,t)},t.ad=function(t){this.a=we,De(this,Te,t)},t.gc=function(){for(var t;t=Fe(this);)je(this,t,this.a,this.i);this.h=!1};var Ve=ge;function qe(t){D.call(this,t)}function $e(){0!=Be&&(ze[m(this)]=this),this.ya=this.ya,this.pa=this.pa}I(qe,D),qe.prototype.name="cancel";var Be=0,ze={};function He(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Be)){var e=m(t);if(0!=Be&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}$e.prototype.ya=!1,$e.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},We=!Yt||9<=Number(se),Ke=Yt&&!oe("9"),Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Xe,Qe);var Je=Ge({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=bn(n),t&&t[Ze]?En(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=yn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=bn(n),t&&t[Ze]?Tn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=bn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function vn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Xe(e,this))}function yn(t){return(t=t[an])instanceof rn?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return p(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function wn(){$e.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function En(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Tn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Sn(t){var e=null;return new be(function(n,r){-1==(e=Cn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function kn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(wn,$e),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;vt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=xn.prototype).X=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof On?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,Mn(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Ln(this,n[4]),this.f=qn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Dn(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=$n(e,Wn)),t.b=new Yn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Un(t){return t instanceof On?new On(t):new On(t,void 0)}function Vn(t,e,n,r){var i=new On(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Ln(i,n),r&&(i.f=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $n(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.c;e&&t.push($n(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push($n(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push($n(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",$n(n,Kn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Mn(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=kn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Qn(t),e=nr(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Zn(t,e){return Qn(t),e=nr(t,e),Rn(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){Qn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=X(e,this.a.get(nr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Zn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=xr();return Yt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(Mt(t)||Ut)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Sr(xr())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Mt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:Ft(e),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=$t("",r,n,s),t=Pt(e),s&&(Xt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Vt(t=(r=It())?r.createHTML(t):t,null,qt),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=$t(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new be(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function _r(t){return t=t||xr(),!("file:"!==Dr()&&"ionic:"!==Dr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Er(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Tr(){var t=Er();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Cr="Chrome";function Sr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Ir:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Cr:"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Sr(i=xr()):"Worker"===r&&(r=Sr(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return a.navigator&&a.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=a.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return wr()&&!!a.indexedDB}return!1}function Pr(){return(Or()||"chrome-extension:"===Dr()||_r())&&!Tr()&&Rr()&&!wr()}function Or(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return a.location&&a.location.protocol||null}function Lr(t){return!fr(t=t||xr())&&Sr(t)!=Ir}function Mr(t){return void 0===t?null:rr(t)}function Fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Sr(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function $r(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Er(),this.b=fr(t)||"ReactNative"===e}function Br(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}$r.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Dr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Wr={};function Kr(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Yr.abcd}catch(Wt){Gr=!1}function Qr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Jr(t){var e={};return Xr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ii]),Qr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Qr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[fi],i=t[pi];if(t=ei(t[di]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[yi]=n||null,e[gi]=r):(e[mi]=r||null,e[yi]=r||null,e[gi]=n||null),e[vi]=t||null,Qr(this,bi,i),Qr(this,_i,Zr(e))}I(si,ti),si.prototype.w=function(){var t=si.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",di="mfaInfo",fi="newEmail",pi="requestType",gi="email",mi="fromEmail",vi="multiFactorInfo",yi="previousEmail",_i="data",bi="operation";function wi(t){var e=jn(t=Un(t),Ei)||null,n=jn(t,Ti)||null,r=jn(t,Si)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new S("argument-error",Ei+", "+Ti+"and "+Si+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Ii)||null,languageCode:jn(t,Ci)||null,tenantId:jn(t,ki)||null})}var Ei="apiKey",Ti="oobCode",Ii="continueUrl",Ci="languageCode",Si="mode",ki="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new wi(t)}catch(e){return null}}function Ni(t){var e=t[Li];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[ji];var r=n[Mi];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Di])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Di+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new S("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Pi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Pi+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Pi="dynamicLinkDomain",Oi="handleCodeInApp",Di="iOS",Li="url",Mi="installApp",Fi="minimumVersion",ji="packageName",Ui="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function $i(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new $i(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}$i.prototype.T=function(){return this.f},$i.prototype.l=function(){return this.c},$i.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Hi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ki(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Yi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Qi])return new Ji(t)}catch(r){}return null}var Qi="idToken",Xi="providerId";function Ji(t){var e=t[Xi];if(!e&&t[Qi]){var n=Bi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Qr(this,"profile",Zr((t=jr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function io(t){var e=Un(t),n=jn(e,"link"),r=jn(Un(n),"link");return e=jn(e,"deep_link_id"),jn(Un(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}I(Zi,Ji),I(to,Zi),I(eo,Zi),I(no,Zi),I(ro,Zi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Qs]){var n=Bi(t[Qs]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==x+"user-not-found"?new S("user-mismatch"):t})}function lo(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Ki(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function _o(t){vo.call(this,t,Gi),this.a=[]}function bo(){_o.call(this,"facebook.com")}function wo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Eo(){_o.call(this,"github.com")}function To(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function Io(){_o.call(this,"google.com"),this.Ca("profile")}function Co(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function So(){vo.call(this,"twitter.com",Hi)}function ko(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===No.EMAIL_LINK_SIGN_IN_METHOD?No.EMAIL_LINK_SIGN_IN_METHOD:No.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function No(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=Po(e)))throw new S("argument-error","Invalid email link!");return new Ao(t,e.code,No.EMAIL_LINK_SIGN_IN_METHOD)}function Po(t){return(t=xi(t=io(t)))&&t.operation===ci?t:null}function Oo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new S("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Oo(e)}return null}function Lo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||r.default.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Oo({fb:t,eb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return wo(n);case"github.com":return To(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new _o(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function $o(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return ke(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return va(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ya(t,n)},lo.prototype.c=function(t,e){return co(_a(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return va(t,go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,ya(t,n)},po.prototype.c=function(t,e){return co(_a(t,go(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Jb=gt(t),this},I(yo,vo),I(_o,vo),_o.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},_o.prototype.Rb=function(){return J(this.a)},_o.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},I(bo,_o),Qr(bo,"PROVIDER_ID","facebook.com"),Qr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Eo,_o),Qr(Eo,"PROVIDER_ID","github.com"),Qr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Io,_o),Qr(Io,"PROVIDER_ID","google.com"),Qr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),I(So,vo),Qr(So,"PROVIDER_ID","twitter.com"),Qr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?tu(t,ka,{email:this.a,oobCode:this.f}):tu(t,Ya,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Aa,{idToken:e,email:this.a,oobCode:this.f}):tu(t,qa,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return co(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(No,{PROVIDER_ID:"password"}),Xr(No,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(No,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.gb(Lo(this))},Oo.prototype.b=function(t,e){var n=Lo(this);return n.idToken=e,tu(t,Xa,n)},Oo.prototype.c=function(t,e){var n=Lo(this);return n.operation="REAUTH",co(t=tu(t,Ja,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return ke(e.verify()).then(function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tu(t,Ba,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tu(t,za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Xr(Mo,{PROVIDER_ID:"phone"}),Xr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,zo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Go(t,e,n){S.call(this,t,n),(t=e||{}).Kb&&Qr(this,"email",t.Kb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.$b&&Qr(this,"tenantId",t.$b)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:jo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Ko(){}function Yo(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}I(Ho,S),I(Go,S),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Go.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,I(Yo,Ko),Yo.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Yo,I(Xo,Ko),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(M("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function ds(t){this.f=t}function fs(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ds,Ko),ds.prototype.a=function(){return new fs(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),I(fs,wn);var ps=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ys(t){wn.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=_s,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,vs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):vs(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Va=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ys,wn);var _s="";ys.prototype.b=ls("goog.net.XhrIo");var bs=/^https?$/i,ws=["POST","PUT"];function Es(t){return"content-type"==t.toLowerCase()}function Ts(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Is(t),Ss(t)}function Is(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Cs(t){if(t.c&&void 0!==s)if(t.C[1]&&4==As(t)&&2==xs(t))hs(t.b,Ns(t,"Local request error detected and ignored"));else if(t.i&&4==As(t))Cn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==As(t)){hs(t.b,Ns(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!bs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<As(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+xs(t)+"]",Is(t)}}finally{Ss(t)}}}function Ss(t,e){if(t.a){ks(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function As(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<As(t)?t.a.status:-1}catch(e){return-1}}function Ns(t,e){return e+" ["+t.P+" "+t.l+" "+xs(t)+"]"}function Rs(t){var e=$s;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Os(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Ds(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ls(t){return W(t.g,function(t){return p(t[1])})}function Ms(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=Vs[e];n&&(a.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Rs?(Ds(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Us(e),Vs[e.a]=e,t.h=e.a)}function Fs(){D.call(this)}function js(){D.call(this)}function Us(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=ys.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,Ns(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,Ns(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ss(this,!0)),ys.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Cs(this):this.Jc())},t.Jc=function(){Cs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _s:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Os(this),Ps(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new be(function(t,e){r=t,i=e});return Ds(this,r,function(t){t instanceof js?o.cancel():i(t)}),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,I(Fs,D),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",I(js,D),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function qs(t){var e={},n=e.document||document,r=St(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Rs(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Bs(i,!0);var t=new Gs(Hs,"Timeout reached for loading script "+r);Os(s),Ps(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Bs(i,e.xd||!1,u),Os(s),Ps(s,!0,null))},i.onerror=function(){Bs(i,!0,u);var t=new Gs(zs,"Error while loading script "+r);Os(s),Ps(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function $s(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ma)}}function Bs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var zs=0,Hs=1;function Gs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ws(t){this.f=t}function Ks(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=gt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=gt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Er(),!(n=a.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!wr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new ds(self):Tr()?new Ws(n):new Xo,this.b=null}I(Gs,D),I(Ws,Ko),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Ys,Qs="idToken",Xs=new $r(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new $r(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Un(t),e=Un(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=xr();return!((t=Sr(t)!=Cr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&se&&!(9<se))})()||wr()?t=w(t.u,t):(Ys||(Ys=new be(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ds(t,null,e,void 0)}(qs(kt(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}Ks.prototype.T=function(){return this.b},Ks.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ys(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}En(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Tn(s,"ready",function(){u&&clearTimeout(u),He(this)}),Tn(s,"timeout",function(){u&&clearTimeout(u),He(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Bo),t.a.onreadystatechange=w(t.Wb,t);try{hs(t.b,Ns(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return hs(t.b,Ns(t,"Error opening Xhr: "+s.message)),void Ts(t,s)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)z(t,e,void 0);else for(var n=An(t),r=kn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!K(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ks(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,Ns(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),hs(t.b,Ns(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,Ns(t,"Send error: "+s.message)),Ts(t,s)}}(s,t,n,r,i)};var sa=new _t(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new S("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,gt(t));throw new S("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ks.prototype.s=function(t,e,n,r,i){var o=this;Ys.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ks.prototype.Ab=function(){return tu(this,$a,{})},Ks.prototype.Cb=function(t,e){return tu(this,Va,{idToken:t,email:e})},Ks.prototype.Db=function(t,e){return tu(this,qa,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Ha,e)}function ya(t,e){return e.returnIdpCredential=!0,tu(t,Wa,e)}function _a(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Ga,e)}function ba(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ks.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ft(da,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,Va,n)},t.wb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,La,t)},t.xb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,Pa,t)},t.vb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Oa,t)},t.Fb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Da,t)},t.gb=function(t){return tu(this,Qa,t)},t.ob=function(t,e){return tu(this,ja,{oobCode:t,newPassword:e})},t.Sa=function(t){return tu(this,Ea,{oobCode:t})},t.kb=function(t){return tu(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",A:ba,Z:"email",B:!0},Ea={endpoint:"resetPassword",A:ba,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},Ta={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new S("weak-password")},G:la,V:!0,B:!0},Ia={endpoint:"createAuthUri",B:!0},Ca={endpoint:"deleteAccount",O:["idToken"]},Sa={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},ka={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ua,G:la,V:!0,B:!0},Aa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ua,G:la,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Na={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Ra={endpoint:"getAccountInfo"},Pa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");ua(t)},Z:"email",B:!0},Oa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");ua(t)},Z:"email",B:!0},Ma={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Fa={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},ja={endpoint:"resetPassword",A:ba,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",O:["idToken"],A:ca,V:!0},qa={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ca(t),!t.password)throw new S("weak-password")},G:la,V:!0},$a={endpoint:"signupNewUser",G:la,V:!0,B:!0},Ba={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ha={endpoint:"verifyAssertion",A:pa,Za:ga,G:ma,V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:pa,Za:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new S("internal-error")},Za:ga,G:ma,V:!0},Ka={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:la,V:!0,B:!0},Ya={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new S("wrong-password")},G:la,V:!0,B:!0},Qa={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Xa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);la(t)}},Ja={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qs]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ae(new S("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return ke(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(a,c,i[c]);return new be(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new S("network-request-failed"))},r,u?void 0:rr(Fr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Mr(t)),new S("internal-error",e)}function ru(t){this.b=t,this.a=null,this.sb=function(t){return(au||(au=new be(function(t,e){function n(){qr(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:ou.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},ke(qs(r=kt(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new be(function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new _t(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new $r(3e4,6e4),su=new $r(5e3,15e3),au=null;function uu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Un(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return r.default.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=lr();return function(t){return tu(t,Ma,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Un(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function fu(t){return t.m||(t.m=yr().then(function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new ru(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?Ar(t.c,lu(t.b)):null,t.l=new Ks(t.g,P(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.zb(l).toString()}function mu(t){if(this.a=t||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=w(this.c,this)}uu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},cu.prototype.zb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Un(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.default.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Fn(t,"providerId",this.a.providerId),e=Fr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Fn(t,"customParameters",Mr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Jn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Jn(t.b,"eid"),(a=lu(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Pb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then(function(){return function(t,e){return t.sb.then(function(){return new be(function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new be(function(e){return function n(){Sn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Sn(n).then(function(){e(r)})})},t.Yb=function(){var t=xr();return!Lr(t)&&!Vr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new S("popup-blocked"));if(s&&!Lr())return this.ma().o(function(e){pr(t),i(e)}),r(),ke();this.a||(this.a=du(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),s||hr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=du(pu(this)));var i=this;return this.a.then(function(){Uo(e),hr(gu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return fu(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new S("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Q(this.h,function(e){return e==t})},(t=mu.prototype).get=function(t){return ke(this.a.getItem(t)).then(function(t){return t&&jr(t)})},t.set=function(t,e){return ke(this.a.setItem(t,Mr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var yu,_u=[];function bu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function Eu(t){this.c=t,this.b=!1,this.a=[]}function Tu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Iu(t,c),e}).o(function(e){throw Iu(t,c),e})}function Iu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function Cu(){if(!xu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(z(_u,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);_u.push(e)}return e}(),bu(this.v,"keyChanged",function(e,n){return Du(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),bu(this.v,"ping",function(){return ke(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?ke().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):ke(null)}().then(function(e){(t.h=e)&&(t.g=new Eu(new wu(e)),Tu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Su(t){return new be(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Su(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function ku(t){return t.i||(t.i=Su(t)),t.i}function Au(t,e){var n=0;return new be(function r(i,o){ku(t).then(e).then(i).o(function(e){if(!(3<++n))return ku(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function xu(){try{return!!a.indexedDB}catch(Wt){return!1}}function Nu(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new be(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ou(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Tu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):ke()}function Du(t){return ku(t).then(function(t){var e=Nu(Ru(t,!1));return e.getAll?Pu(e.getAll()):new be(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r})}function Lu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then(function(){if(xu()){var t=Ur(),r="__sak"+t;return yu||(yu=new Cu),(n=yu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function Fu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==Er();if(!(t=Uu()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Uu()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==Er();if(!(t=$u()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=$u()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var t=a.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){var t={};t.Browser=Gu,t.Node=Wu,t.ReactNative=Ku,t.Worker=Yu,this.a=t[Er()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(ke().then(function(){return e(t.origin,t.data.data)}))}),Ne(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Eu.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(t=Cu.prototype).set=function(t,e){var n=this,r=!1;return Au(this,function(e){return Pu((e=Nu(Ru(e,!0))).get(t))}).then(function(i){return Au(n,function(o){if(o=Nu(Ru(o,!0)),i)return i.value=e,Pu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Pu(o.add(s))})}).then(function(){return n.c[t]=e,Ou(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Au(this,function(e){return Pu(Nu(Ru(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Au(this,function(r){return n=!0,e.b++,Pu(Nu(Ru(r,!0)).delete(t))}).then(function(){return delete e.c[t],Ou(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Lu(t),function e(){t.f=setTimeout(function(){t.l=Du(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Lu(this)},(t=Mu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Fu.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return ke().then(function(){return jr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Vu.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return ke().then(function(){return jr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var zu,Hu,Gu={F:ju,cb:qu},Wu={F:ju,cb:qu},Ku={F:mu,cb:Vu},Yu={F:ju,cb:Vu},Qu={rd:"local",NONE:"none",td:"session"};function Xu(){var t=!(Vr(xr())||!br()),e=Lr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Bu),t=zu;try{this.g=!cr()&&Hr()||!a.indexedDB?new t.a.F:new Mu(wr()?new Fu:new t.a.F)}catch(r){this.g=new Fu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Fu}this.v=new Fu,this.f=w(this.Zb,this),this.b={}}function Ju(){return Hu||(Hu=new Xu),Hu}function Zu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),Zu(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Ju()}(t=Xu.prototype).get=function(t,e){return Zu(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Zu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Zu(this,"local").ca(this.f),this.h||(cr()||!Hr())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zu(this,"local").ia(this.f),nc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zu(this,"local").ia(this.f):nc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Yt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",F:"local"};function sc(){this.a=Ju()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=a.Int32Array?new Int32Array(gc):gc),this.reset()}I(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var dc=X(128,lc);function fc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){ac.call(this,8,vc)}I(mc,ac);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(t){return new S("invalid-cordova-configuration",t)}function bc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wc(t){return t.f||(t.f=t.ma().then(function(){return new be(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Ec(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(jn(o=Un(i),"firebaseError")||null))?k(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}bc(t,i)})}var n=new Vo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Sn(500).then(function(){return Ec(t).then(function(){r||bc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new $o),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Ec(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function Tc(t){this.a=t,this.b=Ju()}(t=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?yr().then(function(){return new be(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw _c("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})},t.Pb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),ke()},t.Nb=function(){return Ae(new S("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ae(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=ke().then(function(){return Uo(e),wc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new S("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",a),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!xr().toLowerCase().match(/android/))return Ae(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new mc;pc(e,t),t=[];var n=8*e.g;pc(e,dc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,s.w(),e)}).then(function(){var e=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new be(function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Br()&&c()},o.addEventListener("resume",c=function(){s||(s=Sn(2e3).then(function(){e(new S("redirect-cancelled-by-user"))}))},!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Ec(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),wc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new S("no-auth-event")),t(e))})},t.Ta=function(t){Q(this.b,function(e){return e==t})};var Ic={name:"pendingRedirect",F:"session"};function Cc(t){return ec(t.b,Ic,t.a)}function Sc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new qc,this.C=new Gc,this.g=new Tc(Uc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=kc(this.D,this.v,this.m,A,this.J)}function kc(t,e,n,i,o){var s=r.default.SDK_VERSION||null;return _r()?new yc(t,e,n,s,i,o):new hu(t,e,n,s,i,o)}function Ac(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function xc(t){t.a.Yb()&&Ac(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Lc(e)&&t.s(n)}),t.a.Ub()||$c(t.b)}function Nc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ic,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Cc(t.g).then(function(){Ac(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Lc(e)&&t.s(n)})}):xc(t)}).o(function(){xc(t)})}function Rc(t,e){Q(t.h,function(t){return t==e})}Sc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=kc(this.D,this.v,this.m,null,this.J),this.i={}},Sc.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return $c(this.b),e};var Pc=new $r(2e3,1e4),Oc=new $r(3e4,6e4);function Dc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Lc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Mc(t,e,n,r,i){var o;return function(t){return t.b.set(Ic,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Lc(e))throw new S("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new be(function(){}):Cc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Fc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Pc.get())}Sc.prototype.ra=function(){return this.b.ra()};var jc={};function Uc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vc(t,e,n,r){var i=Uc(e,n,r);return jc[i]||(jc[i]=new Sc(t,e,n,r)),jc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function $c(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function Bc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Gc(){}function Wc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Kc(t,e){this.a=e,Qr(this,"verificationId",t)}function Yc(t,e,n,r){return new Mo(t).gb(e,n).then(function(t){return new Kc(t,r)})}function Qc(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xc(t,e,n){var r=e&&e[Zc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(e[Jc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Hc(t,a,e,null)}).o(function(e){Hc(t,a,null,e)})}(this,t,e):Ae(new S("invalid-auth-event")):(Hc(this,!1,null,null),ke())}else Ae(new S("invalid-auth-event"))},qc.prototype.ra=function(){var t=this;return new be(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Sn(Oc.get()).then(function(){t.b||(t.g=!0,Hc(t,!0,null,e))})}(t))})},Gc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ae(new S("invalid-auth-event"))}else Ae(new S("invalid-auth-event"))},Kc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var Jc="mfaInfo",Zc="mfaPendingCredential";function tl(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Xc(t,e,n),Qr(this,"resolver",this.b)}function el(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Qr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Br()||!t?ke():new be(function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function dl(t,e){t.b=Bi(e[Qs]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function pl(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.default.SDK_VERSION?Ar(r.default.SDK_VERSION):null;this.a=new Ks(this.l,P(A),i),(this.u=t.emulatorConfig||null)&&na(this.a,this.u),this.h=new ll(this.a),Il(this,e[Qs]),dl(this.h,e),Qr(this,"refreshToken",this.h.a),kl(this,n||{}),wn.call(this),this.P=!1,this.s&&Pr()&&(this.b=Vc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){ml(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){_l(o,t.f)},this.ja=null,this.S=new sl(this,n),Qr(this,"multiFactor",this.S)}function ml(t,e){t.u=e,na(t.a,e),t.b&&(e=t.b,t.b=Vc(t.s,t.l,t.m,t.u),t.P&&(Rc(e,t),Nc(t.b,t)))}function vl(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function yl(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function _l(t,e){t.aa=e,ia(t.a,r.default.SDK_VERSION?Ar(r.default.SDK_VERSION,t.aa):null)}function bl(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function wl(t){try{return r.default.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function El(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function Tl(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Il(t,e){t.Aa=e,Qr(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ne(e).then(function(){return t})}function Sl(t){t.b&&!t.P&&(t.P=!0,Nc(t.b,t))}function kl(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Al(){}function xl(t){return ke().then(function(){if(t.J)throw new S("app-deleted")})}function Nl(t){return G(t.providerData,function(t){return t.providerId})}function Rl(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))}function Pl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function Ol(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Dl(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Qr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),z(e.providerData,function(e){Rl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qr(t,"refreshToken",t.h.a),al(t.S,e.S.b))}function Ll(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,Ra,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Ol(t,"isAnonymous",!1),e})})}function Ml(t,e){e[Qs]&&t.Aa!=e[Qs]&&(dl(t.h,e),t.dispatchEvent(new ol("tokenChanged")),Il(t,e[Qs]),Ol(t,"refreshToken",t.h.a))}function Fl(t,e){return Ll(t).then(function(){if(K(Nl(t),e))return Cl(t).then(function(){throw new S("provider-already-linked")})})}function jl(t,e,n){return Jr({user:t,credential:jo(e),additionalUserInfo:e=Yi(e),operationType:n})}function Ul(t,e){return Ml(t,e),t.reload().then(function(){return t})}function Vl(t,e,n,i,o){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ae(t.i);var s=Ki(n.providerId),a=Ur(t.uid+":::"),u=null;(!Lr()||br())&&t.s&&n.isOAuthProvider&&(u=gu(t.s,t.l,t.m,e,n,null,a,r.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=gr(u,s&&s.va,s&&s.ua);return i=i().then(function(){if($l(t),!o)return t.I().then(function(){})}).then(function(){return Dc(t.b,c,e,n,a,!!u,t.tenantId)}).then(function(){return new be(function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Fc(t.b,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Jr(t):null}).o(function(t){throw c&&pr(c),t}),Bl(t,i,o)}function ql(t,e,n,r,i){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ae(t.i);var o=null,s=Ur(t.uid+":::");return r=r().then(function(){if($l(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Cl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Gl,t.w(),e.a)),e}).then(function(){return Mc(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Wl(t.ha);throw o}).then(function(){if(o)throw o}),Bl(t,r,i)}function $l(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Bl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ae(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ol("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){Y(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),wl(t),w(t.jc,t))),n||e})}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gl(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&Rl(i,Jr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Hl(t){this.a=t,this.b=Ju()}Xc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Jc],delete n[Zc],vt(n,t),e.g(n)})},I(tl,S),nl.prototype.tb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Lo(t.a)}),tu(e,xa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(t.a)}),tu(e,Na,n)})}(this,t,e)},I(rl,nl),I(il,rl),I(ol,Qe),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Ml(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=H(e.b,function(t){return t.uid!=n});return al(e,r),Ml(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new be(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))},"POST",Xn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))})}(t.f,e).then(function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(gl,wn),gl.prototype.xa=function(t){this.za=t,ea(this.a,t)},gl.prototype.la=function(){return this.za},gl.prototype.Ga=function(){return J(this.aa)},gl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(gl.prototype,"providerId","firebase"),(t=gl.prototype).reload=function(){var t=this;return Bl(this,xl(this).then(function(){return Ll(t).then(function(){return Cl(t)}).then(Al)}))},t.oc=function(t){return this.I(t).then(function(t){return new Qc(t)})},t.I=function(t){var e=this;return Bl(this,xl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.Aa&&(Il(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Ol(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");kl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Rl(this,e[n]);Ol(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Bl(this,t.c(this.a,this.uid).then(function(t){return Ml(e,t),n=jl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Bl(this,Fl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=jl(e,t,"link"),Ul(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Bl(this,Fl(this,"phone").then(function(){return Yc(wl(n),t,e,w(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Bl(this,ke().then(function(){return Yc(wl(n),t,e,w(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.ed=function(t){var e=this;return Bl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ml(e,t),e.reload()}))},t.Db=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xl(this);var e=this;return Bl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ml(e,t),Ol(e,"displayName",t.displayName||null),Ol(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))}),Cl(e)}).then(Al))},t.cd=function(t){var e=this;return Bl(this,Ll(this).then(function(n){return K(Nl(e),t)?function(t,e,n){return tu(t,Sa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(Nl(e),function(t){n[t]||Pl(e,t)}),n[Mo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Cl(e)}):Cl(e).then(function(){throw new S("no-such-provider")})}))},t.delete=function(){var t=this;return Bl(this,this.I().then(function(e){return tu(t.a,Ca,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");vl(t,null),yl(t,null),bl(t,null),t.N=[],t.J=!0,Tl(t),Qr(t,"refreshToken",null),t.b&&Rc(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Vl(this,"linkViaPopup",t,function(){return Fl(e,t.providerId).then(function(){return Cl(e)})},!1)},t.Nc=function(t){return Vl(this,"reauthViaPopup",t,function(){return ke()},!0)},t.Fc=function(t){var e=this;return ql(this,"linkViaRedirect",t,function(){return Fl(e,t.providerId)},!1)},t.Oc=function(t){return ql(this,"reauthViaRedirect",t,function(){return ke()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then(function(n){return ya(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=jl(i,t,"link"),Ul(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,ke().then(function(){return co(_a(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=jl(i,t,"reauthenticate"),Ml(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Bl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Vi(new Ni(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Bl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Vi(new Ni(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Bl(this,t=co(ke(t),n.uid).then(function(t){return e=jl(n,t,"reauthenticate"),Ml(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.S.w()),t};var Gl={name:"redirectUser",F:"session"};function Wl(t){return ec(t.b,Gl,t.a)}function Kl(t){this.a=t,this.b=Ju(),this.c=null,this.f=function(t){var e=Xl("local"),n=Xl("session"),r=Xl("none");return function(t,e,n){var r=tc(e,n),i=Zu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=jr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ql,t.a).then(function(t){return t?Xl(t):e})})})}).then(function(e){return t.c=e,Yl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Xl("local"),this.a,w(this.g,this))}function Yl(t,e){var n,r=[];for(n in Qu)Qu[n]!==e&&r.push(ec(t.b,Xl(Qu[n]),t.a));return r.push(ec(t.b,Ql,t.a)),function(t){return new be(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],E(o,a),s);else e(i)})}(r)}Kl.prototype.g=function(){var t=this,e=Xl("local");eh(this,function(){return ke().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Yl(t,"local").then(function(){t.c=e})})})};var Ql={name:"persistence",F:"session"};function Xl(t){return{name:"authUser",F:t}}function Jl(t,e){return eh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Zl(t){return eh(t,function(){return ec(t.b,t.c,t.a)})}function th(t,e,n){return eh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})})})}function eh(t,e){return t.f=t.f.then(e,e),t.f}function nh(t){if(this.l=!1,Qr(this,"settings",new Wc),Qr(this,"app",t),!lh(this).options||!lh(this).options.apiKey)throw new S("invalid-api-key");t=r.default.SDK_VERSION?Ar(r.default.SDK_VERSION):null,this.a=new Ks(lh(this).options&&lh(this).options.apiKey,P(A),t),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(w(this.Ac,this)),uh(this,null),this.i=new Kl(lh(this).options.apiKey+":"+lh(this).name),this.D=new Hl(lh(this).options.apiKey+":"+lh(this).name),this.$=ph(this,function(t){var e=lh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Gl,t.a).then(function(t){return t&&e&&(t.authDomain=e),zl(t||{})})}(t.D,lh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Wl(t.D)});return ph(t,e)}(t).then(function(){return th(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Jl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Zl(t.i)})):null}).then(function(e){uh(t,e||null)});return ph(t,n)}(this)),this.h=ph(this,function(t){return t.$.then(function(){return ah(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Xl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=lh(t).options.authDomain,n=lh(t).options.apiKey;e&&Pr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vc(e,n,lh(t).name,t.R),Nc(t.b,t),hh(t)&&Sl(hh(t)),t.m){Sl(t.m);var r=t.m;r.xa(t.la()),vl(r,t),_l(r=t.m,t.J),bl(r,t),ml(r=t.m,t.R),yl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Un(this.R.url);t=Jr({protocol:t.c,host:t.a,port:t.g,options:Jr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function rh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function ih(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function oh(t){Qe.call(this,"frameworkChanged"),this.f=t}function sh(t){return t.Oa||Ae(new S("auth-domain-config-required"))}function ah(t){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));var e=sh(t).then(function(){return t.b.ra()}).then(function(t){return t?Jr(t):null});return ph(t,e)}function uh(t,e){hh(t)&&(function(t,e){Q(t.W,function(t){return t==e})}(hh(t),t.Ba),dn(hh(t),"tokenChanged",t.qa),dn(hh(t),"userDeleted",t.za),dn(hh(t),"userInvalidated",t.Aa),Tl(hh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&El(e)),Qr(t,"currentUser",e),e&&(e.xa(t.la()),vl(e,t),_l(e,t.J),bl(e,t),ml(e,t.R),yl(e,t))}function ch(t,e){var n=null,r=null;return ph(t,e.then(function(e){return n=jo(e),r=Yi(e),function(t,e){var n={};return n.apiKey=lh(t).options.apiKey,n.authDomain=lh(t).options.authDomain,n.appName=lh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new gl(t,e);return n&&(i.ha=n),r&&_l(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return hh(t)&&e.uid==hh(t).uid?(Dl(hh(t),e),t.da(e)):(uh(t,e),Sl(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Jr({user:hh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function lh(t){return t.app}function hh(t){return t.currentUser}function dh(t){return hh(t)&&hh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](dh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](dh(t))}}function ph(t,e){return t.P.push(e),e.oa(function(){Y(t.P,e)}),e}function gh(){}function mh(){this.a={},this.b=1e12}Kl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Qu)if(Qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Er()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),eh(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Yl(n,t)}).then(function(){if(n.c=Xl(t),e)return n.b.set(n.c,e,n.a)}):ke()})},I(nh,wn),I(rh,Qe),I(ih,Qe),I(oh,Qe),(t=nh.prototype).yb=function(t){return ph(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new rh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&yr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,na(this.a,this.R),this.dispatchEvent(new ih(this.R))}},t.Gc=function(t){this.J.push(t),ia(this.a,r.default.SDK_VERSION?Ar(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new oh(this.J))},t.Ga=function(){return J(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:lh(this).options.apiKey,authDomain:lh(this).options.authDomain,appName:lh(this).name,currentUser:hh(this)&&hh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ch(i,va(i.a,o))})},t.Xc=function(t){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),i=Ur(),o=null;(!Lr()||br())&&lh(this).options.authDomain&&t.isOAuthProvider&&(o=gu(lh(this).options.authDomain,lh(this).options.apiKey,lh(this).name,"signInViaPopup",t,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var s=gr(o,n&&n.va,n&&n.ua);return ph(this,n=sh(this).then(function(n){return Dc(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new be(function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Fc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Jr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));var e=this;return ph(this,sh(this).then(function(){return function(t){return eh(t,function(){return t.b.set(Ql,t.c.F,t.a)})}(e.i)}).then(function(){return Mc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return ah(this).then(function(e){return t.b&&Bc(t.b.b),e}).o(function(e){throw t.b&&Bc(t.b.b),e})},t.dd=function(t){if(!t)return Ae(new S("null-user"));if(this.S!=t.tenantId)return Ae(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=lh(this).options.apiKey,n.authDomain=lh(this).options.authDomain,n.appName=lh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_l(e,r),Dl(e,t),e}(t,n,e.D,e.Ga());return ph(this,this.h.then(function(){if(lh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return hh(e)&&t.uid==hh(e).uid?(Dl(hh(e),t),e.da(t)):(uh(e,r),Sl(r),e.da(r))}).then(function(){fh(e)}))},t.Bb=function(){var t=this;return ph(this,this.h.then(function(){return t.b&&Bc(t.b.b),hh(t)?(uh(t,null),Zl(t.i).then(function(){fh(t)})):ke()}))},t.Zc=function(){var t=this;return th(this.i,lh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=hh(t)&&e){n=hh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Dl(hh(t),e),hh(t).I();(hh(t)||e)&&(uh(t,e),e&&(Sl(e),e.ha=t.D),t.b&&Nc(t.b,t),fh(t))}})},t.da=function(t){return Jl(this.i,t)},t.mc=function(){fh(this),this.da(hh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,ke(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(hh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ph(t,t.h.then(function(){!t.l&&K(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(dh(t)))}))}(this,function(){t.next(hh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return ph(this,this.h.then(function(){return hh(e)?hh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,tu(e.a,Ka,{token:t}))}).then(function(t){var n=t.user;return Ol(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Ya,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Ta,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=hh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.Ab()).then(function(e){var n=e.user;return Ol(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return hh(this)&&hh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&hh(this)&&El(hh(this))},t.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&hh(this)&&Tl(hh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ph(this,this.h.then(function(){e.l||K(e.s,t)&&t(dh(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Xl("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Bc(this.b.b)),Promise.resolve()},t.hc=function(t){return ph(this,function(t,e){return tu(t,Ia,{identifier:e,continueUri:Or()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Po(t)},t.xb=function(t,e){var n=this;return ph(this,ke().then(function(){var t=new Ni(e);if(!t.c)throw new S("argument-error",Oi+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return ph(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return ph(this,this.a.Sa(t).then(function(t){return new ai(t)}))},t.kb=function(t){return ph(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return ph(this,ke().then(function(){return void 0===e||pt(e)?{}:Vi(new Ni(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return ph(this,Yc(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return ph(this,ke().then(function(){var r=e||lr(),i=Ro(t,r);if(!(r=Po(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)}))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var vh=null;function yh(t,e){return(e=_h(e))&&t.a[e]||null}function _h(t){return(t=void 0===t?1e12:t)?t.toString():null}function bh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Eh(){}function Th(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new bh(t,e),this.b++},mh.prototype.reset=function(t){var e=yh(this,t);t=_h(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=yh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=yh(this,t))&&t.execute()},bh.prototype.getResponse=function(){return wh(this),this.b},bh.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},bh.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(Eh,"FACTOR_ID","phone"),Th.prototype.g=function(){return vh||(vh=new mh),ke(vh)},Th.prototype.c=function(){};var Ih=null;function Ch(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sh=new _t(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),kh=new $r(3e4,6e4);Ch.prototype.g=function(t){var e=this;return new be(function(n,r){var i=setTimeout(function(){r(new S("network-request-failed"))},kh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete a[e.a]},ke(qs(kt(Sh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Ch.prototype.c=function(){this.b--};var Ah=null;function xh(t,e,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Ih||(Ih=new Th),s=Ih):(Ah||(Ah=new Ch),s=Ah),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Oh],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ks(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Nh];this.a[Nh]=function(t){if(Dh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Rh];this.a[Rh]=function(){if(Dh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Nr(l,a);"function"==typeof t&&t()}}}var Nh="callback",Rh="expired-callback",Ph="sitekey",Oh="size";function Dh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Lh(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function Mh(t){if(t.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(t,e,n){var i=!1;try{this.b=n||r.default.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.default.SDK_VERSION?Ar(r.default.SDK_VERSION,s):null,xh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,P(A),i)}function jh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Uh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=xh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Lh(this,ke().then(function(){if(Or()&&!wr())return yr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Fa,{})}).then(function(e){t.a[Ph]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Mh(this);var t=this;return Lh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Mh(this);var t=this;return Lh(this,this.render().then(function(e){return new be(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Mh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Mh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Fh,xh);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Vh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function qh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function $h(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Bh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Hh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Gh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Wh(t){return g(t)&&"string"==typeof t.uid}function Kh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Yh(t,e){for(var n in e){var r=e[n].name;t[r]=Jh(r,t[n],e[n].j)}}function Qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E(function(t){return this[t]},n),set:E(function(t,e,n,r){jh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Xh(t,e,n,r){t[e]=Jh(e,n,r)}function Jh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Yh(nh.prototype,{kb:{name:"applyActionCode",j:[Vh("code")]},Sa:{name:"checkActionCode",j:[Vh("code")]},ob:{name:"confirmPasswordReset",j:[Vh("code"),Vh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Vh("email"),Vh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Vh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Vh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Kh($h(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Kh($h(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Vh("email"),Kh($h("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Vh("email"),$h("actionCodeSettings")]},yb:{name:"setPersistence",j:[Vh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[Vh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Vh("email"),Vh("password")]},Vc:{name:"signInWithEmailLink",j:[Vh("email"),Vh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Kh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof gl)}},zh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Vh("url"),$h("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Vh("code")]}}),Qh(nh.prototype,{lc:{name:"languageCode",lb:Kh(Vh(),zh(),"languageCode")},ti:{name:"tenantId",lb:Kh(Vh(),zh(),"tenantId")}}),(nh.Persistence=Qu).LOCAL="local",nh.Persistence.SESSION="session",nh.Persistence.NONE="none",Yh(gl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[qh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[qh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},rb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},ub:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Kh($h("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},cd:{name:"unlink",j:[Vh("provider")]},Cb:{name:"updateEmail",j:[Vh("email")]},Db:{name:"updatePassword",j:[Vh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Eb:{name:"updateProfile",j:[$h("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Vh("email"),Kh($h("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qh(Wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:qh("appVerificationDisabledForTesting")}}),Yh(Kc.prototype,{confirm:{name:"confirm",j:[Vh("verificationCode")]}}),Xh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,xo,Do,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Kh(Vh(),$h(),"json")]),Xh(No,"credential",function(t,e){return new Ao(t,e)},[Vh("email"),Vh("password")]),Yh(Ao.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(bo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(bo,"credential",wo,[Kh(Vh(),$h(),"token")]),Xh(No,"credentialWithLink",Ro,[Vh("email"),Vh("emailLink")]),Yh(Eo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(Eo,"credential",To,[Kh(Vh(),$h(),"token")]),Yh(Io.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(Io,"credential",Co,[Kh(Vh(),Kh($h(),zh()),"idToken"),Kh(Vh(),zh(),"accessToken",!0)]),Yh(So.prototype,{Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(So,"credential",ko,[Kh(Vh(),$h(),"token"),Vh("secret",!0)]),Yh(_o.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},credential:{name:"credential",j:[Kh(Vh(),Kh($h(),zh()),"optionsOrIdToken"),Kh(Vh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Yh(po.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(lo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Xh(Mo,"credential",Fo,[Vh("verificationId"),Vh("verificationCode")]),Yh(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[Kh(Vh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Gh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Gh(t.session,ao)&&Wh(t.multiFactorHint):t.session&&t.multiFactorUid?Gh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Yh(Oo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(S.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(Go.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(Ho.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(tl.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(Xc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Yh(sl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Vh("displayName",!0)]},bd:{name:"unenroll",j:[Kh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wh},Vh(),"multiFactorInfoIdentifier")]}}),Yh(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xh(wi,"parseLink",xi,[Vh("link")]),Xh(Eh,"assertion",function(t){return new il(t)},[Hh("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:nh,AuthCredential:uo,Error:S};Xh(t,"EmailAuthProvider",No,[]),Xh(t,"FacebookAuthProvider",bo,[]),Xh(t,"GithubAuthProvider",Eo,[]),Xh(t,"GoogleAuthProvider",Io,[]),Xh(t,"TwitterAuthProvider",So,[]),Xh(t,"OAuthProvider",_o,[Vh("providerId")]),Xh(t,"SAMLAuthProvider",yo,[Vh("providerId")]),Xh(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof nh)}}]),Xh(t,"RecaptchaVerifier",Fh,[Kh(Vh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),$h("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.default.app.App)}}]),Xh(t,"ActionCodeURL",wi,[]),Xh(t,"PhoneMultiFactorGenerator",Eh,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new nh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:gl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},5119:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Component:()=>o,ComponentContainer:()=>u,Provider:()=>a});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.__read)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.__values)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2107:(t,e,n)=>{"use strict";var r=n(1062),i=n(5119),o=n(250),s=n(4762),a=n(308);t=n.hmd(t);var u="";function c(t){u=t}var l,h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new d},p=f("localStorage"),g=f("sessionStorage"),m=new a.Logger("@firebase/database"),v=(l=1,function(){return l++}),y=function(t){var e=(0,o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=_.apply(null,i):n+="object"==typeof i?(0,o.stringify)(i):i,n+=" "}return n},b=null,w=!0,E=function(t,e){(0,o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=a.LogLevel.VERBOSE,b=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,g.remove("logging_enabled"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===b&&!0===g.get("logging_enabled")&&E(!0)),b){var n=_.apply(null,t);b(n)}},I=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,(0,s.__spreadArray)([t],(0,s.__read)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));throw m.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.warn(n)},A=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",N="[MAX_NAME]",R=function(t,e){if(t===e)return 0;if(t===x||e===N)return-1;if(e===x||t===N)return 1;var n=U(t),r=U(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.stringify)(e))},D=function(t){if("object"!=typeof t||null===t)return(0,o.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(e[i]),r+=":",r+=D(t[e[i]]);return r+"}"},L=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F=function(t){var e,n,r,i,s;(0,o.assert)(!A(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),U=function(t){if(j.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},V=function(t){try{t()}catch(e){setTimeout(function(){throw k("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},q=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},$=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){k('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),B=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';k(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="websocket",W="long_polling",K=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function Y(t,e,n){var r;if((0,o.assert)("string"==typeof e,"typeof type must == string"),(0,o.assert)("object"==typeof n,"typeof params must == object"),e===G)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==W)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return M(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var Q=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},t}(),X={},J={};function Z(t){var e=t.toString();return X[e]||(X[e]=new Q),X[e]}var tt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&V(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),et="start",nt="close",rt=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(t),this.stats_=Z(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),Y(e,W,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new it(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===et)n.id=o,n.password=a;else{if(i!==nt)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.base64Encode)(e),r=L(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),it=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){T("frame writing exception"),u.stack&&T(u.stack),T(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||T("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),ot=null;"undefined"!=typeof MozWebSocket?ot=MozWebSocket:"undefined"!=typeof WebSocket&&(ot=WebSocket);var st=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=Z(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),Y(t,G,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new ot(this.connURL,[],r)}else this.mySock=new ot(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ot&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=L(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),at=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[rt,st]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=st&&st.isAvailable(),o=i&&!st.previouslyFailed();if(e.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[st];else{var a=this.transports_=[];try{for(var u=(0,s.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ut=function(){function t(t,e,n,r,i,o,s,a,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new at(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=q(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ct=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),lt=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,s.__spreadArray)([],(0,s.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ht=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(lt),dt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ft(){return new dt("")}function pt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gt(t){return t.pieces_.length-t.pieceNum_}function mt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new dt(t.pieces_,e)}function vt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function _t(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new dt(e,0)}function bt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof dt)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new dt(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function Et(t,e){var n=pt(t),r=pt(e);if(null===n)return e;if(n===r)return Et(mt(t),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Tt(t,e){for(var n=yt(t,0),r=yt(e,0),i=0;i<n.length&&i<r.length;i++){var o=R(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function It(t,e){if(gt(t)!==gt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ct(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(gt(t)>gt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var St=function(){return function(t,e){this.errorPrefix_=e,this.parts_=yt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);kt(this)}}();function kt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+At(t))}function At(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var xt,Nt,Rt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(lt),Pt=1e3,Ot=function(t){function e(n,r,i,s,a,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=I("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Pt,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Rt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ht.getInstance().on("online",h.onOnline_,h),h}return(0,s.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.contains)(t,"w")){var n=(0,o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+(0,o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,s.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,a,u,c,l,h,d,f,p,g,m=this;return(0,s.__generator)(this,function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=s.__read.apply(void 0,[v.sent(),2]),f=d[0],p=d[1],u?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,c=new ut(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){k(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")},a)),[3,4];case 3:return g=v.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&k(g),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){T("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new dt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){T("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,s.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,(0,s.__values)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?t["framework.cordova"]=1:(0,o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ht.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ct),Dt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Lt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Dt(x,t),r=new Dt(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Dt.MIN},t}(),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return xt},set:function(t){xt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return R(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return new Dt(N,xt)},e.prototype.makePost=function(t,e){return(0,o.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Dt(t,xt)},e.prototype.toString=function(){return".key"},e}(Lt),Ft=new Mt,jt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ut=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:qt.EMPTY_NODE,this.right=null!=o?o:qt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return qt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return qt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Vt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ut(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),qt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new jt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new jt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Vt,t}();function $t(t,e){return R(t.name,e.name)}function Bt(t,e){return R(t,e)}var zt,Ht,Gt,Wt,Kt,Yt=function(t){return"number"==typeof t?"number:"+F(t):"string:"+t},Qt=function(t){if(t.isLeafNode()){var e=t.val();(0,o.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.contains)(e,".sv"),"Priority must be a string or number.")}else(0,o.assert)(t===Nt||t.isEmpty(),"priority of unexpected type.");(0,o.assert)(t===Nt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return zt},set:function(t){zt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return wt(e)?this:".priority"===pt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=pt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===gt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Yt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?F(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Jt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return new Dt(N,new Xt("[PRIORITY-POST]",Gt))},e.prototype.makePost=function(t,e){var n=Ht(t);return new Dt(e,new Xt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Lt)),Zt=Math.log(2),te=function(){function t(t){this.count=parseInt(Math.log(t+1)/Zt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ee=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Ut(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Ut.BLACK):(a(h,Ut.BLACK),a(h,Ut.RED))}return o}(new te(t.length));return new qt(r||e,o)},ne={},re=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.assert)(ne&&Jt,"ChildrenNode.ts has not been loaded"),Wt=Wt||new t({".priority":ne},{".priority":Jt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof qt?e:null},t.prototype.hasIndex=function(t){return(0,o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.assert)(e!==Ft,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,u=n.getIterator(Dt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=a?ee(i,e.getCompare()):ne;var l=e.toString(),h=(0,s.__assign)({},this.indexSet_);h[l]=e;var d=(0,s.__assign)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.map)(this.indexes_,function(t,i){var s=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(s,"Missing index implementation for "+i),t===ne){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Dt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),ee(a,s.getCompare())}return ne}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Dt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.map)(this.indexes_,function(t){if(t===ne)return t;var r=n.get(e.name);return r?t.remove(new Dt(e.name,r)):t}),this.indexSet_)},t}(),ie=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Kt||(Kt=new t(new qt(Bt),null,re.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Kt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Kt:e},t.prototype.getChild=function(t){var e=pt(t);return null===e?this:this.getImmediateChild(e).getChild(mt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Dt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Kt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=pt(t);if(null===n)return e;(0,o.assert)(".priority"!==pt(t)||1===gt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(mt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Jt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Yt(this.getPriority().val())+":"),this.forEachChild(Jt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Dt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Dt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Dt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Dt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Dt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===oe?-1:0},t.prototype.withIndex=function(e){if(e===Ft||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ft||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Jt),r=e.getIterator(Jt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ft?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),oe=new(function(t){function e(){return t.call(this,new qt(Bt),ie.EMPTY_NODE,re.Default)||this}return(0,s.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ie.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ie));function se(t,e){if(void 0===e&&(e=null),null===t)return ie.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Xt(t,se(e));if(t instanceof Array){var n=ie.EMPTY_NODE;return M(t,function(e,r){if((0,o.contains)(t,e)&&"."!==e.substring(0,1)){var i=se(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(se(e))}var r=[],i=!1;if(M(t,function(t,e){if("."!==t.substring(0,1)){var n=se(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Dt(t,n)))}}),0===r.length)return ie.EMPTY_NODE;var s=ee(r,$t,function(t){return t.name},Bt);if(i){var a=ee(r,Jt.getCompare());return new ie(s,se(e),new re({".priority":a},{".priority":Jt}))}return new ie(s,se(e),re.Default)}Object.defineProperties(Dt,{MIN:{value:new Dt(x,ie.EMPTY_NODE)},MAX:{value:new Dt(N,oe)}}),Mt.__EMPTY_NODE=ie.EMPTY_NODE,Xt.__childrenNodeConstructor=ie,Nt=oe,Gt=oe,Ht=se;var ae,ue,ce=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.assert)(!wt(e)&&".priority"!==pt(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,s.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=se(t),r=ie.EMPTY_NODE.updateChild(this.indexPath_,n);return new Dt(e,r)},e.prototype.maxPost=function(){var t=ie.EMPTY_NODE.updateChild(this.indexPath_,oe);return new Dt(N,t)},e.prototype.toString=function(){return yt(this.indexPath_,0).join("/")},e}(Lt),le=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?R(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return Dt.MAX},e.prototype.makePost=function(t,e){var n=se(t);return new Dt(e,n)},e.prototype.toString=function(){return".value"},e}(Lt)),he="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",de=(ae=0,ue=[],function(t){var e,n=t===ae;ae=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=he.charAt(t%64),t=Math.floor(t/64);(0,o.assert)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===ue[e];e--)ue[e]=0;ue[e]++}else for(e=0;e<12;e++)ue[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=he.charAt(ue[e]);return(0,o.assert)(20===i.length,"nextPushId: Length should be 20."),i}),fe=function(t){if("2147483647"===t)return"-";var e=U(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=he.charAt(he.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},pe=function(t){if("-2147483648"===t)return x;var e=U(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=he.charAt(he.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ge(t){return{type:"value",snapshotNode:t}}function me(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ve(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ye(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var _e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){(0,o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ve(e,a)):(0,o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(me(e,n)):s.trackChildChange(ye(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Jt,function(t,r){e.hasChild(t)||n.trackChildChange(ve(t,r))}),e.isLeafNode()||e.forEachChild(Jt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ye(e,r,i))}else n.trackChildChange(me(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ie.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Dt(e,n))||(n=ie.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ie.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ie.EMPTY_NODE);var i=this;return e.forEachChild(Jt,function(t,e){i.matches(new Dt(t,e))||(r=r.updateImmediateChild(t,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),we=function(){function t(t){this.rangedFilter_=new be(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Dt(e,n))||(n=ie.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ie.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ie.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ie.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,ie.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Dt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ye(e,n,d)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve(e,d));var g=u.updateImmediateChild(e,ie.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(me(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(ve(l.name,l.node)),i.trackChildChange(me(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,ie.EMPTY_NODE)):t},t}(),Ee=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Jt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Te(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ie(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ce(t,e){var n=t.copy();return n.index_=e,n}function Se(t){var e,n={};return t.isDefault()||(t.index_===Jt?e="$priority":t.index_===le?e="$value":t.index_===Ft?e="$key":((0,o.assert)(t.index_ instanceof ce,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.stringify)(e),t.startSet_&&(n.startAt=(0,o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function ke(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Jt&&(e.i=t.index_.toString()),e}var Ae=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=I("p:rest:"),o.listens_={},o}return(0,s.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Se(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),(0,o.safeGet)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Se(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var a=(0,s.__read)(i,2),u=a[0],c=a[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,o.jsonEval)(h.responseText)}catch(e){k("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&k("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ct),xe=function(){function t(){this.rootNode_=ie.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ne(){return{value:null,children:new Map}}function Re(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=pt(e);t.children.has(r)||t.children.set(r,Ne()),Re(t.children.get(r),e=mt(e),n)}}function Pe(t,e){if(wt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Jt,function(e,n){Re(t,new dt(e),n)}),Pe(t,e)}if(t.children.size>0){var r=pt(e);return e=mt(e),t.children.has(r)&&Pe(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Oe(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Oe(r,new dt(e.toString()+"/"+t),n)})}var De=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,s.__assign)({},t);return this.last_&&M(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new De(t);var n=1e4+2e4*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,function(e,i){i>0&&(0,o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Me=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Fe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var je,Ue=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Me.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new dt(e));return new t(ft(),n,this.revert)}return(0,o.assert)(pt(this.path)===e,"operationForChild called for unrelated child."),new t(mt(this.path),this.affectedTree,this.revert)},t}(),Ve=function(){function t(t,e){this.source=t,this.path=e,this.type=Me.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,ft()):new t(this.source,mt(this.path))},t}(),qe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Me.OVERWRITE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,ft(),this.snap.getImmediateChild(e)):new t(this.source,mt(this.path),this.snap)},t}(),$e=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Me.MERGE}return t.prototype.operationForChild=function(e){if(wt(this.path)){var n=this.children.subtree(new dt(e));return n.isEmpty()?null:n.value?new qe(this.source,ft(),n.value):new t(this.source,ft(),n)}return(0,o.assert)(pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,mt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(wt(t))return this.isFullyInitialized()&&!this.filtered_;var e=pt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ze=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function He(t,e,n,r,i,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Dt(e.childName,e.snapshotNode),i=new Dt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Ge(t,e){return{eventCache:t,serverCache:e}}function We(t,e,n,r){return Ge(new Be(e,n,r),t.serverCache)}function Ke(t,e,n,r){return Ge(t.eventCache,new Be(e,n,r))}function Ye(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qe(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Xe=function(){function t(t,e){void 0===e&&(je||(je=new qt(P)),e=je),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return M(e,function(t,e){n=n.set(new dt(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ft(),value:this.value};if(wt(t))return null;var n=pt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(mt(t),e);return null!=i?{path:bt(new dt(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(wt(e))return this;var n=pt(e),r=this.children.get(n);return null!==r?r.subtree(mt(e)):new t(null)},t.prototype.set=function(e,n){if(wt(e))return new t(n,this.children);var r=pt(e),i=(this.children.get(r)||new t(null)).set(mt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(wt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=pt(e),r=this.children.get(n);if(r){var i=r.remove(mt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(wt(t))return this.value;var e=pt(t),n=this.children.get(e);return n?n.get(mt(t)):null},t.prototype.setTree=function(e,n){if(wt(e))return n;var r,i=pt(e),o=(this.children.get(i)||new t(null)).setTree(mt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ft(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(bt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ft(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(wt(t))return null;var i=pt(t),o=this.children.get(i);return o?o.findOnPath_(mt(t),bt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ft(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(wt(e))return this;this.value&&r(n,this.value);var i=pt(e),o=this.children.get(i);return o?o.foreachOnPath_(mt(e),bt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ft(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(bt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Je=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Xe(null))},t}();function Ze(t,e,n){if(wt(e))return new Je(new Xe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Et(i,e);return o=o.updateChild(s,n),new Je(t.writeTree_.set(i,o))}var a=new Xe(n),u=t.writeTree_.setTree(e,a);return new Je(u)}function tn(t,e,n){var r=t;return M(n,function(t,n){r=Ze(r,bt(e,t),n)}),r}function en(t,e){if(wt(e))return Je.empty();var n=t.writeTree_.setTree(e,new Xe(null));return new Je(n)}function nn(t,e){return null!=rn(t,e)}function rn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Et(n.path,e)):null}function on(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Jt,function(t,n){e.push(new Dt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Dt(t,n.value))}),e}function sn(t,e){if(wt(e))return t;var n=rn(t,e);return new Je(null!=n?new Xe(n):t.writeTree_.subtree(e))}function an(t){return t.writeTree_.isEmpty()}function un(t,e){return cn(ft(),t.writeTree_,e)}function cn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=cn(bt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(bt(t,".priority"),r)),n}function ln(t,e){return wn(e,t)}function hn(t,e){if(t.snap)return Ct(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Ct(bt(t.path,n),e))return!0;return!1}function dn(t){return t.visible}function fn(t,e,n){for(var r=Je.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)Ct(n,a)?r=Ze(r,u=Et(n,a),s.snap):Ct(a,n)&&(u=Et(a,n),r=Ze(r,ft(),s.snap.getChild(u)));else{if(!s.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Ct(n,a))r=tn(r,u=Et(n,a),s.children);else if(Ct(a,n))if(wt(u=Et(a,n)))r=tn(r,ft(),s.children);else{var c=(0,o.safeGet)(s.children,pt(u));if(c){var l=c.getChild(mt(u));r=Ze(r,ft(),l)}}}}}return r}function pn(t,e,n,r,i){if(r||i){var o=sn(t.visibleWrites,e);return!i&&an(o)?n:i||null!=n||nn(o,ft())?un(fn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Ct(t.path,e)||Ct(e,t.path))},e),n||ie.EMPTY_NODE):null}var s=rn(t.visibleWrites,e);if(null!=s)return s;var a=sn(t.visibleWrites,e);return an(a)?n:null!=n||nn(a,ft())?un(a,n||ie.EMPTY_NODE):null}function gn(t,e,n,r){return pn(t.writeTree,t.treePath,e,n,r)}function mn(t,e){return function(t,e,n){var r=ie.EMPTY_NODE,i=rn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Jt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=sn(t.visibleWrites,e);return n.forEachChild(Jt,function(t,e){var n=un(sn(o,new dt(t)),e);r=r.updateImmediateChild(t,n)}),on(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return on(sn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function vn(t,e,n,r){return function(t,e,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=bt(e,n);if(nn(t.visibleWrites,s))return null;var a=sn(t.visibleWrites,s);return an(a)?i.getChild(n):un(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function yn(t,e){return function(t,e){return rn(t.visibleWrites,e)}(t.writeTree,bt(t.treePath,e))}function _n(t,e,n){return function(t,e,n,r){var i=bt(e,n),o=rn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?un(sn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function bn(t,e){return wn(bt(t.treePath,e),t.writeTree)}function wn(t,e){return{treePath:t,writeTree:e}}var En=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,ye(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,ve(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,me(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ye(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Tn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),In=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _n(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qe(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=sn(t.visibleWrites,e),c=rn(u,ft());if(null!=c)a=c;else{if(null==n)return[];a=un(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function Cn(t,e,n,r,i,s){var a=e.eventCache;if(null!=yn(r,n))return e;var u=void 0,c=void 0;if(wt(n))if((0,o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Qe(e),h=mn(r,l instanceof ie?l:ie.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=gn(r,Qe(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=pt(n);if(".priority"===f){(0,o.assert)(1===gt(n),"Can't have a priority with additional path components");var p=a.getNode(),g=vn(r,n,p,c=e.serverCache.getNode());u=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=mt(n),v=void 0;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();var y=vn(r,n,a.getNode(),c);v=null!=y?a.getNode().getImmediateChild(f).updateChild(m,y):a.getNode().getImmediateChild(f)}else v=_n(r,f,e.serverCache);u=null!=v?t.filter.updateChild(a.getNode(),f,v,m,i,s):a.getNode()}}return We(e,u,a.isFullyInitialized()||wt(n),t.filter.filtersNodes())}function Sn(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(wt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var d=pt(n);if(!c.isCompleteForPath(n)&&gt(n)>1)return e;var f=mt(n),p=c.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,f,Tn,null)}var g=Ke(e,u,c.isFullyInitialized()||wt(n),l.filtersNodes());return Cn(t,g,n,i,new In(i,g,o),a)}function kn(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new In(i,e,o);if(wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=We(e,u,!0,t.filter.filtersNodes());else{var h=pt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=We(e,u,c.isFullyInitialized(),c.isFiltered());else{var d=mt(n),f=c.getNode().getImmediateChild(h),p=void 0;if(wt(d))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===vt(d)&&g.getChild(_t(d)).isEmpty()?g:g.updateChild(d,r):ie.EMPTY_NODE}a=f.equals(p)?e:We(e,t.filter.updateChild(c.getNode(),h,p,d,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function An(t,e){return t.eventCache.isCompleteForChild(e)}function xn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Nn(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=wt(n)?r:new Xe(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=xn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Sn(t,c,new dt(n),u,i,o,s,a)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=xn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Sn(t,c,new dt(n),h,i,o,s,a)}}),c}var Rn,Pn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new _e(r.getIndex()),o=(n=r).loadsAllData()?new _e(n.getIndex()):n.hasLimit()?new we(n):new be(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(ie.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(ie.EMPTY_NODE,a.getNode(),null),l=new Be(u,s.isFullyInitialized(),i.filtersNodes()),h=new Be(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ge(h,l),this.eventGenerator_=new ze(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function On(t,e){var n=Qe(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(pt(e)).isEmpty())?n.getChild(e):null}function Dn(t){return 0===t.eventRegistrations_.length}function Ln(t,e,n){var r=[];if(n){(0,o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Mn(t,e,n,r){e.type===Me.MERGE&&null!==e.source.queryId&&((0,o.assert)(Qe(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Ye(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,u=function(t,e,n,r,i){var s,a,u=new En;if(n.type===Me.OVERWRITE){var c=n;c.source.fromUser?s=kn(t,e,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!wt(c.path),s=Sn(t,e,c.path,c.snap,r,i,a,u))}else if(n.type===Me.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,u){var c=bt(n,r);An(e,pt(c))&&(a=kn(t,a,c,u,i,o,s))}),r.foreach(function(r,u){var c=bt(n,r);An(e,pt(c))||(a=kn(t,a,c,u,i,o,s))}),a}(t,e,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Nn(t,e,l.path,l.children,r,i,a,u))}else if(n.type===Me.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=yn(r,n))return e;var u=new In(r,e,i),c=e.eventCache.getNode(),l=void 0;if(wt(n)||".priority"===pt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=gn(r,Qe(e));else{var d=e.serverCache.getNode();(0,o.assert)(d instanceof ie,"serverChildren would be complete if leaf node"),h=mn(r,d)}l=t.filter.updateFullNode(c,h=h,s)}else{var f=pt(n),p=_n(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(c,f,p,mt(n),u,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(c,f,ie.EMPTY_NODE,mt(n),u,s):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=gn(r,Qe(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=yn(r,ft()),We(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,s){if(null!=yn(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(wt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Sn(t,e,n,u.getNode().getChild(n),i,o,a,s);if(wt(n)){var c=new Xe(null);return u.getNode().forEachChild(Ft,function(t,e){c=c.set(new dt(t),e)}),Nn(t,e,n,c,i,o,a,s)}return e}var l=new Xe(null);return r.foreach(function(t,e){var r=bt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),Nn(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Me.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return Cn(t,Ke(e,o.getNode(),o.isFullyInitialized()||wt(n),o.isFiltered()),n,r,Tn,i)}(t,e,n.path,r,u)}var d=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ye(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ge(Ye(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return i=t.processor_,(0,o.assert)((s=u.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Fn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Fn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),He(t,i,"child_removed",e,r,n),He(t,i,"child_added",e,r,n),He(t,i,"child_moved",o,r,n),He(t,i,"child_changed",e,r,n),He(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var jn,Un=function(){return function(){this.views=new Map}}();function Vn(t,e,n,r){var i,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Mn(c,e,n,r)}var l=[];try{for(var h=(0,s.__values)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Mn(c=d.value,e,n,r))}catch(f){i={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return l}function qn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=gn(n,i?r:null),a=!1;s?a=!0:r instanceof ie?(s=mn(n,r),a=!1):(s=ie.EMPTY_NODE,a=!1);var u=Ge(new Be(s,a,!1),new Be(r,i,!1));return new Pn(e,u)}return o}function $n(t){var e,n,r=[];try{for(var i=(0,s.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Bn(t,e){var n,r,i=null;try{for(var o=(0,s.__values)(t.views.values()),a=o.next();!a.done;a=o.next())i=i||On(a.value,e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function zn(t,e){return e._queryParams.loadsAllData()?Wn(t):t.views.get(e._queryIdentifier)}function Hn(t,e){return null!=zn(t,e)}function Gn(t){return null!=Wn(t)}function Wn(t){var e,n;try{for(var r=(0,s.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Kn=1,Yn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Xe(null),this.pendingWriteTree_={visibleWrites:Je.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Qn(t,e,n,r,i){return function(t,e,n,r,i){(0,o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ze(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?nr(t,new qe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Xn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&hn(u,r.path)?i=!1:Ct(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(function(t){t.visibleWrites=fn(t.allWrites,dn,ft()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=en(t.visibleWrites,r.path):M(r.children,function(e){t.visibleWrites=en(t.visibleWrites,bt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Xe(null);return null!=r.snap?i=i.set(ft(),!0):M(r.children,function(t){i=i.set(new dt(t),!0)}),nr(t,new Ue(r.path,i,n))}return[]}function Jn(t,e,n){return nr(t,new qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Zn(t,e,n,r){var i=e._path,a=t.syncPointTree_.get(i),u=[];if(a&&("default"===e._queryIdentifier||Hn(a,e))){var c=function(t,e,n,r){var i,a,u=e._queryIdentifier,c=[],l=[],h=Gn(t);if("default"===u)try{for(var d=(0,s.__values)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,g=(0,s.__read)(f.value,2),m=g[0];l=l.concat(Ln(p=g[1],n,r)),Dn(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(Ln(p,n,r)),Dn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Gn(t)&&c.push(new((0,o.assert)(Rn,"Reference.ts has not been loaded"),Rn)(e._repo,e._path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(i,function(t,e){return Gn(e)});if(h&&!d){var f=t.syncPointTree_.subtree(i);if(!f.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Gn(e))return[Wn(e)];var r=[];return e&&(r=$n(e)),M(n,function(t,e){r=r.concat(e)}),r})}(f),g=0;g<p.length;++g){var m=p[g],v=m.query,y=or(t,m);t.listenProvider_.startListening(hr(v),sr(t,v),y.hashFn,y.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(hr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(ar(e));t.listenProvider_.stopListening(hr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=ar(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function tr(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=Et(t,r);i=i||Bn(e,n),s=s||Gn(e)});var a,u=t.syncPointTree_.get(r);u?(s=s||Gn(u),i=i||Bn(u,ft())):(u=new Un,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=ie.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Bn(e,ft());n&&(i=i.updateImmediateChild(t,n))}));var c=Hn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=ar(e);(0,o.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Kn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=qn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jt,function(t,e){r.push(me(t,e))}),n.isFullyInitialized()&&r.push(ge(n.getNode())),Fn(t,r,n.getNode(),e)}(s,n)}(u,e,n,ln(t.pendingWriteTree_,r),i,a);if(!c&&!s){var f=zn(u,e);d=d.concat(function(t,e,n){var r=e._path,i=sr(t,e),s=or(t,n),a=t.listenProvider_.startListening(hr(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Gn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!wt(t)&&e&&Gn(e))return[Wn(e).query];var r=[];return e&&(r=r.concat($n(e).map(function(t){return t.query}))),M(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(hr(h),sr(t,h))}return a}(t,e,f))}return d}function er(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Bn(n,Et(t,e));if(r)return r});return pn(r,e,i,n,!0)}function nr(t,e){return rr(e,t.syncPointTree_,null,ln(t.pendingWriteTree_,ft()))}function rr(t,e,n,r){if(wt(t.path))return ir(t,e,n,r);var i=e.get(ft());null==n&&null!=i&&(n=Bn(i,ft()));var o=[],s=pt(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=bn(r,s);o=o.concat(rr(a,u,c,l))}return i&&(o=o.concat(Vn(i,t,r,n))),o}function ir(t,e,n,r){var i=e.get(ft());null==n&&null!=i&&(n=Bn(i,ft()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=bn(r,e),u=t.operationForChild(e);u&&(o=o.concat(ir(u,i,s,a)))}),i&&(o=o.concat(Vn(i,t,r,n))),o}function or(t,e){var n=e.query,r=sr(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ie.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=ur(t,n);if(r){var i=cr(r),o=i.path,s=i.queryId,a=Et(o,e);return lr(t,o,new Ve(Fe(s),a))}return[]}(t,n._path,r):function(t,e){return nr(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Zn(t,n,null,i)}}}function sr(t,e){var n=ar(e);return t.queryToTagMap.get(n)}function ar(t){return t._path.toString()+"$"+t._queryIdentifier}function ur(t,e){return t.tagToQueryMap.get(e)}function cr(t){var e=t.indexOf("$");return(0,o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new dt(t.substr(0,e))}}function lr(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Vn(r,n,ln(t.pendingWriteTree_,e),null)}function hr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.assert)(jn,"Reference.ts has not been loaded"),jn)(t._repo,t._path):t}var dr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),fr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=bt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return er(this.syncTree_,this.path_)},t}(),pr=function(t,e,n){return t&&"object"==typeof t?((0,o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?gr(t[".sv"],e,n):"object"==typeof t[".sv"]?mr(t[".sv"],e):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},gr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.assert)(!1,"Unexpected server value: "+t)}},mr=function(t,e,n){t.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.assert)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},vr=function(t,e,n,r){return _r(e,new fr(n,t),r)},yr=function(t,e,n){return _r(t,new dr(e),n)};function _r(t,e,n){var r,i=t.getPriority().val(),o=pr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=pr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Xt(a,se(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xt(o))),u.forEachChild(Jt,function(t,i){var o=_r(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var br=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function wr(t,e){for(var n=e instanceof dt?e:new dt(e),r=t,i=pt(n);null!==i;){var s=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new br(i,r,s),i=pt(n=mt(n))}return r}function Er(t){return t.node.value}function Tr(t,e){t.node.value=e,Ar(t)}function Ir(t){return t.node.childCount>0}function Cr(t,e){M(t.node.children,function(n,r){e(new br(n,t,r))})}function Sr(t,e,n,r){n&&!r&&e(t),Cr(t,function(t){Sr(t,e,!0,r)}),n&&r&&e(t)}function kr(t){return new dt(null===t.parent?t.name:kr(t.parent)+"/"+t.name)}function Ar(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Er(t)&&!Ir(t)}(n),i=(0,o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ar(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Ar(t))}(t.parent,t.name,t)}var xr=/[\[\].#$\/\u0000-\u001F\u007F]/,Nr=/[\[\].#$\u0000-\u001F\u007F]/,Rr=10485760,Pr=function(t){return"string"==typeof t&&0!==t.length&&!xr.test(t)},Or=function(t){return"string"==typeof t&&0!==t.length&&!Nr.test(t)},Dr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!A(t)||t&&"object"==typeof t&&(0,o.contains)(t,".sv")},Lr=function(t,e,n,r){r&&void 0===e||Mr((0,o.errorPrefix)(t,"value"),e,n)},Mr=function(t,e,n){var r=n instanceof dt?new St(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+At(r));if("function"==typeof e)throw new Error(t+"contains a function "+At(r)+" with contents = "+e.toString());if(A(e))throw new Error(t+"contains "+e.toString()+" "+At(r));if("string"==typeof e&&e.length>Rr/3&&(0,o.stringLength)(e)>Rr)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+At(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(M(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Pr(e)))throw new Error(t+" contains an invalid key ("+e+") "+At(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.stringLength)(e),kt(t)}(r,e),Mr(t,n,r),u=(a=r).parts_.pop(),a.byteLength_-=(0,o.stringLength)(u),a.parts_.length>0&&(a.byteLength_-=1)}),i&&s)throw new Error(t+' contains ".value" child '+At(r)+" in addition to actual children.")}},Fr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];M(e,function(t,e){var r=new dt(t);if(Mr(i,e,bt(n,r)),".priority"===vt(r)&&!Dr(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=yt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Pr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Tt);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&Ct(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,s)}},jr=function(t,e,n){if(!n||void 0!==e){if(A(e))throw new Error((0,o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dr(e))throw new Error((0,o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ur=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Vr=function(t,e,n,r){if(!(r&&void 0===n||Pr(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qr=function(t,e,n,r){if(!(r&&void 0===n||Or(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$r=function(t,e){if(".info"===pt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Br=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Pr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Or(t)}(n))throw new Error((0,o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},zr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.errorPrefix)(t,e)+"must be a boolean.")},Hr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Gr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||It(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Wr(t,e,n){Gr(t,n),Yr(t,function(t){return It(t,e)})}function Kr(t,e,n){Gr(t,n),Yr(t,function(t){return Ct(t,e)||Ct(e,t)})}function Yr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Qr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Qr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();b&&T("event: "+n.toString()),V(r)}}}var Xr="repo_interrupt",Jr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ne(),this.transactionQueueTree_=new br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Zr(t){var e=t.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ti(t){return(e=(e={timestamp:Zr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ei(t,e,n,r,i){t.dataUpdateCount++;var s=new dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=(0,o.map)(n,function(t){return se(t)});a=function(t,e,n,r){var i=ur(t,r);if(i){var o=cr(i),s=o.path,a=o.queryId,u=Et(s,e),c=Xe.fromObject(n);return lr(t,s,new $e(Fe(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{var c=se(n);a=function(t,e,n,r){var i=ur(t,r);if(null!=i){var o=cr(i),s=o.path,a=o.queryId,u=Et(s,e);return lr(t,s,new qe(Fe(a),u,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){var l=(0,o.map)(n,function(t){return se(t)});a=function(t,e,n){var r=Xe.fromObject(n);return nr(t,new $e({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=se(n);a=Jn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=pi(t,s)),Kr(t.eventQueue_,d,a)}function ni(t,e){ri(t,"connected",e),!1===e&&function(t){li(t,"onDisconnectEvents");var e=ti(t),n=Ne();Oe(t.onDisconnect_,ft(),function(r,i){var o=vr(r,i,t.serverSyncTree_,e);Re(n,r,o)});var r=[];Oe(n,ft(),function(e,n){r=r.concat(Jn(t.serverSyncTree_,e,n));var i=_i(t,e);pi(t,i)}),t.onDisconnect_=Ne(),Kr(t.eventQueue_,ft(),r)}(t)}function ri(t,e,n){var r=new dt("/.info/"+e),i=se(n);t.infoData_.updateSnapshot(r,i);var o=Jn(t.infoSyncTree_,r,i);Kr(t.eventQueue_,r,o)}function ii(t){return t.nextWriteId_++}function oi(t,e,n,r,i){li(t,"set",{path:e.toString(),value:n,priority:r});var o=ti(t),s=se(n,r),a=er(t.serverSyncTree_,e),u=yr(s,a,o),c=ii(t),l=Qn(t.serverSyncTree_,e,u,c,!0);Gr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||k("set at "+e+" failed: "+n);var s=Xn(t.serverSyncTree_,c,!o);Kr(t.eventQueue_,e,s),hi(0,i,n,r)});var h=_i(t,e);pi(t,h),Kr(t.eventQueue_,h,[])}function si(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Pe(t.onDisconnect_,e),hi(0,n,r,i)})}function ai(t,e,n,r){var i=se(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Re(t.onDisconnect_,e,i),hi(0,r,n,o)})}function ui(t,e,n){var r;r=".info"===pt(e._path)?Zn(t.infoSyncTree_,e,n):Zn(t.serverSyncTree_,e,n),Wr(t.eventQueue_,e._path,r)}function ci(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Xr)}function li(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),T.apply(void 0,(0,s.__spreadArray)([r],(0,s.__read)(e)))}function hi(t,e,n,r){e&&V(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function di(t,e,n){return er(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function fi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||yi(t,e),Er(e)){var n=mi(t,e);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=di(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Et(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(r){li(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Xn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(yi(t,wr(t.transactionQueueTree_,e)),fi(t,t.transactionQueueTree_),Kr(t.eventQueue_,e,i),a=0;a<o.length;a++)V(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(k("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;pi(t,e)}},a)}(t,kr(e),n)}else Ir(e)&&Cr(e,function(e){fi(t,e)})}function pi(t,e){var n=gi(t,e),r=kr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var u,c=e[a],l=Et(n,c.path),h=!1;if((0,o.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0));else{var d=di(t,c.path,s);c.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Mr("transaction failed: Data returned ",f,c.path);var p=se(f);"object"==typeof f&&null!=f&&(0,o.contains)(f,".priority")||(p=p.updatePriority(d.getPriority()));var g=c.currentWriteId,m=ti(t),v=yr(p,d,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=v,c.currentWriteId=ii(t),s.splice(s.indexOf(g),1),i=(i=i.concat(Qn(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally))).concat(Xn(t.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0))}Kr(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===u?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)a(u);for(yi(t,t.transactionQueueTree_),u=0;u<r.length;u++)V(r[u]);fi(t,t.transactionQueueTree_)}}(t,mi(t,n),r),r}function gi(t,e){var n,r=t.transactionQueueTree_;for(n=pt(e);null!==n&&void 0===Er(r);)r=wr(r,n),n=pt(e=mt(e));return r}function mi(t,e){var n=[];return vi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function vi(t,e,n){var r=Er(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Cr(e,function(e){vi(t,e,n)})}function yi(t,e){var n=Er(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Tr(e,n.length>0?n:void 0)}Cr(e,function(e){yi(t,e)})}function _i(t,e){var n=kr(gi(t,e)),r=wr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){bi(t,e)}),bi(t,r),Sr(r,function(e){bi(t,e)}),n}function bi(t,e){var n=Er(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?((0,o.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):((0,o.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Xn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Tr(e,void 0):n.length=s+1,Kr(t.eventQueue_,kr(e),i),a=0;a<r.length;a++)V(r[a])}}var wi=function(t,e){var n=Ei(t),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new K(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new dt(n.pathString)}},Ei=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,s.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}},Ti=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},t}(),Ii=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ci=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Si=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return si(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){$r("OnDisconnect.remove",this._path);var t=new o.Deferred;return ai(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){$r("OnDisconnect.set",this._path),Lr("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return ai(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){$r("OnDisconnect.setWithPriority",this._path),Lr("OnDisconnect.setWithPriority",t,this._path,!1),jr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=se(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Re(t.onDisconnect_,e,o),hi(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){$r("OnDisconnect.update",this._path),Fr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if((0,o.isEmpty)(n))return T("onDisconnect().update() called with empty data.  Don't do anything."),void hi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&M(n,function(n,r){var i=se(r);Re(t.onDisconnect_,bt(e,n),i)}),hi(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),ki=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return wt(this._path)?null:vt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ri(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=ke(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return ke(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=It(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Ai(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function xi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ft){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==N)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Jt){if(null!=e&&!Dr(e)||null!=n&&!Dr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(t.getIndex()instanceof ce||t.getIndex()===le,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ni(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ri=function(t){function e(e,n){return t.call(this,e,n,new Ee,!1)||this}return(0,s.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=_t(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(ki),Pi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new dt(e),r=Li(this.ref,e);return new t(this._node.getChild(n),r,Jt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Li(n.ref,r),Jt))})},t.prototype.hasChild=function(t){var e=new dt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Oi(t,e){return(t=(0,o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Li(t._root,e):t._root}function Di(t,e){(t=(0,o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=wi(e,t._repo.repoInfo_.nodeAdmin);Br("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Oi(t,n.path.toString())}function Li(t,e){var n;return null===pt((t=(0,o.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qr("child","path",n,!1)):qr("child","path",e,!1),new Ri(t._repo,bt(t._path,e))}function Mi(t,e){t=(0,o.getModularInstance)(t),$r("push",t._path),Lr("push",e,t._path,!0);var n,r=Zr(t._repo),i=de(r),s=Li(t,i),a=Li(t,i);return n=null!=e?ji(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Fi(t){return $r("remove",t._path),ji(t,null)}function ji(t,e){t=(0,o.getModularInstance)(t),$r("set",t._path),Lr("set",e,t._path,!1);var n=new o.Deferred;return oi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Ui(t,e){t=(0,o.getModularInstance)(t),$r("setPriority",t._path),jr("setPriority",e,!1);var n=new o.Deferred;return oi(t._repo,bt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Vi(t,e,n){if($r("setWithPriority",t._path),Lr("setWithPriority",e,t._path,!1),jr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return oi(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function qi(t,e){Fr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){li(t,"update",{path:e.toString(),value:n});var i=!0,s=ti(t),a={};if(M(n,function(n,r){i=!1,a[n]=vr(bt(e,n),se(r),t.serverSyncTree_,s)}),i)T("update() called with empty data.  Don't do anything."),hi(0,r,"ok",void 0);else{var u=ii(t),c=function(t,e,n,r){!function(t,e,n,r){(0,o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=tn(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Xe.fromObject(n);return nr(t,new $e({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,u);Gr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||k("update at "+e+" failed: "+n);var s=Xn(t.serverSyncTree_,u,!o),a=s.length>0?pi(t,e):e;Kr(t.eventQueue_,a,s),hi(0,r,n,i)}),M(n,function(n){var r=_i(t,bt(e,n));pi(t,r)}),Kr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var $i=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Ti("value",this,new Pi(t.snapshotNode,new Ri(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ii(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Bi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ii(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.assert)(null!=t.childName,"Child events should have a childName.");var n=Li(new Ri(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Ti(t.type,this,new Pi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function zi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){ui(t._repo,t,c),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new Ci(n,o||void 0),c="value"===e?new $i(u):new Bi(e,u);return function(t,e,n){var r;r=".info"===pt(e._path)?tr(t.infoSyncTree_,e,n):tr(t.serverSyncTree_,e,n),Wr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ui(t._repo,t,c)}}function Hi(t,e,n,r){return zi(t,"value",e,n,r)}function Gi(t,e,n,r){return zi(t,"child_added",e,n,r)}function Wi(t,e,n,r){return zi(t,"child_changed",e,n,r)}function Ki(t,e,n,r){return zi(t,"child_moved",e,n,r)}function Yi(t,e,n,r){return zi(t,"child_removed",e,n,r)}function Qi(t,e,n){var r=null,i=n?new Ci(n):null;"value"===e?r=new $i(i):e&&(r=new Bi(e,i)),ui(t._repo,t,r)}var Xi=function(){return function(){}}(),Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Lr("endAt",this._value,t._path,!0);var e=Ie(t._queryParams,this._value,this._key);if(Ni(e),xi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ki(t._repo,t._path,e,t._orderByCalled)},e}(Xi);function Zi(t,e){return Vr("endAt","key",e,!0),new Ji(t,e)}var to=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Lr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Ft?("string"==typeof n&&(n=pe(n)),i=Ie(e,n,r)):i=Ie(e,n,null==r?x:pe(r)),i.endBeforeSet_=!0,i);if(Ni(o),xi(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ki(t._repo,t._path,o,t._orderByCalled)},e}(Xi);function eo(t,e){return Vr("endBefore","key",e,!0),new to(t,e)}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Lr("startAt",this._value,t._path,!0);var e=Te(t._queryParams,this._value,this._key);if(Ni(e),xi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ki(t._repo,t._path,e,t._orderByCalled)},e}(Xi);function ro(t,e){return void 0===t&&(t=null),Vr("startAt","key",e,!0),new no(t,e)}var io=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Lr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Ft?("string"==typeof n&&(n=fe(n)),i=Te(e,n,r)):i=Te(e,n,null==r?N:fe(r)),i.startAfterSet_=!0,i);if(Ni(o),xi(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ki(t._repo,t._path,o,t._orderByCalled)},e}(Xi);function oo(t,e){return Vr("startAfter","key",e,!0),new io(t,e)}var so=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ki(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Xi);function ao(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new so(t)}var uo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ki(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Xi);function co(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uo(t)}var lo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ai(t,"orderByChild");var e=new dt(this._path);if(wt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ce(e),r=Ce(t._queryParams,n);return xi(r),new ki(t._repo,t._path,r,!0)},e}(Xi);function ho(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qr("orderByChild","path",t,!1),new lo(t)}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ai(t,"orderByKey");var e=Ce(t._queryParams,Ft);return xi(e),new ki(t._repo,t._path,e,!0)},e}(Xi);function po(){return new fo}var go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ai(t,"orderByPriority");var e=Ce(t._queryParams,Jt);return xi(e),new ki(t._repo,t._path,e,!0)},e}(Xi);function mo(){return new go}var vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ai(t,"orderByValue");var e=Ce(t._queryParams,le);return xi(e),new ki(t._repo,t._path,e,!0)},e}(Xi);function yo(){return new vo}var _o=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(Lr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ji(this._value,this._key)._apply(new no(this._value,this._key)._apply(t))},e}(Xi);function bo(t,e){return Vr("equalTo","key",e,!0),new _o(t,e)}function wo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(t);try{for(var u=(0,s.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a}!function(t){(0,o.assert)(!Rn,"__referenceConstructor has already been defined"),Rn=t}(Ri),function(t){(0,o.assert)(!jn,"__referenceConstructor has already been defined"),jn=t}(Ri);var Eo={},To=!1;function Io(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=wi(o,i),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=wi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new z(z.OWNER):new B(t.name,t.options,e);Br("Invalid Firebase Database URL",a),wt(a.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=Eo[e.name];i||(Eo[e.name]=i={});var o=i[t.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jr(t,To,n,r),i[t.toURLString()]=o,o}(u,t,l,new $(t.name,n));return new Co(h,t)}var Co=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Z(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ae(t.repoInfo_,function(e,n,r,i){ei(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return ni(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Ot(t.repoInfo_,e,function(e,n,r,i){ei(t,e,n,r,i)},function(e){ni(t,e)},function(e){!function(t,e){M(e,function(e,n){ri(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Le(t.stats_,t.server_)},i=t.repoInfo_.toString(),J[i]||(J[i]=r()),J[i]),t.infoData_=new xe,t.infoSyncTree_=new Yn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Jn(t.infoSyncTree_,e._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ri(t,"connected",!1),t.serverSyncTree_=new Yn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Kr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ri(this._repo,ft())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=Eo[e=this.app.name])&&n[t.key]===t||S("Database "+e+"("+t.repoInfo_+") has already been deleted."),ci(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&S("Cannot call "+t+" on a deleted database.")},t}();function So(t){(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOffline"),ci(t._repo)}function ko(t){var e;(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Xr)}var Ao={".sv":"timestamp"},xo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function No(t,e,n){var r;if(t=(0,o.getModularInstance)(t),$r("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new o.Deferred,a=Hi(t,function(){});return function(e,n,r,i,a,u){li(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new Pi(r,new Ri(t._repo,t._path),Jt),s.resolve(new xo(n,i)))},status:null,order:v(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=di(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Mr("transaction failed: Data returned ",h,c.path),c.status=0;var d=wr(e.transactionQueueTree_,n),f=Er(d)||[];f.push(c),Tr(d,f);var p=void 0;"object"==typeof h&&null!==h&&(0,o.contains)(h,".priority")?(p=(0,o.safeGet)(h,".priority"),(0,o.assert)(Dr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(er(e.serverSyncTree_,n)||ie.EMPTY_NODE).getPriority().val();var g=ti(e),m=se(h,p),y=yr(m,l,g);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=y,c.currentWriteId=ii(e);var _=Qn(e.serverSyncTree_,n,y,c.currentWriteId,c.applyLocally);Kr(e.eventQueue_,n,_),fi(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,i),s.promise}var Ro=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Po=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Oo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),qr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),qr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Lo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Do=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var s,a=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Oo(a.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return Hi(this._delegate,c,l),n;case"child_added":return Gi(this._delegate,c,l),n;case"child_removed":return Yi(this._delegate,c,l),n;case"child_changed":return Wi(this._delegate,c,l),n;case"child_moved":return Ki(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Ur("Query.off",t,!0),(0,o.validateCallback)("Query.off","callback",e,!0),(0,o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Qi(this._delegate,t,r)}else Qi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=Et(t,n);r=r||Bn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Bn(i,ft()):(i=new Un,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Be(r,!0,!1):null;return Ye(qn(i,e,ln(t.pendingWriteTree_,e._path),o?s.getNode():ie.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=se(n).withIndex(e._queryParams.getIndex()),i=Jn(t.serverSyncTree_,e._path,r);return Wr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return li(t,"get for query "+(0,o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.getModularInstance)(t))._repo,t).then(function(e){return new Pi(e,new Ri(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Oo(t.database,e)})},t.prototype.once=function(e,n,r,i){var s=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new Oo(s.database,t);n&&n.call(a.context,r,e),u.resolve(r)};c.userCallback=n,c.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),u.reject(t)};switch(e){case"value":Hi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Gi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Yi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Wi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Ki(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,wo(this._delegate,ao(e)))},t.prototype.limitToLast=function(e){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,wo(this._delegate,co(e)))},t.prototype.orderByChild=function(e){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,wo(this._delegate,ho(e)))},t.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,wo(this._delegate,po()))},t.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,wo(this._delegate,mo()))},t.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,wo(this._delegate,yo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,wo(this._delegate,ro(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,wo(this._delegate,oo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,wo(this._delegate,Zi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,wo(this._delegate,eo(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,wo(this._delegate,bo(e,n)))},t.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Lo(this.database,new Ri(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Lo=function(t){function e(e,n){var r=t.call(this,e,new ki(n._repo,n._path,new Ee,!1))||this;return r.database=e,r._delegate=n,r}return(0,s.__extends)(e,t),e.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Li(this._delegate,t))},e.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",e,!0);var n=ji(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$r("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",e,!0);var i=qi(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Vi(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",t,!0);var e=Fi(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),(0,o.validateCallback)("Reference.transaction","onComplete",e,!0),zr("Reference.transaction","applyLocally",n,!0);var i=No(this._delegate,t,{applyLocally:n}).then(function(t){return new Po(t.committed,new Oo(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Ui(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Mi(this._delegate,t),s=i.then(function(t){return new e(r.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return $r("Reference.onDisconnect",this._delegate._path),new Ro(new Si(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Do),Mo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new z(z.OWNER);else if(r.mockUserToken){var a=(0,o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);s=new z(a)}!function(t,e,n,r){t.repoInfo_=new K(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof Lo){var e=Di(this._delegate,t.toString());return new Lo(this,e)}return e=Oi(this._delegate,t),new Lo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.validateArgCount)(e,1,1,arguments.length);var n=Di(this._delegate,t);return new Lo(this,n)},t.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),So(this._delegate)},t.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),ko(this._delegate)},t.ServerValue={TIMESTAMP:Ao,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Fo=Object.freeze({__proto__:null,forceLongPolling:function(){st.forceDisallow(),rt.forceAllow()},forceWebSockets:function(){rt.forceDisallow()},isWebSocketsAvailable:function(){return st.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new De(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);M(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return u.setComponent(new i.Component("auth-internal",function(){return r},"PRIVATE")),{instance:new Mo(Io(e,u,void 0,n,a),e),namespace:o}}}),jo=Ot;Ot.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ot.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Uo=Object.freeze({__proto__:null,DataConnection:jo,RealTimeConnection:ut,hijackHash:function(t){var e=Ot.prototype.put;return Ot.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ot.prototype.put=e}},ConnectionTarget:K,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){To=t}(t)}}),Vo=Mo.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Mo(Io(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Lo,Query:Do,Database:Mo,DataSnapshot:Oo,enableLogging:E,INTERNAL:Fo,ServerValue:Vo,TEST_ACCESS:Uo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.8"),(0,o.isNodeSdk)()&&(t.exports=n)}(r.default)},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,{LogLevel:()=>s,Logger:()=>h,setLogLevel:()=>d,setUserLogHandler:()=>f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CONSTANTS:()=>i,Deferred:()=>f,ErrorFactory:()=>R,FirebaseError:()=>N,MAX_VALUE_MILLIS:()=>st,RANDOM_FACTOR:()=>at,Sha1:()=>K,areCookiesEnabled:()=>A,assert:()=>o,assertionError:()=>s,async:()=>X,base64:()=>u,base64Decode:()=>l,base64Encode:()=>c,calculateBackoffMillis:()=>ut,contains:()=>q,createMockUserToken:()=>p,createSubscribe:()=>Y,decode:()=>M,deepCopy:()=>h,deepExtend:()=>d,errorPrefix:()=>tt,extractQuerystring:()=>W,getGlobal:()=>x,getModularInstance:()=>lt,getUA:()=>g,isAdmin:()=>V,isBrowser:()=>y,isBrowserExtension:()=>_,isElectron:()=>w,isEmpty:()=>B,isIE:()=>E,isIndexedDBAvailable:()=>S,isMobileCordova:()=>m,isNode:()=>v,isNodeSdk:()=>I,isReactNative:()=>b,isSafari:()=>C,isUWP:()=>T,isValidFormat:()=>U,isValidTimestamp:()=>F,issuedAtTime:()=>j,jsonEval:()=>D,map:()=>z,ordinal:()=>ct,querystring:()=>H,querystringDecode:()=>G,safeGet:()=>$,stringLength:()=>ot,stringToByteArray:()=>it,stringify:()=>L,validateArgCount:()=>Z,validateCallback:()=>nt,validateContextObject:()=>rt,validateIndexedDBOpenable:()=>k,validateNamespace:()=>et});var r=n(4762),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=a(t);return u.encodeByteArray(e,!0)},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(s),!1),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function _(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return g().indexOf("Electron/")>=0}function E(){var t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T(){return g().indexOf("MSAppHost/")>=0}function I(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function C(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function k(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function A(){return!(!navigator||!navigator.cookieEnabled)}function x(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var N=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,R.prototype.create),o}return(0,r.__extends)(e,t),e}(Error),R=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?P(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new N(i,a,r);return u},t}();function P(t,e){return t.replace(O,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var O=/\{\$([^}]+)}/g;function D(t){return JSON.parse(t)}function L(t){return JSON.stringify(t)}var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},F=function(t){var e=M(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},j=function(t){var e=M(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},U=function(t){var e=M(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},V=function(t){var e=M(t).claims;return"object"==typeof e&&!0===e.admin};function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function B(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function z(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function H(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function G(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),r=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),e}function W(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var K=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Y(t,e){var n=new Q(t,e);return n.subscribe.bind(n)}var Q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function X(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function J(){}var Z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function tt(t,e){return t+" failed: "+e+" argument "}function et(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(tt(t,"namespace")+"must be a valid firebase namespace.")}function nt(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(tt(t,e)+"must be a valid function.")}function rt(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(tt(t,e)+"must be a valid context object.")}var it=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ot=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},st=144e5,at=.5;function ut(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(at*r*(Math.random()-.5)*2);return Math.min(st,r+i)}function ct(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function lt(t){return t&&t._delegate?t._delegate:t}},8024:(t,e,n)=>{"use strict";n.d(e,{KY:()=>_,gR:()=>d,DM:()=>b,e4:()=>w,J2:()=>E,Iq:()=>T,sM:()=>a,G5:()=>f});var r=n(8318),i=n(7254),o={error:"cordova_not_available"},s={error:"plugin_not_installed"};function a(t){if("undefined"!=typeof window&&window.angular){var e=window.document,n=window.angular.element(e.querySelector("[ng-app]")||e.body).injector();if(n)return n.get("$q")(function(e,n){t(e,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(e,n){t(e,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(t,e,n,r){var i,o;void 0===r&&(r={});var s=a(function(s,a){i=r.destruct?g(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)}):g(t,e,n,r,s,a),o=a});return i&&i.error&&(s.catch(function(){}),"function"==typeof o&&o(i.error)),s}function c(t,e,n,r){return void 0===r&&(r={}),a(function(i,o){var s=g(t,e,n,r);s?s.error?o(s.error):s.then&&s.then(i).catch(o):o({error:"unexpected_error"})})}function l(t,e,n,i){return void 0===i&&(i={}),new r.y(function(r){var o;return(o=i.destruct?g(t,e,n,i,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):g(t,e,n,i,r.next.bind(r),r.error.bind(r)))&&o.error&&(r.error(o.error),r.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?g(t,i.clearFunction,n,i,r.next.bind(r),r.error.bind(r)):g(t,i.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}})}function h(t,e){return e="undefined"!=typeof window&&e?y(window,e):e||("undefined"!=typeof window?window:{}),(0,i.R)(e,t)}function d(t,e,n){var r,i,a;return"string"==typeof t?r=t:(r=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),a=t.constructor.getPluginInstallName()),!(!(i=v(r))||e&&void 0===i[e])||("undefined"!=typeof window&&window.cordova?(function(t,e,n){n?console.warn("Native: tried calling "+t+"."+n+", but the "+t+" plugin is not installed."):console.warn("Native: tried accessing the "+t+" plugin but it's not installed."),e&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+e+"'")}(n,a,e),s):(function(t,e){"undefined"==typeof process&&(e?console.warn("Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(n,e),o))}function f(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}function p(t,e,n,r){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(r),t.unshift(n);else if("node"===e.callbackStyle)t.push(function(t,e){t?r(t):n(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var i={};i[e.successName]=n,i[e.errorName]=r,t.push(i)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var o=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},s=function(){e.errorIndex>t.length?t[e.errorIndex]=r:t.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(s(),o()):(o(),s())}else t.push(n),t.push(r);return t}function g(t,e,n,r,i,o){void 0===r&&(r={}),n=p(n,r,i,o);var s=d(t,e);if(!0===s){var a=v(t.constructor.getPluginRef());return a[e].apply(a,n)}return s}function m(t,e,n,r,i,o){if(void 0===r&&(r={}),n=p(n,r,i,o),f(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function v(t){return"undefined"!=typeof window?y(window,t):null}function y(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}var _=function(){function t(){}return t.installed=function(){return!0===d(this.pluginRef)},t.getPlugin=function(){return"undefined"!=typeof window?function(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}(window,this.pluginRef):null},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms},t.pluginName="",t.pluginRef="",t.plugin="",t.repo="",t.platforms=[],t.install="",t}();function b(t,e,n,r){return function(t,e,n){return void 0===n&&(n={}),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.sync?g(t,e,r,n):n.observable?l(t,e,r,n):n.eventObservable&&n.event?h(n.event,n.element):n.otherPromise?c(t,e,r,n):u(t,e,r,n)}}(t,e,n).apply(this,r)}function w(t,e,n,i){return i=Array.from(i),function(t,e,n){return void 0===n&&(n={}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.sync)return m(t,e,i,n);if(n.observable)return new r.y(function(r){var o;return(o=n.destruct?m(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):m(t,e,i,n,r.next.bind(r),r.error.bind(r)))&&o.error&&r.error(o.error),function(){try{return n.clearWithArgs?m(t,n.clearFunction,i,n,r.next.bind(r),r.error.bind(r)):m(t,n.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}});if(n.otherPromise)return a(function(r,o){var s;(s=n.destruct?m(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):m(t,e,i,n,r,o))&&s.then?s.then(r,o):o()});var s,u,c=a(function(r,o){s=n.destruct?m(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):m(t,e,i,n,r,o),u=o});return s&&s.error&&(c.catch(function(){}),"function"==typeof u&&u(s.error)),c}}(t,e,n).apply(this,i)}function E(t,e){return!0===d(t,e)?v(t.constructor.getPluginRef())[e]:null}function T(t,e,n){!0===d(t,e)&&(v(t.constructor.getPluginRef())[e]=n)}!function(){if("undefined"==typeof process){var t="undefined"!=typeof window?window:{},e=Date.now(),n=!1;t.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-e)+" ms"),n=!0}),setTimeout(function(){!n&&t.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},7310:(t,e,n)=>{"use strict";n.d(e,{s:()=>s});var r=n(4762),i=n(8024),o=n(7368),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENTS={EVENT_NAME_ACTIVATED_APP:"fb_mobile_activate_app",EVENT_NAME_DEACTIVATED_APP:"fb_mobile_deactivate_app",EVENT_NAME_SESSION_INTERRUPTIONS:"fb_mobile_app_interruptions",EVENT_NAME_TIME_BETWEEN_SESSIONS:"fb_mobile_time_between_sessions",EVENT_NAME_COMPLETED_REGISTRATION:"fb_mobile_complete_registration",EVENT_NAME_VIEWED_CONTENT:"fb_mobile_content_view",EVENT_NAME_SEARCHED:"fb_mobile_search",EVENT_NAME_RATED:"fb_mobile_rate",EVENT_NAME_COMPLETED_TUTORIAL:"fb_mobile_tutorial_completion",EVENT_NAME_PUSH_TOKEN_OBTAINED:"fb_mobile_obtain_push_token",EVENT_NAME_ADDED_TO_CART:"fb_mobile_add_to_cart",EVENT_NAME_ADDED_TO_WISHLIST:"fb_mobile_add_to_wishlist",EVENT_NAME_INITIATED_CHECKOUT:"fb_mobile_initiated_checkout",EVENT_NAME_ADDED_PAYMENT_INFO:"fb_mobile_add_payment_info",EVENT_NAME_PURCHASED:"fb_mobile_purchase",EVENT_NAME_ACHIEVED_LEVEL:"fb_mobile_level_achieved",EVENT_NAME_UNLOCKED_ACHIEVEMENT:"fb_mobile_achievement_unlocked",EVENT_NAME_SPENT_CREDITS:"fb_mobile_spent_credits",EVENT_PARAM_CURRENCY:"fb_currency",EVENT_PARAM_REGISTRATION_METHOD:"fb_registration_method",EVENT_PARAM_CONTENT_TYPE:"fb_content_type",EVENT_PARAM_CONTENT_ID:"fb_content_id",EVENT_PARAM_SEARCH_STRING:"fb_search_string",EVENT_PARAM_SUCCESS:"fb_success",EVENT_PARAM_MAX_RATING_VALUE:"fb_max_rating_value",EVENT_PARAM_PAYMENT_INFO_AVAILABLE:"fb_payment_info_available",EVENT_PARAM_NUM_ITEMS:"fb_num_items",EVENT_PARAM_LEVEL:"fb_level",EVENT_PARAM_DESCRIPTION:"fb_description",EVENT_PARAM_SOURCE_APPLICATION:"fb_mobile_launch_source",EVENT_PARAM_VALUE_YES:"1",EVENT_PARAM_VALUE_NO:"0"},e}return(0,r.__extends)(e,t),e.prototype.login=function(t){return(0,i.DM)(this,"login",{},arguments)},e.prototype.loginWithLimitedTracking=function(t){return(0,i.DM)(this,"loginWithLimitedTracking",{},arguments)},e.prototype.checkHasCorrectPermissions=function(t){return(0,i.DM)(this,"checkHasCorrectPermissions",{},arguments)},e.prototype.isDataAccessExpired=function(){return(0,i.DM)(this,"isDataAccessExpired",{},arguments)},e.prototype.reauthorizeDataAccess=function(){return(0,i.DM)(this,"reauthorizeDataAccess",{},arguments)},e.prototype.logout=function(){return(0,i.DM)(this,"logout",{},arguments)},e.prototype.getLoginStatus=function(){return(0,i.DM)(this,"getLoginStatus",{},arguments)},e.prototype.getAccessToken=function(){return(0,i.DM)(this,"getAccessToken",{},arguments)},e.prototype.getCurrentProfile=function(){return(0,i.DM)(this,"getCurrentProfile",{},arguments)},e.prototype.showDialog=function(t){return(0,i.DM)(this,"showDialog",{},arguments)},e.prototype.api=function(t,e,n){return(0,i.DM)(this,"api",{},arguments)},e.prototype.logEvent=function(t,e,n){return(0,i.DM)(this,"logEvent",{successIndex:3,errorIndex:4},arguments)},e.prototype.setAutoLogAppEventsEnabled=function(t){return(0,i.DM)(this,"setAutoLogAppEventsEnabled",{successIndex:1,errorIndex:2},arguments)},e.prototype.setAdvertiserIDCollectionEnabled=function(t){return(0,i.DM)(this,"setAdvertiserIDCollectionEnabled",{},arguments)},e.prototype.setAdvertiserTrackingEnabled=function(t){return(0,i.DM)(this,"setAdvertiserTrackingEnabled",{},arguments)},e.prototype.logPurchase=function(t,e,n){return(0,i.DM)(this,"logPurchase",{},arguments)},e.prototype.getDeferredApplink=function(){return(0,i.DM)(this,"getDeferredApplink",{},arguments)},e.prototype.activateApp=function(){return(0,i.DM)(this,"activateApp",{},arguments)},e.pluginName="Facebook",e.plugin="cordova-plugin-facebook-connect",e.pluginRef="facebookConnectPlugin",e.repo="https://github.com/cordova-plugin-facebook-connect/cordova-plugin-facebook-connect",e.install='ionic cordova plugin add cordova-plugin-facebook-connect --variable APP_ID="123456789" --variable APP_NAME="myApplication"',e.installVariables=["APP_ID","APP_NAME"],e.platforms=["Android","iOS","Browser"],e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY)},5700:(t,e,n)=>{"use strict";n.d(e,{K:()=>s});var r=n(4762),i=n(8024),o=n(7368),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FileTransferErrorCode={FILE_NOT_FOUND_ERR:1,INVALID_URL_ERR:2,CONNECTION_ERR:3,ABORT_ERR:4,NOT_MODIFIED_ERR:5},e}return(0,r.__extends)(e,t),e.prototype.create=function(){return new a},e.pluginName="FileTransfer",e.plugin="cordova-plugin-file-transfer",e.pluginRef="FileTransfer",e.repo="https://github.com/apache/cordova-plugin-file-transfer",e.platforms=["Amazon Fire OS","Android","Browser","iOS","Ubuntu","Windows","Windows Phone"],e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY),a=function(){function t(){!0===(0,i.gR)(s.getPluginRef(),null,s.getPluginName())&&(this._objectInstance=new(s.getPlugin()))}return t.prototype.upload=function(t,e,n,r){return(0,i.e4)(this,"upload",{successIndex:2,errorIndex:3},arguments)},t.prototype.download=function(t,e,n,r){return(0,i.e4)(this,"download",{successIndex:2,errorIndex:3},arguments)},t.prototype.onProgress=function(t){!0===(0,i.G5)(this)&&(this._objectInstance.onprogress=t)},t.prototype.abort=function(){return(0,i.e4)(this,"abort",{sync:!0},arguments)},t.plugin="cordova-plugin-file-transfer",t.pluginName="FileTransfer",t}()},7696:(t,e,n)=>{"use strict";n.d(e,{$:()=>s});var r=n(4762),i=n(8024),o=n(7368),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},e}return(0,r.__extends)(e,t),e.prototype.getFreeDiskSpace=function(){var t=this;return function(){if(!0===(0,i.gR)(t))return(0,i.sM)(function(t,e){cordova.exec(t,e,"File","getFreeDiskSpace",[])})}()},e.prototype.checkDir=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t+e).then(function(){return!0})}}()},e.prototype.createDir=function(t,e,n){var r=this;return function(){if(!0===(0,i.gR)(r)){if(/^\//.test(e)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}var s={create:!0};return n||(s.exclusive=!0),r.resolveDirectoryUrl(t).then(function(t){return r.getDirectory(t,e,s)})}}()},e.prototype.removeDir=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1})}).then(function(t){return n.remove(t)})}}()},e.prototype.moveDir=function(t,e,n,r){var o=this;return function(){if(!0===(0,i.gR)(o)){if(/^\//.test(r=r||e)){var s=new FileError(5);return s.message="directory cannot start with /",Promise.reject(s)}return o.resolveDirectoryUrl(t).then(function(t){return o.getDirectory(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.move(t,e,r)})})}}()},e.prototype.copyDir=function(t,e,n,r){var o=this;return function(){if(!0===(0,i.gR)(o)){if(/^\//.test(r)){var s=new FileError(5);return s.message="directory cannot start with /",Promise.reject(s)}return o.resolveDirectoryUrl(t).then(function(t){return o.getDirectory(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.copy(t,e,r)})})}}()},e.prototype.listDir=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1,exclusive:!1})}).then(function(t){var e=t.createReader();return n.readEntries(e)})}}()},e.prototype.removeRecursively=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1})}).then(function(t){return n.rimraf(t)})}}()},e.prototype.checkFile=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="file cannot start with /",Promise.reject(r)}return n.resolveLocalFilesystemUrl(t+e).then(function(t){if(t.isFile)return!0;var e=new FileError(13);return e.message="input is not a file",Promise.reject(e)})}}()},e.prototype.createFile=function(t,e,n){var r=this;return function(){if(!0===(0,i.gR)(r)){if(/^\//.test(e)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}var s={create:!0};return n||(s.exclusive=!0),r.resolveDirectoryUrl(t).then(function(t){return r.getFile(t,e,s)})}}()},e.prototype.removeFile=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="file-name cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getFile(t,e,{create:!1})}).then(function(t){return n.remove(t)})}}()},e.prototype.writeFile=function(t,e,n,r){var o=this;return void 0===r&&(r={}),function(){if(!0===(0,i.gR)(o)){if(/^\//.test(e)){var s=new FileError(5);return s.message="file-name cannot start with /",Promise.reject(s)}var a={create:!r.append,exclusive:!r.replace};return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,a)}).then(function(t){return o.writeFileEntry(t,n,r)})}}()},e.prototype.writeFileEntry=function(t,e,n){var r=this;return this.createWriter(t).then(function(t){return n.append&&t.seek(t.length),n.truncate&&t.truncate(n.truncate),r.write(t,e)}).then(function(){return t})},e.prototype.writeExistingFile=function(t,e,n){var r=this;return function(){if(!0===(0,i.gR)(r))return r.writeFile(t,e,n,{replace:!0})}()},e.prototype.readAsText=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n))return n.readFile(t,e,"Text")}()},e.prototype.readAsDataURL=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n))return n.readFile(t,e,"DataURL")}()},e.prototype.readAsBinaryString=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n))return n.readFile(t,e,"BinaryString")}()},e.prototype.readAsArrayBuffer=function(t,e){var n=this;return function(){if(!0===(0,i.gR)(n))return n.readFile(t,e,"ArrayBuffer")}()},e.prototype.moveFile=function(t,e,n,r){var o=this;return function(){if(!0===(0,i.gR)(o)){if(/^\//.test(r=r||e)){var s=new FileError(5);return s.message="file name cannot start with /",Promise.reject(s)}return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.move(t,e,r)})})}}()},e.prototype.copyFile=function(t,e,n,r){var o=this;return function(){if(!0===(0,i.gR)(o)){if(/^\//.test(r=r||e)){var s=new FileError(5);return s.message="file name cannot start with /",Promise.reject(s)}return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.copy(t,e,r)})})}}()},e.prototype.fillErrorMessage=function(t){try{t.message=this.cordovaFileError[t.code]}catch(e){}},e.prototype.resolveLocalFilesystemUrl=function(t){var e=this;return function(){if(!0===(0,i.gR)(e))return(0,i.sM)(function(n,r){try{window.resolveLocalFileSystemURL(t,function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})}catch(i){e.fillErrorMessage(i),r(i)}})}()},e.prototype.resolveDirectoryUrl=function(t){var e=this;return function(){if(!0===(0,i.gR)(e))return e.resolveLocalFilesystemUrl(t).then(function(t){if(t.isDirectory)return t;var e=new FileError(13);return e.message="input is not a directory",Promise.reject(e)})}()},e.prototype.getDirectory=function(t,e,n){var r=this;return function(){if(!0===(0,i.gR)(r))return new Promise(function(i,o){try{t.getDirectory(e,n,function(t){i(t)},function(t){r.fillErrorMessage(t),o(t)})}catch(s){r.fillErrorMessage(s),o(s)}})}()},e.prototype.getFile=function(t,e,n){var r=this;return function(){if(!0===(0,i.gR)(r))return new Promise(function(i,o){try{t.getFile(e,n,i,function(t){r.fillErrorMessage(t),o(t)})}catch(s){r.fillErrorMessage(s),o(s)}})}()},e.prototype.readFile=function(t,e,n){var r=this;if(/^\//.test(e)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}return this.resolveDirectoryUrl(t).then(function(t){return r.getFile(t,e,{create:!1})}).then(function(t){var e=new FileReader;return(0,i.sM)(function(r,i){e.onloadend=function(){void 0!==e.result||null!==e.result?r(e.result):i(void 0!==e.error||null!==e.error?e.error:{code:null,message:"READER_ONLOADEND_ERR"})},t.file(function(t){e["readAs"+n].call(e,t)},function(t){i(t)})})})},e.prototype.remove=function(t){var e=this;return new Promise(function(n,r){t.remove(function(){n({success:!0,fileRemoved:t})},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.move=function(t,e,n){var r=this;return new Promise(function(i,o){t.moveTo(e,n,function(t){i(t)},function(t){r.fillErrorMessage(t),o(t)})})},e.prototype.copy=function(t,e,n){var r=this;return new Promise(function(i,o){t.copyTo(e,n,function(t){i(t)},function(t){r.fillErrorMessage(t),o(t)})})},e.prototype.readEntries=function(t){var e=this;return new Promise(function(n,r){t.readEntries(function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.rimraf=function(t){var e=this;return new Promise(function(n,r){t.removeRecursively(function(){n({success:!0,fileRemoved:t})},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.createWriter=function(t){var e=this;return new Promise(function(n,r){t.createWriter(function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.write=function(t,e){return e instanceof Blob?this.writeFileInChunks(t,e):new Promise(function(n,r){t.onwriteend=function(e){t.error?r(t.error):n(e)},t.write(e)})},e.prototype.writeFileInChunks=function(t,e){var n=0;function r(){var r=Math.min(1048576,e.size-n),i=e.slice(n,n+r);n+=r,t.write(i)}return(0,i.sM)(function(i,o){t.onerror=o,t.onwrite=function(){n<e.size?r():i()},r()})},Object.defineProperty(e.prototype,"applicationDirectory",{get:function(){return(0,i.J2)(this,"applicationDirectory")},set:function(t){(0,i.Iq)(this,"applicationDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationStorageDirectory",{get:function(){return(0,i.J2)(this,"applicationStorageDirectory")},set:function(t){(0,i.Iq)(this,"applicationStorageDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataDirectory",{get:function(){return(0,i.J2)(this,"dataDirectory")},set:function(t){(0,i.Iq)(this,"dataDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cacheDirectory",{get:function(){return(0,i.J2)(this,"cacheDirectory")},set:function(t){(0,i.Iq)(this,"cacheDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,i.J2)(this,"externalApplicationStorageDirectory")},set:function(t){(0,i.Iq)(this,"externalApplicationStorageDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"externalDataDirectory",{get:function(){return(0,i.J2)(this,"externalDataDirectory")},set:function(t){(0,i.Iq)(this,"externalDataDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"externalCacheDirectory",{get:function(){return(0,i.J2)(this,"externalCacheDirectory")},set:function(t){(0,i.Iq)(this,"externalCacheDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"externalRootDirectory",{get:function(){return(0,i.J2)(this,"externalRootDirectory")},set:function(t){(0,i.Iq)(this,"externalRootDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tempDirectory",{get:function(){return(0,i.J2)(this,"tempDirectory")},set:function(t){(0,i.Iq)(this,"tempDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"syncedDataDirectory",{get:function(){return(0,i.J2)(this,"syncedDataDirectory")},set:function(t){(0,i.Iq)(this,"syncedDataDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"documentsDirectory",{get:function(){return(0,i.J2)(this,"documentsDirectory")},set:function(t){(0,i.Iq)(this,"documentsDirectory",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharedDirectory",{get:function(){return(0,i.J2)(this,"sharedDirectory")},set:function(t){(0,i.Iq)(this,"sharedDirectory",t)},enumerable:!1,configurable:!0}),e.pluginName="File",e.plugin="cordova-plugin-file",e.pluginRef="cordova.file",e.repo="https://github.com/apache/cordova-plugin-file",e.platforms=["Android","Browser","iOS","macOS","Windows"],e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY)},9452:(t,e,n)=>{"use strict";n.d(e,{t:()=>s});var r=n(4762),i=n(8024),o=n(7368),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getBasicAuthHeader=function(t,e){return(0,i.DM)(this,"getBasicAuthHeader",{sync:!0},arguments)},e.prototype.useBasicAuth=function(t,e){return(0,i.DM)(this,"useBasicAuth",{sync:!0},arguments)},e.prototype.getHeaders=function(t){return(0,i.DM)(this,"getHeaders",{sync:!0},arguments)},e.prototype.setHeader=function(t,e,n){return(0,i.DM)(this,"setHeader",{sync:!0},arguments)},e.prototype.getDataSerializer=function(){return(0,i.DM)(this,"getDataSerializer",{sync:!0},arguments)},e.prototype.setDataSerializer=function(t){return(0,i.DM)(this,"setDataSerializer",{sync:!0},arguments)},e.prototype.setCookie=function(t,e){return(0,i.DM)(this,"setCookie",{sync:!0},arguments)},e.prototype.clearCookies=function(){return(0,i.DM)(this,"clearCookies",{sync:!0},arguments)},e.prototype.removeCookies=function(t,e){return(0,i.DM)(this,"removeCookies",{sync:!0},arguments)},e.prototype.getCookieString=function(t){return(0,i.DM)(this,"getCookieString",{sync:!0},arguments)},e.prototype.getRequestTimeout=function(){return(0,i.DM)(this,"getRequestTimeout",{sync:!0},arguments)},e.prototype.setRequestTimeout=function(t){return(0,i.DM)(this,"setRequestTimeout",{sync:!0},arguments)},e.prototype.getFollowRedirect=function(){return(0,i.DM)(this,"getFollowRedirect",{sync:!0},arguments)},e.prototype.setFollowRedirect=function(t){return(0,i.DM)(this,"setFollowRedirect",{sync:!0},arguments)},e.prototype.setServerTrustMode=function(t){return(0,i.DM)(this,"setServerTrustMode",{},arguments)},e.prototype.post=function(t,e,n){return(0,i.DM)(this,"post",{},arguments)},e.prototype.postSync=function(t,e,n,r,o){return(0,i.DM)(this,"post",{methodName:"post",sync:!0},arguments)},e.prototype.get=function(t,e,n){return(0,i.DM)(this,"get",{},arguments)},e.prototype.getSync=function(t,e,n,r,o){return(0,i.DM)(this,"get",{methodName:"get",sync:!0},arguments)},e.prototype.put=function(t,e,n){return(0,i.DM)(this,"put",{},arguments)},e.prototype.putSync=function(t,e,n,r,o){return(0,i.DM)(this,"put",{methodName:"put",sync:!0},arguments)},e.prototype.patch=function(t,e,n){return(0,i.DM)(this,"patch",{},arguments)},e.prototype.patchSync=function(t,e,n,r,o){return(0,i.DM)(this,"patch",{methodName:"patch",sync:!0},arguments)},e.prototype.delete=function(t,e,n){return(0,i.DM)(this,"delete",{},arguments)},e.prototype.deleteSync=function(t,e,n,r,o){return(0,i.DM)(this,"delete",{methodName:"delete",sync:!0},arguments)},e.prototype.head=function(t,e,n){return(0,i.DM)(this,"head",{},arguments)},e.prototype.headSync=function(t,e,n,r,o){return(0,i.DM)(this,"head",{methodName:"head",sync:!0},arguments)},e.prototype.options=function(t,e,n){return(0,i.DM)(this,"options",{},arguments)},e.prototype.optionsSync=function(t,e,n,r,o){return(0,i.DM)(this,"options",{methodName:"options",sync:!0},arguments)},e.prototype.uploadFile=function(t,e,n,r,o){return(0,i.DM)(this,"uploadFile",{},arguments)},e.prototype.uploadFileSync=function(t,e,n,r,o,s,a){return(0,i.DM)(this,"uploadFile",{methodName:"uploadFile",sync:!0},arguments)},e.prototype.downloadFile=function(t,e,n,r){return(0,i.DM)(this,"downloadFile",{},arguments)},e.prototype.downloadFileSync=function(t,e,n,r,o,s){return(0,i.DM)(this,"downloadFile",{methodName:"downloadFile",sync:!0},arguments)},e.prototype.sendRequest=function(t,e){return(0,i.DM)(this,"sendRequest",{},arguments)},e.prototype.sendRequestSync=function(t,e,n,r){return(0,i.DM)(this,"sendRequest",{methodName:"sendRequest",sync:!0},arguments)},e.prototype.abort=function(t){return(0,i.DM)(this,"abort",{},arguments)},Object.defineProperty(e.prototype,"ErrorCode",{get:function(){return(0,i.J2)(this,"ErrorCode")},set:function(t){(0,i.Iq)(this,"ErrorCode",t)},enumerable:!1,configurable:!0}),e.pluginName="HTTP",e.plugin="cordova-plugin-advanced-http",e.pluginRef="cordova.plugin.http",e.repo="https://github.com/silkimen/cordova-plugin-advanced-http",e.platforms=["Android","iOS"],e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY)},6065:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(4762),i=n(8024),o=n(1906),s=n(6673);function a(t){return e=>e.lift(new u(t))}class u{constructor(t){this.value=t}call(t,e){return e.subscribe(new c(t,this.value))}}class c extends s.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var l=n(7368),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Connection={UNKNOWN:"unknown",ETHERNET:"ethernet",WIFI:"wifi",CELL_2G:"2g",CELL_3G:"3g",CELL_4G:"4g",CELL:"cellular",NONE:"none"},e}return(0,r.__extends)(e,t),e.prototype.onChange=function(){var t=this;return function(){if(!0===(0,i.gR)(t))return(0,o.T)(t.onConnect().pipe(a("connected")),t.onDisconnect().pipe(a("disconnected")))}()},e.prototype.onDisconnect=function(){return(0,i.DM)(this,"onDisconnect",{eventObservable:!0,event:"offline",element:"document"},arguments)},e.prototype.onConnect=function(){return(0,i.DM)(this,"onConnect",{eventObservable:!0,event:"online",element:"document"},arguments)},Object.defineProperty(e.prototype,"type",{get:function(){return(0,i.J2)(this,"type")},set:function(t){(0,i.Iq)(this,"type",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"downlinkMax",{get:function(){return(0,i.J2)(this,"downlinkMax")},set:function(t){(0,i.Iq)(this,"downlinkMax",t)},enumerable:!1,configurable:!0}),e.pluginName="Network",e.plugin="cordova-plugin-network-information",e.pluginRef="navigator.connection",e.repo="https://github.com/apache/cordova-plugin-network-information",e.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],e.\u0275fac=function(){var t;return function(n){return(t||(t=l.n5z(e)))(n||e)}}(),e.\u0275prov=l.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY)},4930:(t,e,n)=>{"use strict";n.d(e,{U:()=>s});var r=n(4762),i=n(8024),o=n(7368),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.login=function(){return(0,i.DM)(this,"login",{},arguments)},e.prototype.logout=function(){return(0,i.DM)(this,"logout",{},arguments)},e.prototype.showUser=function(){return(0,i.DM)(this,"showUser",{},arguments)},e.pluginName="TwitterConnect",e.plugin="twitter-connect-plugin",e.pluginRef="TwitterConnect",e.repo="https://github.com/chroa/twitter-connect-plugin",e.install="ionic cordova plugin add https://github.com/chroa/twitter-connect-plugin --variable FABRIC_KEY=<Fabric API Key> --variable TWITTER_KEY=<Twitter Consumer Key> --variable TWITTER_SECRET=<Twitter Consumer Secret>",e.installVariables=["FABRIC_KEY","TWITTER_KEY","TWITTER_SECRET"],e.platforms=["Android","iOS"],e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY)},8809:(t,e,n)=>{"use strict";function r(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function i(t,e){return function(n,r){e(n,r,t)}}function o(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}n.d(e,{Br:()=>Dt,dr:()=>H,YG:()=>G,Sm:()=>W,W2:()=>K,IJ:()=>Y,W4:()=>Q,Gu:()=>X,gu:()=>J,pK:()=>Z,Ie:()=>tt,z0:()=>et,fG:()=>nt,nJ:()=>rt,Wo:()=>it,jP:()=>Rt,A$:()=>ot,Hr:()=>st,jI:()=>at,Bs:()=>ut,wd:()=>ct,sr:()=>lt,Pc:()=>Bt,r4:()=>Vt,HT:()=>Lt,_q:()=>Mt,IN:()=>Ft,t4:()=>D,j9:()=>O,yF:()=>Ut});var s=n(7368),a=n(1462),u=n(1116),c=n(4174),l=(n(5337),n(8176),n(8520),n(7505)),h=n(1843),d=n(5538),f=n(4378),p=n(1558),g=(n(6953),n(2322)),m=n(5959),v=n(7254),y=n(8512),_=n(6673);class b{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new w(t,this.compare,this.keySelector))}}class w extends _.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var E=n(3835),T=n(4689);const I=l.i,C=["*"],S=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);let k=(()=>{class t{constructor(t,e){this.injector=t,this.el=e,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=null==t?"":t,A(this.el)}handleChangeEvent(t,e){t===this.el.nativeElement&&(e!==this.lastValue&&(this.lastValue=e,this.onChange(e)),A(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),A(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(a.a5)}catch(n){}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>A(this.el)));const e=t.control;e&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(t=>{if(e[t]){const n=e[t].bind(e);e[t]=(...t)=>{n(...t),A(this.el)}}})}}return t.\u0275fac=function(t){s.$Z()},t.\u0275dir=s.lG2({type:t,hostBindings:function(t,e){1&t&&s.NdJ("ionBlur",function(t){return e._handleBlurEvent(t.target)})}}),t})();const A=t=>{S(()=>{const e=t.nativeElement,n=x(e);N(e,n);const r=e.closest("ion-item");r&&N(r,n)})},x=t=>{const e=t.classList,n=[];for(let r=0;r<e.length;r++){const t=e.item(r);null!==t&&R(t,"ng-")&&n.push(`ion-${t.substr(3)}`)}return n},N=(t,e)=>{const n=t.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(t=>n.remove(t)),e.forEach(t=>n.add(t))},R=(t,e)=>t.substr(0,e.length)===e;var P;let O=(()=>{let t=P=class extends k{constructor(t,e){super(t,e)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.zs3),s.Y36(s.SBq))},t.\u0275dir=s.lG2({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,e){1&t&&s.NdJ("ionChange",function(t){return e._handleInputEvent(t.target)})},features:[s._Bn([{provide:a.JU,useExisting:P,multi:!0}]),s.qOj]}),t})(),D=(()=>{let t=class{constructor(t,e){this.doc=t,this.backButton=new m.xQ,this.keyboardDidShow=new m.xQ,this.keyboardDidHide=new m.xQ,this.pause=new m.xQ,this.resume=new m.xQ,this.resize=new m.xQ,e.run(()=>{let n;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(t,n){return this.subscribe(r=>r.register(t,t=>e.run(()=>n(t))))},M(this.pause,t,"pause"),M(this.resume,t,"resume"),M(this.backButton,t,"ionBackButton"),M(this.resize,this.win,"resize"),M(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),M(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(t=>{n=t}),this.win&&this.win.cordova?t.addEventListener("deviceready",()=>{n("cordova")},{once:!0}):n("dom")})}is(t){return(0,l.a)(this.win,t)}platforms(){return(0,l.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return L(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(t){const e=this.win.navigator;return!!(e&&e.userAgent&&e.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};return t.\u0275fac=function(e){return new(e||t)(s.LFG(u.K0),s.LFG(s.R0b))},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,s.Yz7)({factory:function(){return new t((0,s.LFG)(u.K0),(0,s.LFG)(s.R0b))},token:t,providedIn:"root"}),t=r([i(0,(0,s.tBr)(u.K0))],t),t})();const L=(t,e)=>{e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},M=(t,e,n)=>{e&&e.addEventListener(n,e=>{t.next(null!=e?e.detail:void 0)})};let F=(()=>{let t=class{constructor(t,e,n,r){this.location=e,this.serializer=n,this.router=r,this.direction=U,this.animated=V,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(t=>{if(t instanceof c.OD){const e=t.restoredState?t.restoredState.navigationId:t.id;this.guessDirection=e<this.lastNavId?"back":"forward",this.guessAnimation=t.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?t.id:e}}),t.backButton.subscribeWithPriority(0,t=>{this.pop(),t()})}navigateForward(t,e={}){return this.setDirection("forward",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}navigateBack(t,e={}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}navigateRoot(t,e={}){return this.setDirection("root",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return o(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,e,n,r){this.direction=t,this.animated=j(t,e,n),this.animationBuilder=r}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let t,e="root";const n=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,t=this.guessAnimation):(t=this.animated,e=this.direction),this.direction=U,this.animated=V,this.animationBuilder=void 0,{direction:e,animation:t,animationBuilder:n}}navigate(t,e){if(Array.isArray(t))return this.router.navigate(t,e);{const n=this.serializer.parse(t.toString());return void 0!==e.queryParams&&(n.queryParams=Object.assign({},e.queryParams)),void 0!==e.fragment&&(n.fragment=e.fragment),this.router.navigateByUrl(n,e)}}};return t.\u0275fac=function(e){return new(e||t)(s.LFG(D),s.LFG(u.Ye),s.LFG(c.Hx),s.LFG(c.F0,8))},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,s.Yz7)({factory:function(){return new t((0,s.LFG)(D),(0,s.LFG)(u.Ye),(0,s.LFG)(c.Hx),(0,s.LFG)(c.F0,8))},token:t,providedIn:"root"}),t=r([i(3,(0,s.FiY)())],t),t})();const j=(t,e,n)=>{if(!1!==e)return void 0!==n?n:"forward"===t||"back"===t?t:"root"===t&&!0===e?"forward":void 0},U="auto",V=void 0,q=(t,e)=>{const n=t.prototype;e.forEach(t=>{Object.defineProperty(n,t,{get(){return this.el[t]},set(e){this.z.runOutsideAngular(()=>this.el[t]=e)}})})},$=(t,e)=>{const n=t.prototype;e.forEach(t=>{n[t]=function(){const e=arguments;return this.z.runOutsideAngular(()=>this.el[t].apply(this.el,e))}})},B=(t,e,n)=>{n.forEach(n=>t[n]=(0,v.R)(e,n))};function z(t){return function(e){return t.inputs&&q(e,t.inputs),t.methods&&$(e,t.methods),e}}let H=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-app"]],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),G=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),W=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["collapse"]})],t),t})(),K=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),Y=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],t),t})(),Q=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],t),t})(),X=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["collapse","mode","translucent"]})],t),t})(),J=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),Z=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),tt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],t),t})(),et=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],t),t})(),nt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["autoHide","color","disabled","menu","mode","type"]})],t),t})(),rt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionRefresh","ionPull","ionStart"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],t),t})(),it=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],t),t})(),ot=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-slide"]],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),st=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-slides"]],inputs:{mode:"mode",options:"options",pager:"pager",scrollbar:"scrollbar"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],t),t})(),at=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,B(this,this.el,["ionSplitPaneVisible"])}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["contentId","disabled","when"]})],t),t})(),ut=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-thumbnail"]],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),ct=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["color","size"]})],t),t})(),lt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t=r([z({inputs:["color","mode"]})],t),t})(),ht=(()=>{let t=class{get(t,e){const n=ft();return n?n.get(t,e):null}getBoolean(t,e){const n=ft();return!!n&&n.getBoolean(t,e)}getNumber(t,e){const n=ft();return n?n.getNumber(t,e):0}set(t,e){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const n=ft();n&&n.set(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,s.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const dt=new s.OlP("USERCONFIG"),ft=()=>{if("undefined"!=typeof window){const t=window.Ionic;if(t&&t.config)return t.config}return null};class pt{constructor(t={}){this.data=t}get(t){return this.data[t]}}let gt=(()=>{let t=class{constructor(t,e){this.zone=t,this.appRef=e}create(t,e,n){return new mt(t,e,n,this.appRef,this.zone)}};return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.R0b),s.LFG(s.z2F))},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();class mt{constructor(t,e,n,r,i){this.resolver=t,this.injector=e,this.location=n,this.appRef=r,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,e,n,r){return this.zone.run(()=>new Promise(i=>{i(vt(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,t,e,n,r))}))}removeViewFromDom(t,e){return this.zone.run(()=>new Promise(t=>{const n=this.elRefMap.get(e);if(n){n.destroy(),this.elRefMap.delete(e);const t=this.elEventsMap.get(e);t&&(t(),this.elEventsMap.delete(e))}t()}))}}const vt=(t,e,n,r,i,o,a,u,c,l,h)=>{const d=e.resolveComponentFactory(c),f=s.zs3.create({providers:wt(l),parent:n}),p=r?r.createComponent(d,r.length,f):d.create(f),g=p.instance,m=p.location.nativeElement;if(l&&Object.assign(g,l),h)for(const s of h)m.classList.add(s);const v=_t(t,g,m);return u.appendChild(m),r||i.attachView(p.hostView),p.changeDetectorRef.reattach(),o.set(m,p),a.set(m,v),m},yt=[d.L,d.a,d.b,d.c,d.d],_t=(t,e,n)=>t.run(()=>{const t=yt.filter(t=>"function"==typeof e[t]).map(t=>{const r=n=>e[t](n.detail);return n.addEventListener(t,r),()=>n.removeEventListener(t,r)});return()=>t.forEach(t=>t())}),bt=new s.OlP("NavParamsToken"),wt=t=>[{provide:bt,useValue:t},{provide:pt,useFactory:Et,deps:[bt]}],Et=t=>new pt(t),Tt=(t,e)=>((t=t.filter(t=>t.stackId!==e.stackId)).push(e),t),It=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},Ct=(t,e)=>{if(!t)return;const n=St(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},St=t=>t.split("/").map(t=>t.trim()).filter(t=>""!==t),kt=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class At{constructor(t,e,n,r,i,o){this.containerEl=e,this.router=n,this.navCtrl=r,this.zone=i,this.location=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?St(t):void 0}createView(t,e){const n=It(this.router,e),r=t&&t.location&&t.location.nativeElement,i=_t(this.zone,t.instance,r);return{id:this.nextId++,stackId:Ct(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:t,url:n}}getExistingView(t){const e=It(this.router,t),n=this.views.find(t=>t.url===e);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const e=this.navCtrl.consumeTransition();let{direction:n,animation:r,animationBuilder:i}=e;const o=this.activeView,s=((t,e)=>!e||t.stackId!==e.stackId)(t,o);s&&(n="back",r=void 0);const a=this.views.slice();let u;const c=this.router;c.getCurrentNavigation?u=c.getCurrentNavigation():c.navigations&&c.navigations.value&&(u=c.navigations.value),u&&u.extras&&u.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const l=this.views.includes(t),h=this.insertView(t,n);l||t.ref.changeDetectorRef.detectChanges();const d=t.animationBuilder;return void 0!==i||"back"!==n||s||void 0===d||(i=d),o&&(o.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(o&&o.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,o,r,this.canGoBack(1),!1,i).then(()=>xt(t,h,a,this.location)).then(()=>({enteringView:t,direction:n,animation:r,tabSwitch:s})))))}canGoBack(t,e=this.getActiveStackId()){return this.getStack(e).length>t}pop(t,e=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(e);if(n.length<=t)return Promise.resolve(!1);const r=n[n.length-t-1];let i=r.url;const o=r.savedData;if(o){const t=o.get("primary");t&&t.route&&t.route._routerState&&t.route._routerState.snapshot&&t.route._routerState.snapshot.url&&(i=t.route._routerState.snapshot.url)}const{animationBuilder:s}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,Object.assign({},r.savedExtras,{animation:s})).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const e=this.getStack(t.stackId),n=e[e.length-2],r=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,r))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Nt(this.activeView,this.views,this.views,this.location)}getLastUrl(t){const e=this.getStack(t);return e.length>0?e[e.length-1]:void 0}getRootUrl(t){const e=this.getStack(t);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(kt),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(e=>e.stackId===t)}insertView(t,e){return this.activeView=t,this.views=((t,e,n)=>"root"===n?Tt(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(t=>t.stackId!==e.stackId||t.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(t=>t.stackId!==e.stackId||t.id<=e.id):Tt(t,e))(t,e))(this.views,t,e),this.views.slice()}transition(t,e,n,r,i,o){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===t)return Promise.resolve(!1);const s=t?t.element:void 0,a=e?e.element:void 0,u=this.containerEl;return s&&s!==a&&(s.classList.add("ion-page"),s.classList.add("ion-page-invisible"),s.parentElement!==u&&u.appendChild(s),u.commit)?u.commit(s,a,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:i,animationBuilder:o}):Promise.resolve(!1)}wait(t){return o(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=t();return e.finally(()=>this.runningTask=void 0),e})}}const xt=(t,e,n,r)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Nt(t,e,n,r),i()})}):Promise.resolve(),Nt=(t,e,n,r)=>{n.filter(t=>!e.includes(t)).forEach(kt),e.forEach(e=>{const n=r.path().split("?")[0].split("#")[0];if(e!==t&&e.url!==n){const t=e.element;t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden"),e.ref.changeDetectorRef.detach()}})};let Rt=(()=>{let t=class{constructor(t,e,n,r,i,o,a,u,l,h,d,f,p){this.parentContexts=t,this.location=e,this.resolver=n,this.config=o,this.navCtrl=a,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new y.X(null),this.stackEvents=new s.vpe,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.nativeEl=l.nativeElement,this.name=r||c.eC,this.tabsPrefix="true"===i?It(h,f):void 0,this.stackCtrl=new At(this.tabsPrefix,this.nativeEl,h,a,d,u),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:t=>this.stackCtrl.endBackTransition(t)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t&&t.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,h.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,e){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const t=this.getContext();this.activatedView.savedData=new Map(t.children.contexts);const e=this.activatedView.savedData.get("primary");if(e&&t.route&&(e.route=Object.assign({},t.route)),this.activatedView.savedExtras={},t.route){const e=t.route.snapshot;this.activatedView.savedExtras.queryParams=e.queryParams,this.activatedView.savedExtras.fragment=e.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let n;this._activatedRoute=t;let r=this.stackCtrl.getExistingView(t);if(r){n=this.activated=r.ref;const e=r.savedData;e&&(this.getContext().children.contexts=e),this.updateActivatedRouteProxy(n.instance,t)}else{const i=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,s=new y.X(null),a=this.createActivatedRouteProxy(s,t),u=new Pt(a,o,this.location.injector);n=this.activated=this.location.createComponent(i,this.location.length,u),s.next(n.instance),r=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(n.instance,a),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:t})}this.activatedView=r,this.stackCtrl.setActive(r).then(t=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(n.instance),this.stackEvents.emit(t)})}canGoBack(t=1,e){return this.stackCtrl.canGoBack(t,e)}pop(t=1,e){return this.stackCtrl.pop(t,e)}getLastUrl(t){const e=this.stackCtrl.getLastUrl(t);return e?e.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,e){const n=new c.gz;return n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,n._paramMap=this.proxyObservable(t,"paramMap"),n._queryParamMap=this.proxyObservable(t,"queryParamMap"),n.url=this.proxyObservable(t,"url"),n.params=this.proxyObservable(t,"params"),n.queryParams=this.proxyObservable(t,"queryParams"),n.fragment=this.proxyObservable(t,"fragment"),n.data=this.proxyObservable(t,"data"),n}proxyObservable(t,e){return t.pipe((0,E.h)(t=>!!t),(0,T.w)(t=>this.currentActivatedRoute$.pipe((0,E.h)(e=>null!==e&&e.component===t),(0,T.w)(t=>t&&t.activatedRoute[e]),t=>t.lift(new b(void 0,void 0)))))}updateActivatedRouteProxy(t,e){const n=this.proxyMap.get(t);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,this.currentActivatedRoute$.next({component:t,activatedRoute:e})}};return t.\u0275fac=function(e){return new(e||t)(s.Y36(c.y6),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.$8M("tabs"),s.Y36(ht),s.Y36(F),s.Y36(u.Ye),s.Y36(s.SBq),s.Y36(c.F0),s.Y36(s.R0b),s.Y36(c.gz),s.Y36(t,12))},t.\u0275dir=s.lG2({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t=r([i(3,(0,s.ahi)("name")),i(4,(0,s.FiY)()),i(4,(0,s.ahi)("tabs")),i(12,(0,s.tp0)()),i(12,(0,s.FiY)())],t),t})();class Pt{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===c.gz?this.route:t===c.y6?this.childContexts:this.parent.get(t,e)}}class Ot{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,e,n){return this.ctrl.dismiss(t,e,n)}getTop(){return this.ctrl.getTop()}}let Dt=(()=>{let t=class extends Ot{constructor(){super(p.a)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,s.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Lt=(()=>{let t=class extends Ot{constructor(){super(p.l)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,s.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Mt=(()=>{let t=class{open(t){return f.m.open(t)}close(t){return f.m.close(t)}toggle(t){return f.m.toggle(t)}enable(t,e){return f.m.enable(t,e)}swipeGesture(t,e){return f.m.swipeGesture(t,e)}isOpen(t){return f.m.isOpen(t)}isEnabled(t){return f.m.isEnabled(t)}get(t){return f.m.get(t)}getOpen(){return f.m.getOpen()}getMenus(){return f.m.getMenus()}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,s.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ft=(()=>{let t=class extends Ot{constructor(t,e,n){super(p.m),this.angularDelegate=t,this.resolver=e,this.injector=n}create(t){return super.create(Object.assign({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return t.\u0275fac=function(e){return new(e||t)(s.LFG(gt),s.LFG(s._Vd),s.LFG(s.zs3))},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),jt=(()=>{let t=class extends Ot{constructor(t,e,n){super(p.c),this.angularDelegate=t,this.resolver=e,this.injector=n}create(t){return super.create(Object.assign({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return t.\u0275fac=function(e){return new(e||t)(s.LFG(gt),s.LFG(s._Vd),s.LFG(s.zs3))},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),Ut=(()=>{let t=class extends Ot{constructor(){super(p.t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,s.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Vt{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,e){}retrieve(t){return null}shouldReuseRoute(t,e){if(t.routeConfig!==e.routeConfig)return!1;const n=t.params,r=e.params,i=Object.keys(n),o=Object.keys(r);if(i.length!==o.length)return!1;for(const s of i)if(r[s]!==n[s])return!1;return!0}}const qt=(t,e,r)=>()=>{const i=e.defaultView;if(i&&"undefined"!=typeof window){(i.Ionic=i.Ionic||{}).config=Object.assign({},t,{_zoneGate:t=>r.run(t)});const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var t=[];if("undefined"!=typeof window){var e=window;e.customElements&&(!e.Element||e.Element.prototype.closest&&e.Element.prototype.matches&&e.Element.prototype.remove&&e.Element.prototype.getRootNode)||t.push(n.e(6748).then(n.t.bind(n,1255,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!e.NodeList||e.NodeList.prototype.forEach)&&e.fetch&&function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||t.push(n.e(2214).then(n.t.bind(n,9227,23)))}return Promise.all(t)}().then(()=>{return t={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:S,jmp:t=>r.runOutsideAngular(t),ael(t,e,n,r){t[o](e,n,r)},rel(t,e,n,r){t.removeEventListener(e,n,r)}},"undefined"==typeof window?Promise.resolve():(g.C&&g.C.supports&&g.C.supports("color","var(--c)")?(0,g.a)():n.e(1843).then(n.t.bind(n,2463,23)).then(()=>(g.p.$cssShim$=g.w.__cssshim)?g.p.$cssShim$.i():0)).then(()=>(I(),(0,g.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[2,"click","onClick"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[1],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),t)));var t})}};var $t;let Bt=(()=>{let t=$t=class{static forRoot(t){return{ngModule:$t,providers:[{provide:dt,useValue:t},{provide:s.ip1,useFactory:qt,multi:!0,deps:[dt,u.K0,s.R0b]}]}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[gt,Ft,jt],imports:[[u.ez]]}),t})()},9691:(t,e,n)=>{"use strict";n.d(e,{c:()=>l});var r=n(1843);let i;const o=t=>{if(void 0===i){const e=void 0!==t.style.webkitAnimationName;i=void 0===t.style.animationName&&e?"-webkit-":""}return i},s=(t,e,n)=>{const r=e.startsWith("animation")?o(t):"";t.style.setProperty(r+e,n)},a=(t,e)=>{const n=e.startsWith("animation")?o(t):"";t.style.removeProperty(n+e)},u=[],c=(t=[],e)=>{if(void 0!==e){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},l=t=>{let e,n,i,l,h,d,f,p,g,m,v,y,_,b=[],w=[],E=[],T=!1,I={},C=[],S=[],k={},A=0,x=!1,N=!1,R=!0,P=!1,O=!0;const D=t,L=[],M=[],F=[],j=[],U=[],V=[],q=[],$=[],B=[],z=[],H="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&H,W=(t,e)=>((e&&e.oneTimeCallback?M:L).push({c:t,o:e}),_),K=()=>{if(G)z.forEach(t=>{t.cancel()}),z.length=0;else{const t=F.slice();(0,r.r)(()=>{t.forEach(t=>{a(t,"animation-name"),a(t,"animation-duration"),a(t,"animation-timing-function"),a(t,"animation-iteration-count"),a(t,"animation-delay"),a(t,"animation-play-state"),a(t,"animation-fill-mode"),a(t,"animation-direction")})})}},Y=()=>{U.forEach(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}),U.length=0},Q=()=>void 0!==h?h:f?f.getFill():"both",X=()=>void 0!==g?g:void 0!==d?d:f?f.getDirection():"normal",J=()=>x?"linear":void 0!==i?i:f?f.getEasing():"linear",Z=()=>N?0:void 0!==m?m:void 0!==n?n:f?f.getDuration():0,tt=()=>void 0!==l?l:f?f.getIterations():1,et=()=>void 0!==v?v:void 0!==e?e:f?f.getDelay():0,nt=()=>{0!==A&&(A--,0===A&&((()=>{lt(),$.forEach(t=>t()),B.forEach(t=>t());const t=R?1:0,e=C,n=S,r=k;F.forEach(t=>{const i=t.classList;e.forEach(t=>i.add(t)),n.forEach(t=>i.remove(t));for(const e in r)r.hasOwnProperty(e)&&s(t,e,r[e])}),L.forEach(e=>e.c(t,_)),M.forEach(e=>e.c(t,_)),M.length=0,O=!0,R&&(P=!0),R=!0})(),f&&f.animationFinish()))},rt=(e=!0)=>{(()=>{V.forEach(t=>t()),q.forEach(t=>t());const t=w,e=E,n=I;F.forEach(r=>{const i=r.classList;t.forEach(t=>i.add(t)),e.forEach(t=>i.remove(t));for(const t in n)n.hasOwnProperty(t)&&s(r,t,n[t])})})(),b.length>0&&(G?(F.forEach(t=>{const e=t.animate(b,{id:D,delay:et(),duration:Z(),easing:J(),iterations:tt(),fill:Q(),direction:X()});e.pause(),z.push(e)}),z.length>0&&(z[0].onfinish=()=>{nt()})):((e=!0)=>{Y();const n=((i=b).forEach(t=>{for(const e in t)if(t.hasOwnProperty(e)){const n=t[e];if("easing"===e)t["animation-timing-function"]=n,delete t[e];else{const r=e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();r!==e&&(t[r]=n,delete t[e])}}}),i);var i;F.forEach(i=>{if(n.length>0){const a=((t=[])=>t.map(t=>{const e=t.offset,n=[];for(const r in t)t.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${t[r]};`);return`${100*e}% { ${n.join(" ")} }`}).join(" "))(n);y=void 0!==t?t:(t=>{let e=u.indexOf(t);return e<0&&(e=u.push(t)-1),`ion-animation-${e}`})(a);const c=((t,e,n)=>{const r=(t=>{const e=t.getRootNode();return e.head||e})(n),i=o(n),s=r.querySelector("#"+t);if(s)return s;const a=(n.ownerDocument||document).createElement("style");return a.id=t,a.textContent=`@${i}keyframes ${t} { ${e} } @${i}keyframes ${t}-alt { ${e} }`,r.appendChild(a),a})(y,a,i);U.push(c),s(i,"animation-duration",`${Z()}ms`),s(i,"animation-timing-function",J()),s(i,"animation-delay",`${et()}ms`),s(i,"animation-fill-mode",Q()),s(i,"animation-direction",X());const l=tt()===1/0?"infinite":tt().toString();s(i,"animation-iteration-count",l),s(i,"animation-play-state","paused"),e&&s(i,"animation-name",`${c.id}-alt`),(0,r.r)(()=>{s(i,"animation-name",c.id||null)})}})})(e)),T=!0},it=t=>{if(t=Math.min(Math.max(t,0),.9999),G)z.forEach(e=>{e.currentTime=e.effect.getComputedTiming().delay+Z()*t,e.pause()});else{const e=`-${Z()*t}ms`;F.forEach(t=>{b.length>0&&(s(t,"animation-delay",e),s(t,"animation-play-state","paused"))})}},ot=t=>{z.forEach(t=>{t.effect.updateTiming({delay:et(),duration:Z(),easing:J(),iterations:tt(),fill:Q(),direction:X()})}),void 0!==t&&it(t)},st=(t=!0,e)=>{(0,r.r)(()=>{F.forEach(n=>{s(n,"animation-name",y||null),s(n,"animation-duration",`${Z()}ms`),s(n,"animation-timing-function",J()),s(n,"animation-delay",void 0!==e?`-${e*Z()}ms`:`${et()}ms`),s(n,"animation-fill-mode",Q()||null),s(n,"animation-direction",X()||null);const i=tt()===1/0?"infinite":tt().toString();s(n,"animation-iteration-count",i),t&&s(n,"animation-name",`${y}-alt`),(0,r.r)(()=>{s(n,"animation-name",y||null)})})})},at=(t=!1,e=!0,n)=>(t&&j.forEach(r=>{r.update(t,e,n)}),G?ot(n):st(e,n),_),ut=()=>{T&&(G?z.forEach(t=>{t.pause()}):F.forEach(t=>{s(t,"animation-play-state","paused")}))},ct=()=>{p=void 0,nt()},lt=()=>{p&&clearTimeout(p)},ht=t=>new Promise(e=>{t&&t.sync&&(N=!0,W(()=>N=!1,{oneTimeCallback:!0})),T||rt(),P&&(G?(it(0),ot()):st(),P=!1),O&&(A=j.length+1,O=!1),W(()=>e(),{oneTimeCallback:!0}),j.forEach(t=>{t.play()}),G?(z.forEach(t=>{t.play()}),0!==b.length&&0!==F.length||nt()):(()=>{if(lt(),(0,r.r)(()=>{F.forEach(t=>{b.length>0&&s(t,"animation-play-state","running")})}),0===b.length||0===F.length)nt();else{const t=et()||0,e=Z()||0,n=tt()||1;isFinite(n)&&(p=setTimeout(ct,t+e*n+100)),((t,e)=>{let n;const i={passive:!0},o=e=>{t===e.target&&(n&&n(),lt(),(0,r.r)(()=>{F.forEach(t=>{a(t,"animation-duration"),a(t,"animation-delay"),a(t,"animation-play-state")}),(0,r.r)(nt)}))};t&&(t.addEventListener("webkitAnimationEnd",o,i),t.addEventListener("animationend",o,i),n=()=>{t.removeEventListener("webkitAnimationEnd",o,i),t.removeEventListener("animationend",o,i)})})(F[0])}})()}),dt=(t,e)=>{const n=b[0];return void 0===n||void 0!==n.offset&&0!==n.offset?b=[{offset:0,[t]:e},...b]:n[t]=e,_};return _={parentAnimation:f,elements:F,childAnimations:j,id:D,animationFinish:nt,from:dt,to:(t,e)=>{const n=b[b.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?b=[...b,{offset:1,[t]:e}]:n[t]=e,_},fromTo:(t,e,n)=>dt(t,e).to(t,n),parent:t=>(f=t,_),play:ht,pause:()=>(j.forEach(t=>{t.pause()}),ut(),_),stop:()=>{j.forEach(t=>{t.stop()}),T&&(K(),T=!1),x=!1,N=!1,O=!0,g=void 0,m=void 0,v=void 0,A=0,P=!1,R=!0},destroy:t=>(j.forEach(e=>{e.destroy(t)}),(t=>{K(),t&&Y()})(t),F.length=0,j.length=0,b.length=0,L.length=0,M.length=0,T=!1,O=!0,_),keyframes:t=>(b=t,_),addAnimation:t=>{if(null!=t)if(Array.isArray(t))for(const e of t)e.parent(_),j.push(e);else t.parent(_),j.push(t);return _},addElement:t=>{if(null!=t)if(1===t.nodeType)F.push(t);else if(t.length>=0)for(let e=0;e<t.length;e++)F.push(t[e]);else console.error("Invalid addElement value");return _},update:at,fill:t=>(h=t,at(!0),_),direction:t=>(d=t,at(!0),_),iterations:t=>(l=t,at(!0),_),duration:t=>(G||0!==t||(t=1),n=t,at(!0),_),easing:t=>(i=t,at(!0),_),delay:t=>(e=t,at(!0),_),getWebAnimations:()=>z,getKeyframes:()=>b,getFill:Q,getDirection:X,getDelay:et,getIterations:tt,getEasing:J,getDuration:Z,afterAddRead:t=>($.push(t),_),afterAddWrite:t=>(B.push(t),_),afterClearStyles:(t=[])=>{for(const e of t)k[e]="";return _},afterStyles:(t={})=>(k=t,_),afterRemoveClass:t=>(S=c(S,t),_),afterAddClass:t=>(C=c(C,t),_),beforeAddRead:t=>(V.push(t),_),beforeAddWrite:t=>(q.push(t),_),beforeClearStyles:(t=[])=>{for(const e of t)I[e]="";return _},beforeStyles:(t={})=>(I=t,_),beforeRemoveClass:t=>(E=c(E,t),_),beforeAddClass:t=>(w=c(w,t),_),onFinish:W,progressStart:(t=!1,e)=>(j.forEach(n=>{n.progressStart(t,e)}),ut(),x=t,T?at(!1,!0,e):rt(),_),progressStep:t=>(j.forEach(e=>{e.progressStep(t)}),it(t),_),progressEnd:(t,e,n)=>(x=!1,j.forEach(r=>{r.progressEnd(t,e,n)}),void 0!==n&&(m=n),P=!1,R=!0,0===t?(g="reverse"===X()?"normal":"reverse","reverse"===g&&(R=!1),G?(at(),it(1-e)):(v=(1-e)*Z()*-1,at(!1,!1))):1===t&&(G?(at(),it(e)):(v=e*Z()*-1,at(!1,!1))),void 0!==t&&(W(()=>{m=void 0,g=void 0,v=void 0},{oneTimeCallback:!0}),f||ht()),_)}}},6953:(t,e,n)=>{"use strict";n.d(e,{G:()=>s});class r{constructor(t,e,n,r,i){this.id=e,this.name=n,this.disableScroll=i,this.priority=1e6*r+e,this.ctrl=t}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class i{constructor(t,e,n,r){this.id=e,this.disable=n,this.disableScroll=r,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const o="backdrop-no-scroll",s=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){return new r(this,this.newID(),t.name,t.priority||0,!!t.disableScroll)}createBlocker(t={}){return new i(this,this.newID(),t.disable,!!t.disableScroll)}start(t,e,n){return this.canStart(t)?(this.requestedStart.set(e,n),!0):(this.requestedStart.delete(e),!1)}capture(t,e,n){if(!this.start(t,e,n))return!1;const r=this.requestedStart;let i=-1e4;if(r.forEach(t=>{i=Math.max(i,t)}),i===n){this.capturedId=e,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(n),!0}return r.delete(e),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,e){let n=this.disabledGestures.get(t);void 0===n&&(n=new Set,this.disabledGestures.set(t,n)),n.add(e)}enableGesture(t,e){const n=this.disabledGestures.get(t);void 0!==n&&n.delete(e)}disableScroll(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add(o)}enableScroll(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove(o)}canStart(t){return void 0===this.capturedId&&!this.isDisabled(t)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const e=this.disabledGestures.get(t);return!!(e&&e.size>0)}newID(){return this.gestureId++,this.gestureId}}},4641:(t,e,n)=>{"use strict";n.r(e),n.d(e,{MENU_BACK_BUTTON_PRIORITY:()=>s,OVERLAY_BACK_BUTTON_PRIORITY:()=>o,blockHardwareBackButton:()=>r,startHardwareBackButton:()=>i});const r=()=>{document.addEventListener("backbutton",()=>{})},i=()=>{const t=document;let e=!1;t.addEventListener("backbutton",()=>{if(e)return;let n=0,r=[];const i=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(t,e){r.push({priority:t,handler:e,id:n++})}}});t.dispatchEvent(i);const o=()=>{if(r.length>0){let t={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(e=>{e.priority>=t.priority&&(t=e)}),e=!0,r=r.filter(e=>e.id!==t.id),(async t=>{try{if(t&&t.handler){const e=t.handler(o);null!=e&&await e}}catch(e){console.error(e)}})(t).then(()=>e=!1)}};o()})},o=100,s=99},1843:(t,e,n)=>{"use strict";n.d(e,{a:()=>o,b:()=>s,c:()=>r,d:()=>h,e:()=>d,f:()=>y,g:()=>a,h:()=>l,i:()=>i,j:()=>f,k:()=>c,l:()=>p,m:()=>v,n:()=>_,o:()=>g,p:()=>m,r:()=>u});const r=(t,e)=>{t.componentOnReady?t.componentOnReady().then(t=>e(t)):u(()=>e(t))},i=(t,e=[])=>{const n={};return e.forEach(e=>{t.hasAttribute(e)&&(null!==t.getAttribute(e)&&(n[e]=t.getAttribute(e)),t.removeAttribute(e))}),n},o=(t,e,n,r)=>{if("undefined"!=typeof window){const i=window,o=i&&i.Ionic&&i.Ionic.config;if(o){const i=o.get("_ael");if(i)return i(t,e,n,r);if(o._ael)return o._ael(t,e,n,r)}}return t.addEventListener(e,n,r)},s=(t,e,n,r)=>{if("undefined"!=typeof window){const i=window,o=i&&i.Ionic&&i.Ionic.config;if(o){const i=o.get("_rel");if(i)return i(t,e,n,r);if(o._rel)return o._rel(t,e,n,r)}}return t.removeEventListener(e,n,r)},a=(t,e=t)=>t.shadowRoot||e,u=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),c=t=>!!t.shadowRoot&&!!t.attachShadow,l=t=>{const e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},h=(t,e)=>{let n;const r=t.getAttribute("aria-labelledby"),i=t.id;let o=null!==r&&""!==r.trim()?r:e+"-lbl",s=null!==r&&""!==r.trim()?document.getElementById(r):l(t);return s?(null===r&&(s.id=o),n=s.textContent,s.setAttribute("aria-hidden","true")):""!==i.trim()&&(s=document.querySelector(`label[for="${i}"]`),s&&(""!==s.id?o=s.id:s.id=o=`${i}-lbl`,n=s.textContent)),{label:s,labelId:o,labelText:n}},d=(t,e,n,r,i)=>{if(t||c(e)){let t=e.querySelector("input.aux-input");t||(t=e.ownerDocument.createElement("input"),t.type="hidden",t.classList.add("aux-input"),e.appendChild(t)),t.disabled=i,t.name=n,t.value=r||""}},f=(t,e,n)=>Math.max(t,Math.min(e,n)),p=(t,e)=>{if(!t){const t="ASSERT: "+e;throw console.error(t),new Error(t)}},g=t=>t.timeStamp||Date.now(),m=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},v=t=>{const e="rtl"===document.dir;switch(t){case"start":return e;case"end":return!e;default:throw new Error(`"${t}" is not a valid value for [side]. Use "start" or "end" instead.`)}},y=(t,e)=>{const n=t._original||t;return{_original:t,emit:_(n.emit.bind(n),e)}},_=(t,e=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(t,e,...r)}}},4378:(t,e,n)=>{"use strict";n.d(e,{m:()=>h});var r=n(4641),i=n(1843),o=n(7505),s=n(9691);const a=t=>(0,s.c)().duration(t?400:300),u=t=>{let e,n;const r=t.width+8,i=(0,s.c)(),u=(0,s.c)();t.isEndSide?(e=r+"px",n="0px"):(e=-r+"px",n="0px"),i.addElement(t.menuInnerEl).fromTo("transform",`translateX(${e})`,`translateX(${n})`);const c="ios"===(0,o.b)(t),l=c?.2:.25;return u.addElement(t.backdropEl).fromTo("opacity",.01,l),a(c).addAnimation([i,u])},c=t=>{let e,n;const r=(0,o.b)(t),i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");const u=(0,s.c)().addElement(t.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),c=(0,s.c)().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${e})`),l=(0,s.c)().addElement(t.backdropEl).fromTo("opacity",.01,.32);return a("ios"===r).addAnimation([u,c,l])},l=t=>{const e=(0,o.b)(t),n=t.width*(t.isEndSide?-1:1)+"px",r=(0,s.c)().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return a("ios"===e).addAnimation(r)},h=(()=>{const t=new Map,e=[],n=async t=>(await p(),"start"===t||"end"===t?f(e=>e.side===t&&!e.disabled)||f(e=>e.side===t):null!=t?f(e=>e.menuId===t):f(t=>!t.disabled)||(e.length>0?e[0].el:void 0)),o=async()=>(await p(),h()),s=(e,n)=>{t.set(e,n)},a=t=>{const n=t.side;e.filter(e=>e.side===n&&e!==t).forEach(t=>t.disabled=!0)},h=()=>f(t=>t._isOpen),d=()=>e.some(t=>t.isAnimating),f=t=>{const n=e.find(t);if(void 0!==n)return n.el},p=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(t=>new Promise(e=>(0,i.c)(t,e))));return s("reveal",l),s("push",c),s("overlay",u),"undefined"!=typeof document&&document.addEventListener("ionBackButton",t=>{const e=h();e&&t.detail.register(r.MENU_BACK_BUTTON_PRIORITY,()=>e.close())}),{registerAnimation:s,get:n,getMenus:async()=>(await p(),e.map(t=>t.el)),getOpen:o,isEnabled:async t=>{const e=await n(t);return!!e&&!e.disabled},swipeGesture:async(t,e)=>{const r=await n(e);return r&&(r.swipeGesture=t),r},isAnimating:async()=>(await p(),d()),isOpen:async t=>{if(null!=t){const e=await n(t);return void 0!==e&&e.isOpen()}return void 0!==await o()},enable:async(t,e)=>{const r=await n(e);return r&&(r.disabled=!t),r},toggle:async t=>{const e=await n(t);return!!e&&e.toggle()},close:async t=>{const e=await(void 0!==t?n(t):o());return void 0!==e&&e.close()},open:async t=>{const e=await n(t);return!!e&&e.open()},_getOpenSync:h,_createAnimation:(e,n)=>{const r=t.get(e);if(!r)throw new Error("animation not registered");return r(n)},_register:t=>{e.indexOf(t)<0&&(t.disabled||a(t),e.push(t))},_unregister:t=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_setOpen:async(t,e,n)=>{if(d())return!1;if(e){const e=await o();e&&t.el!==e&&await e.setOpen(!1,!1)}return t._setOpen(e,n)},_setActiveMenu:a}})()},2322:(t,e,n)=>{"use strict";n.d(e,{B:()=>$t,C:()=>d,H:()=>L,a:()=>m,b:()=>Et,c:()=>qt,e:()=>rt,f:()=>Vt,g:()=>N,h:()=>O,i:()=>nt,j:()=>ht,k:()=>Tt,p:()=>p,r:()=>St,s:()=>x,w:()=>h});let r,i,o,s=!1,a=!1,u=!1,c=!1,l=!1;const h="undefined"!=typeof window?window:{},d=h.CSS,f=h.document||{head:{}},p={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},g=(()=>(f.head.attachShadow+"").indexOf("[native")>-1)(),m=t=>Promise.resolve(t),v=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(t){}return!1})(),y=(t,e,n,r)=>{n&&n.map(([n,r,i])=>{const o=b(t,n),s=_(e,i),a=w(n);p.ael(o,r,s,a),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>p.rel(o,r,s,a))})},_=(t,e)=>n=>{try{256&t.$flags$?t.$lazyInstance$[e](n):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,n])}catch(r){xt(r)}},b=(t,e)=>4&e?f:8&e?h:16&e?f.body:t,w=t=>0!=(2&t),E="s-id",T="c-id",I="http://www.w3.org/1999/xlink",C=new WeakMap,S=(t,e,n)=>{let r=Pt.get(t);v&&n?(r=r||new CSSStyleSheet,r.replace(e)):r=e,Pt.set(t,r)},k=(t,e,n,r)=>{let i=A(e,n),o=Pt.get(i);if(t=11===t.nodeType?t:f,o)if("string"==typeof o){let n,s=C.get(t=t.head||t);if(s||C.set(t,s=new Set),!s.has(i)){if(t.host&&(n=t.querySelector(`[sty-id="${i}"]`)))n.innerHTML=o;else{if(p.$cssShim$){n=p.$cssShim$.createHostStyle(r,i,o,!!(10&e.$flags$));const t=n["s-sc"];t&&(i=t,s=null)}else n=f.createElement("style"),n.innerHTML=o;t.insertBefore(n,t.querySelector("link"))}s&&s.add(i)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return i},A=(t,e)=>"sc-"+(e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$),x=t=>Ot.push(t),N=t=>Ct(t).$modeName$,R={},P=t=>"object"==(t=typeof t)||"function"===t,O=(t,e,...n)=>{let r=null,i=null,o=null,s=!1,a=!1,u=[];const c=e=>{for(let n=0;n<e.length;n++)r=e[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((s="function"!=typeof t&&!P(r))&&(r=String(r)),s&&a?u[u.length-1].$text$+=r:u.push(s?D(null,r):r),a=s)};if(c(n),e){e.key&&(i=e.key),e.name&&(o=e.name);{const t=e.className||e.class;t&&(e.class="object"!=typeof t?t:Object.keys(t).filter(e=>t[e]).join(" "))}}if("function"==typeof t)return t(null===e?{}:e,u,M);const l=D(t,null);return l.$attrs$=e,u.length>0&&(l.$children$=u),l.$key$=i,l.$name$=o,l},D=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),L={},M={forEach:(t,e)=>t.map(F).forEach(e),map:(t,e)=>t.map(F).map(e).map(j)},F=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),j=t=>{if("function"==typeof t.vtag){const e=Object.assign({},t.vattrs);return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),O(t.vtag,e,...t.vchildren||[])}const e=D(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},U=(t,e,n,r,i,o)=>{if(n!==r){let a=At(t,e),u=e.toLowerCase();if("class"===e){const e=t.classList,i=q(n),o=q(r);e.remove(...i.filter(t=>t&&!o.includes(t))),e.add(...o.filter(t=>t&&!i.includes(t)))}else if("style"===e){for(const e in n)r&&null!=r[e]||(e.includes("-")?t.style.removeProperty(e):t.style[e]="");for(const e in r)n&&r[e]===n[e]||(e.includes("-")?t.style.setProperty(e,r[e]):t.style[e]=r[e])}else if("key"===e);else if("ref"===e)r&&r(t);else if(a||"o"!==e[0]||"n"!==e[1]){const c=P(r);if((a||c&&null!==r)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{let i=null==r?"":r;"list"===e?a=!1:null!=n&&t[e]==i||(t[e]=i)}}catch(s){}let l=!1;u!==(u=u.replace(/^xlink\:?/,""))&&(e=u,l=!0),null==r||!1===r?!1===r&&""!==t.getAttribute(e)||(l?t.removeAttributeNS(I,e):t.removeAttribute(e)):(!a||4&o||i)&&!c&&(r=!0===r?"":r,l?t.setAttributeNS(I,e,r):t.setAttribute(e,r))}else e="-"===e[2]?e.slice(3):At(h,u)?u.slice(2):u[2]+e.slice(3),n&&p.rel(t,e,n,!1),r&&p.ael(t,e,r,!1)}},V=/\s/,q=t=>t?t.split(V):[],$=(t,e,n,r)=>{const i=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||R,s=e.$attrs$||R;for(r in o)r in s||U(i,r,o[r],void 0,n,e.$flags$);for(r in s)U(i,r,o[r],s[r],n,e.$flags$)},B=(t,e,n,a)=>{let l,h,d,p=e.$children$[n],g=0;if(s||(u=!0,"slot"===p.$tag$&&(r&&a.classList.add(r+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)l=p.$elm$=f.createTextNode(p.$text$);else if(1&p.$flags$)l=p.$elm$=f.createTextNode("");else{if(c||(c="svg"===p.$tag$),l=p.$elm$=f.createElementNS(c?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),c&&"foreignObject"===p.$tag$&&(c=!1),$(null,p,c),null!=r&&l["s-si"]!==r&&l.classList.add(l["s-si"]=r),p.$children$)for(g=0;g<p.$children$.length;++g)h=B(t,p,g,l),h&&l.appendChild(h);"svg"===p.$tag$?c=!1:"foreignObject"===l.tagName&&(c=!0)}return l["s-hn"]=o,3&p.$flags$&&(l["s-sr"]=!0,l["s-cr"]=i,l["s-sn"]=p.$name$||"",d=t&&t.$children$&&t.$children$[n],d&&d.$tag$===p.$tag$&&t.$elm$&&z(t.$elm$,!1)),l},z=(t,e)=>{p.$flags$|=1;const n=t.childNodes;for(let r=n.length-1;r>=0;r--){const t=n[r];t["s-hn"]!==o&&t["s-ol"]&&(Y(t).insertBefore(t,K(t)),t["s-ol"].remove(),t["s-ol"]=void 0,u=!0),e&&z(t,e)}p.$flags$&=-2},H=(t,e,n,r,i,s)=>{let a,u=t["s-cr"]&&t["s-cr"].parentNode||t;for(u.shadowRoot&&u.tagName===o&&(u=u.shadowRoot);i<=s;++i)r[i]&&(a=B(null,n,i,t),a&&(r[i].$elm$=a,u.insertBefore(a,K(e))))},G=(t,e,n,r,i)=>{for(;e<=n;++e)(r=t[e])&&(i=r.$elm$,et(r),a=!0,i["s-ol"]?i["s-ol"].remove():z(i,!0),i.remove())},W=(t,e)=>t.$tag$===e.$tag$&&("slot"===t.$tag$?t.$name$===e.$name$:t.$key$===e.$key$),K=t=>t&&t["s-ol"]||t,Y=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Q=(t,e)=>{const n=e.$elm$=t.$elm$,r=t.$children$,i=e.$children$,o=e.$tag$,s=e.$text$;let a;null===s?(c="svg"===o||"foreignObject"!==o&&c,"slot"===o||$(t,e,c),null!==r&&null!==i?((t,e,n,r)=>{let i,o,s=0,a=0,u=0,c=0,l=e.length-1,h=e[0],d=e[l],f=r.length-1,p=r[0],g=r[f];for(;s<=l&&a<=f;)if(null==h)h=e[++s];else if(null==d)d=e[--l];else if(null==p)p=r[++a];else if(null==g)g=r[--f];else if(W(h,p))Q(h,p),h=e[++s],p=r[++a];else if(W(d,g))Q(d,g),d=e[--l],g=r[--f];else if(W(h,g))"slot"!==h.$tag$&&"slot"!==g.$tag$||z(h.$elm$.parentNode,!1),Q(h,g),t.insertBefore(h.$elm$,d.$elm$.nextSibling),h=e[++s],g=r[--f];else if(W(d,p))"slot"!==h.$tag$&&"slot"!==g.$tag$||z(d.$elm$.parentNode,!1),Q(d,p),t.insertBefore(d.$elm$,h.$elm$),d=e[--l],p=r[++a];else{for(u=-1,c=s;c<=l;++c)if(e[c]&&null!==e[c].$key$&&e[c].$key$===p.$key$){u=c;break}u>=0?(o=e[u],o.$tag$!==p.$tag$?i=B(e&&e[a],n,u,t):(Q(o,p),e[u]=void 0,i=o.$elm$),p=r[++a]):(i=B(e&&e[a],n,a,t),p=r[++a]),i&&Y(h.$elm$).insertBefore(i,K(h.$elm$))}s>l?H(t,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&G(e,s,l)})(n,r,e,i):null!==i?(null!==t.$text$&&(n.textContent=""),H(n,null,e,i,0,i.length-1)):null!==r&&G(r,0,r.length-1),c&&"svg"===o&&(c=!1)):(a=n["s-cr"])?a.parentNode.textContent=s:t.$text$!==s&&(n.data=s)},X=t=>{let e,n,r,i,o,s,a=t.childNodes;for(n=0,r=a.length;n<r;n++)if(e=a[n],1===e.nodeType){if(e["s-sr"])for(o=e["s-sn"],e.hidden=!1,i=0;i<r;i++)if(s=a[i].nodeType,a[i]["s-hn"]!==e["s-hn"]||""!==o){if(1===s&&o===a[i].getAttribute("slot")){e.hidden=!0;break}}else if(1===s||3===s&&""!==a[i].textContent.trim()){e.hidden=!0;break}X(e)}},J=[],Z=t=>{let e,n,r,i,o,s,u=0,c=t.childNodes,l=c.length;for(;u<l;u++){if(e=c[u],e["s-sr"]&&(n=e["s-cr"])&&n.parentNode)for(r=n.parentNode.childNodes,i=e["s-sn"],s=r.length-1;s>=0;s--)n=r[s],n["s-cn"]||n["s-nr"]||n["s-hn"]===e["s-hn"]||(tt(n,i)?(o=J.find(t=>t.$nodeToRelocate$===n),a=!0,n["s-sn"]=n["s-sn"]||i,o?o.$slotRefNode$=e:J.push({$slotRefNode$:e,$nodeToRelocate$:n}),n["s-sr"]&&J.map(t=>{tt(t.$nodeToRelocate$,n["s-sn"])&&(o=J.find(t=>t.$nodeToRelocate$===n),o&&!t.$slotRefNode$&&(t.$slotRefNode$=o.$slotRefNode$))})):J.some(t=>t.$nodeToRelocate$===n)||J.push({$nodeToRelocate$:n}));1===e.nodeType&&Z(e)}},tt=(t,e)=>1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e,et=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(et)},nt=t=>Ct(t).$hostElement$,rt=(t,e,n)=>{const r=nt(t);return{emit:t=>it(r,e,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:t})}},it=(t,e,n)=>{const r=p.ce(e,n);return t.dispatchEvent(r),r},ot=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(e=>t.$onRenderResolve$=e))},st=(t,e)=>{if(t.$flags$|=16,!(4&t.$flags$))return ot(t,t.$ancestorComponent$),qt(()=>at(t,e));t.$flags$|=512},at=(t,e)=>{const n=t.$lazyInstance$;let r;return e&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map(([t,e])=>ft(n,t,e)),t.$queuedListeners$=null),r=ft(n,"componentWillLoad")),r=pt(r,()=>ft(n,"componentWillRender")),pt(r,()=>ut(t,n,e))},ut=async(t,e,n)=>{const r=t.$hostElement$,i=r["s-rc"];n&&(t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=k(g&&n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$,n);10&r&&(n["s-sc"]=i,n.classList.add(i+"-h"),2&r&&n.classList.add(i+"-s"))})(t),ct(t,e),p.$cssShim$&&p.$cssShim$.updateHost(r),i&&(i.map(t=>t()),r["s-rc"]=void 0);{const e=r["s-p"],n=()=>lt(t);0===e.length?n():(Promise.all(e).then(n),t.$flags$|=4,e.length=0)}},ct=(t,e,n)=>{try{e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,((t,e)=>{const n=t.$hostElement$,c=t.$cmpMeta$,l=t.$vnode$||D(null,null),h=(d=e)&&d.$tag$===L?e:O(null,null,e);var d;if(o=n.tagName,c.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},c.$attrsToReflect$.map(([t,e])=>h.$attrs$[e]=n[t])),h.$tag$=null,h.$flags$|=4,t.$vnode$=h,h.$elm$=l.$elm$=n.shadowRoot||n,r=n["s-sc"],i=n["s-cr"],s=g&&0!=(1&c.$flags$),a=!1,Q(l,h),p.$flags$|=1,u){let t,e,n,r,i,o;Z(h.$elm$);let s=0;for(;s<J.length;s++)t=J[s],e=t.$nodeToRelocate$,e["s-ol"]||(n=f.createTextNode(""),n["s-nr"]=e,e.parentNode.insertBefore(e["s-ol"]=n,e));for(s=0;s<J.length;s++)if(t=J[s],e=t.$nodeToRelocate$,t.$slotRefNode$){for(r=t.$slotRefNode$.parentNode,i=t.$slotRefNode$.nextSibling,n=e["s-ol"];n=n.previousSibling;)if(o=n["s-nr"],o&&o["s-sn"]===e["s-sn"]&&r===o.parentNode&&(o=o.nextSibling,!o||!o["s-nr"])){i=o;break}(!i&&r!==e.parentNode||e.nextSibling!==i)&&e!==i&&(!e["s-hn"]&&e["s-ol"]&&(e["s-hn"]=e["s-ol"].parentNode.nodeName),r.insertBefore(e,i))}else 1===e.nodeType&&(e.hidden=!0)}a&&X(h.$elm$),p.$flags$&=-2,J.length=0})(t,e)}catch(c){xt(c,t.$hostElement$)}return null},lt=t=>{const e=t.$hostElement$,n=t.$lazyInstance$,r=t.$ancestorComponent$;64&t.$flags$?ft(n,"componentDidUpdate"):(t.$flags$|=64,gt(e),ft(n,"componentDidLoad"),t.$onReadyResolve$(e),r||dt()),t.$onInstanceResolve$(e),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&Ut(()=>st(t,!1)),t.$flags$&=-517},ht=t=>{{const e=Ct(t),n=e.$hostElement$.isConnected;return n&&2==(18&e.$flags$)&&st(e,!1),n}},dt=t=>{gt(f.documentElement),Ut(()=>it(h,"appload",{detail:{namespace:"ionic"}}))},ft=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){xt(r)}},pt=(t,e)=>t&&t.then?t.then(e):e(),gt=t=>t.classList.add("hydrated"),mt=(t,e,n,r,i,o,s)=>{let a,u,c,l;if(1===o.nodeType){for(a=o.getAttribute(T),a&&(u=a.split("."),u[0]!==s&&"0"!==u[0]||(c={$flags$:0,$hostId$:u[0],$nodeId$:u[1],$depth$:u[2],$index$:u[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},e.push(c),o.removeAttribute(T),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,t=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))),l=o.childNodes.length-1;l>=0;l--)mt(t,e,n,r,i,o.childNodes[l],s);if(o.shadowRoot)for(l=o.shadowRoot.childNodes.length-1;l>=0;l--)mt(t,e,n,r,i,o.shadowRoot.childNodes[l],s)}else if(8===o.nodeType)u=o.nodeValue.split("."),u[1]!==s&&"0"!==u[1]||(a=u[0],c={$flags$:0,$hostId$:u[1],$nodeId$:u[2],$depth$:u[3],$index$:u[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(c.$elm$=o.nextSibling,c.$elm$&&3===c.$elm$.nodeType&&(c.$text$=c.$elm$.textContent,e.push(c),o.remove(),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))):c.$hostId$===s&&("s"===a?(c.$tag$="slot",o["s-sn"]=u[5]?c.$name$=u[5]:"",o["s-sr"]=!0,r&&(c.$elm$=f.createElement(c.$tag$),c.$name$&&c.$elm$.setAttribute("name",c.$name$),o.parentNode.insertBefore(c.$elm$,o),o.remove(),"0"===c.$depth$&&(r[c.$index$]=c.$elm$)),n.push(c),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c):"r"===a&&(r?o.remove():(i["s-cr"]=o,o["s-cn"]=!0))));else if(t&&"style"===t.$tag$){const e=D(null,o.textContent);e.$elm$=o,e.$index$="0",t.$children$=[e]}},vt=(t,e)=>{if(1===t.nodeType){let n=0;for(;n<t.childNodes.length;n++)vt(t.childNodes[n],e);if(t.shadowRoot)for(n=0;n<t.shadowRoot.childNodes.length;n++)vt(t.shadowRoot.childNodes[n],e)}else if(8===t.nodeType){const n=t.nodeValue.split(".");"o"===n[0]&&(e.set(n[1]+"."+n[2],t),t.nodeValue="",t["s-en"]=n[3])}},yt=(t,e,n)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const r=Object.entries(e.$members$),i=t.prototype;if(r.map(([t,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(i,t,{get(){return e=t,Ct(this).$instanceValues$.get(e);var e},set(n){((t,e,n,r)=>{const i=Ct(this),o=i.$hostElement$,s=i.$instanceValues$.get(e),a=i.$flags$,u=i.$lazyInstance$;var c,l;if(l=r.$members$[e][0],n=null==(c=n)||P(c)?c:4&l?"false"!==c&&(""===c||!!c):2&l?parseFloat(c):1&l?String(c):c,!(8&a&&void 0!==s||n===s)&&(i.$instanceValues$.set(e,n),u)){if(r.$watchers$&&128&a){const t=r.$watchers$[e];t&&t.map(t=>{try{u[t](n,s,e)}catch(r){xt(r,o)}})}2==(18&a)&&st(i,!1)}})(0,t,n,e)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(i,t,{value(...e){const n=Ct(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[t](...e))}})}),1&n){const n=new Map;i.attributeChangedCallback=function(t,e,r){p.jmp(()=>{const e=n.get(t);this[e]=(null!==r||"boolean"!=typeof this[e])&&r})},t.observedAttributes=r.filter(([t,e])=>15&e[0]).map(([t,r])=>{const i=r[1]||t;return n.set(i,t),512&r[0]&&e.$attrsToReflect$.push([t,i]),i})}}return t},_t=t=>{ft(t,"connectedCallback")},bt=t=>{if(0==(1&p.$flags$)){const e=Ct(t),r=e.$cmpMeta$,i=()=>{};if(1&e.$flags$)y(t,e,r.$listeners$),_t(e.$lazyInstance$);else{let i;if(e.$flags$|=1,i=t.getAttribute(E),i){if(g&&1&r.$flags$){const e=k(t.shadowRoot,r,t.getAttribute("s-mode"));t.classList.remove(e+"-h",e+"-s")}((t,e,n,r)=>{const i=t.shadowRoot,o=[],s=i?[]:null,a=r.$vnode$=D(e,null);p.$orgLocNodes$||vt(f.body,p.$orgLocNodes$=new Map),t["s-id"]=n,t.removeAttribute(E),mt(a,o,[],s,t,t,n),o.map(t=>{const n=t.$hostId$+"."+t.$nodeId$,r=p.$orgLocNodes$.get(n),o=t.$elm$;r&&g&&""===r["s-en"]&&r.parentNode.insertBefore(o,r.nextSibling),i||(o["s-hn"]=e,r&&(o["s-ol"]=r,o["s-ol"]["s-nr"]=o)),p.$orgLocNodes$.delete(n)}),i&&s.map(t=>{t&&i.appendChild(t)})})(t,r.$tagName$,i,e)}i||12&r.$flags$&&wt(t);{let n=t;for(;n=n.parentNode||n.host;)if(1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){ot(e,e.$ancestorComponent$=n);break}}r.$members$&&Object.entries(r.$members$).map(([e,[n]])=>{if(31&n&&t.hasOwnProperty(e)){const n=t[e];delete t[e],t[e]=n}}),Ut(()=>(async(t,e,r,i,o)=>{if(0==(32&e.$flags$)){{if(e.$flags$|=32,(o=Rt(r)).then){const t=()=>{};o=await o,t()}o.isProxied||(r.$watchers$=o.watchers,yt(o,r,2),o.isProxied=!0);const t=()=>{};e.$flags$|=8;try{new o(e)}catch(u){xt(u)}e.$flags$&=-9,e.$flags$|=128,t(),_t(e.$lazyInstance$)}if(o.style){let i=o.style;"string"!=typeof i&&(i=i[e.$modeName$=(t=>Ot.map(e=>e(t)).find(t=>!!t))(t)]);const s=A(r,e.$modeName$);if(!Pt.has(s)){const t=()=>{};8&r.$flags$&&(i=await n.e(2369).then(n.bind(n,2369)).then(t=>t.scopeCss(i,s,!1))),S(s,i,!!(1&r.$flags$)),t()}}}const s=e.$ancestorComponent$,a=()=>st(e,!0);s&&s["s-rc"]?s["s-rc"].push(a):a()})(t,e,r))}i()}},wt=t=>{const e=t["s-cr"]=f.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},Et=(t,e={})=>{const n=[],r=e.exclude||[],i=h.customElements,o=f.head,s=o.querySelector("meta[charset]"),a=f.createElement("style"),u=[],c=f.querySelectorAll("[sty-id]");let l,d=!0,m=0;for(Object.assign(p,e),p.$resourcesUrl$=new URL(e.resourcesUrl||"./",f.baseURI).href,p.$flags$|=2;m<c.length;m++)S(c[m].getAttribute("sty-id"),c[m].innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0);t.map(t=>t[1].map(e=>{const o={$flags$:e[0],$tagName$:e[1],$members$:e[2],$listeners$:e[3]};o.$members$=e[2],o.$listeners$=e[3],o.$attrsToReflect$=[],o.$watchers$={},!g&&1&o.$flags$&&(o.$flags$|=8);const s=o.$tagName$,a=class extends HTMLElement{constructor(t){super(t),kt(t=this,o),1&o.$flags$&&(g?t.attachShadow({mode:"open",delegatesFocus:!!(16&o.$flags$)}):"shadowRoot"in t||(t.shadowRoot=t))}connectedCallback(){l&&(clearTimeout(l),l=null),d?u.push(this):p.jmp(()=>bt(this))}disconnectedCallback(){p.jmp(()=>(t=>{if(0==(1&p.$flags$)){const e=Ct(t),n=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0),p.$cssShim$&&p.$cssShim$.removeHost(t),ft(n,"disconnectedCallback")}})(this))}componentOnReady(){return Ct(this).$onReadyPromise$}};o.$lazyBundleId$=t[0],r.includes(s)||i.get(s)||(n.push(s),i.define(s,yt(a,o,1)))})),a.innerHTML=n+"{visibility:hidden}.hydrated{visibility:inherit}",a.setAttribute("data-styles",""),o.insertBefore(a,s?s.nextSibling:o.firstChild),d=!1,u.length?u.map(t=>t.connectedCallback()):p.jmp(()=>l=setTimeout(dt,30))},Tt=t=>{const e=new URL(t,p.$resourcesUrl$);return e.origin!==h.location.origin?e.href:e.pathname},It=new WeakMap,Ct=t=>It.get(t),St=(t,e)=>It.set(e.$lazyInstance$=t,e),kt=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(t=>n.$onInstanceResolve$=t),n.$onReadyPromise$=new Promise(t=>n.$onReadyResolve$=t),t["s-p"]=[],t["s-rc"]=[],y(t,n,e.$listeners$),It.set(t,n)},At=(t,e)=>e in t,xt=(t,e)=>(0,console.error)(t,e),Nt=new Map,Rt=(t,e,r)=>{const i=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$,s=Nt.get(o);return s?s[i]:n(863)(`./${o}.entry.js`).then(t=>(Nt.set(o,t),t[i]),xt)},Pt=new Map,Ot=[],Dt=[],Lt=[],Mt=(t,e)=>n=>{t.push(n),l||(l=!0,e&&4&p.$flags$?Ut(jt):p.raf(jt))},Ft=t=>{for(let n=0;n<t.length;n++)try{t[n](performance.now())}catch(e){xt(e)}t.length=0},jt=()=>{Ft(Dt),Ft(Lt),(l=Dt.length>0)&&p.raf(jt)},Ut=t=>m().then(t),Vt=Mt(Dt,!1),qt=Mt(Lt,!0),$t={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5538:(t,e,n)=>{"use strict";n.d(e,{L:()=>o,a:()=>s,b:()=>a,c:()=>u,d:()=>c,e:()=>I,g:()=>k,l:()=>E,s:()=>C,t:()=>l});var r=n(2322),i=n(1843);const o="ionViewWillEnter",s="ionViewDidEnter",a="ionViewWillLeave",u="ionViewDidLeave",c="ionViewWillUnload",l=t=>new Promise((e,n)=>{(0,r.c)(()=>{h(t),d(t).then(n=>{n.animation&&n.animation.destroy(),f(t),e(n)},e=>{f(t),n(e)})})}),h=t=>{const e=t.enteringEl,n=t.leavingEl;S(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),C(e,!1),e.style.setProperty("pointer-events","none"),n&&(C(n,!1),n.style.setProperty("pointer-events","none"))},d=async t=>{const e=await p(t);return e&&r.B.isBrowser?g(e,t):m(t)},f=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},p=async t=>{if(t.leavingEl&&t.animated&&0!==t.duration)return t.animationBuilder?t.animationBuilder:"ios"===t.mode?(await Promise.resolve().then(n.bind(n,5337))).iosTransitionAnimation:(await Promise.resolve().then(n.bind(n,8176))).mdTransitionAnimation},g=async(t,e)=>{await v(e,!0);const n=t(e.baseEl,e);b(e.enteringEl,e.leavingEl);const r=await _(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&w(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},m=async t=>{const e=t.enteringEl,n=t.leavingEl;return await v(t,!1),b(e,n),w(e,n),{hasCompleted:!0}},v=async(t,e)=>{const n=(void 0!==t.deepWait?t.deepWait:e)?[I(t.enteringEl),I(t.leavingEl)]:[T(t.enteringEl),T(t.leavingEl)];await Promise.all(n),await y(t.viewIsReady,t.enteringEl)},y=async(t,e)=>{t&&await t(e)},_=(t,e)=>{const n=e.progressCallback,r=new Promise(e=>{t.onFinish(t=>e(1===t))});return n?(t.progressStart(!0),n(t)):t.play(),r},b=(t,e)=>{E(e,a),E(t,o)},w=(t,e)=>{E(t,s),E(e,u)},E=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},T=t=>t?new Promise(e=>(0,i.c)(t,e)):Promise.resolve(),I=async t=>{const e=t;if(e){if(null!=e.componentOnReady&&null!=await e.componentOnReady())return;await Promise.all(Array.from(e.children).map(I))}},C=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},S=(t,e,n)=>{void 0!==t&&(t.style.zIndex="back"===n?"99":"101"),void 0!==e&&(e.style.zIndex="100")},k=t=>t.classList.contains("ion-page")?t:t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||t},8520:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GESTURE_CONTROLLER:()=>r.G,createGesture:()=>u});var r=n(6953);const i=(t,e,n,r)=>{const i=o(t)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let s,a;return t.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(s="addEventListener",a="removeEventListener"),t[s](e,n,i),()=>{t[a](e,n,i)}},o=t=>{if(void 0===s)try{const e=Object.defineProperty({},"passive",{get:()=>{s=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){s=!1}return!!s};let s;const a=t=>t instanceof Document?t:t.ownerDocument,u=t=>{let e=!1,n=!1,o=!0,s=!1;const u=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),d=u.canStart,f=u.onWillStart,p=u.onStart,g=u.onEnd,m=u.notCaptured,v=u.onMove,y=u.threshold,_=u.passive,b=u.blurOnStart,w={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},E=((t,e,n)=>{const r=n*(Math.PI/180),i="x"===t,o=Math.cos(r),s=e*e;let a=0,u=0,c=!1,l=0;return{start(t,e){a=t,u=e,l=0,c=!0},detect(t,e){if(!c)return!1;const n=t-a,r=e-u,h=n*n+r*r;if(h<s)return!1;const d=Math.sqrt(h),f=(i?n:r)/d;return l=f>o?1:f<-o?-1:0,c=!1,!0},isGesture:()=>0!==l,getDirection:()=>l}})(u.direction,u.threshold,u.maxAngle),T=r.G.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),I=()=>{e&&(s=!1,v&&v(w))},C=()=>!(T&&!T.capture()||(e=!0,o=!1,w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime,f?f(w).then(S):S(),0)),S=()=>{b&&(()=>{if("undefined"!=typeof document){const t=document.activeElement;null!==t&&t.blur&&t.blur()}})(),p&&p(w),o=!0},k=()=>{e=!1,n=!1,s=!1,o=!0,T.release()},A=t=>{const n=e,r=o;k(),r&&(c(w,t),n?g&&g(w):m&&m(w))},x=((t,e,n,r,o)=>{let s,u,c,l,h,d,f,p=0;const g=r=>{p=Date.now()+2e3,e(r)&&(!u&&n&&(u=i(t,"touchmove",n,o)),c||(c=i(t,"touchend",v,o)),l||(l=i(t,"touchcancel",v,o)))},m=r=>{p>Date.now()||e(r)&&(!d&&n&&(d=i(a(t),"mousemove",n,o)),f||(f=i(a(t),"mouseup",y,o)))},v=t=>{_(),r&&r(t)},y=t=>{b(),r&&r(t)},_=()=>{u&&u(),c&&c(),l&&l(),u=c=l=void 0},b=()=>{d&&d(),f&&f(),d=f=void 0},w=()=>{_(),b()},E=(e=!0)=>{e?(s||(s=i(t,"touchstart",g,o)),h||(h=i(t,"mousedown",m,o))):(s&&s(),h&&h(),s=h=void 0,w())};return{enable:E,stop:w,destroy:()=>{E(!1),r=n=e=void 0}}})(u.el,t=>{const e=h(t);return!(n||!o)&&(l(t,w),w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime=e,w.velocityX=w.velocityY=w.deltaX=w.deltaY=0,w.event=t,(!d||!1!==d(w))&&(T.release(),!!T.start()&&(n=!0,0===y?C():(E.start(w.startX,w.startY),!0))))},t=>{e?!s&&o&&(s=!0,c(w,t),requestAnimationFrame(I)):(c(w,t),E.detect(w.currentX,w.currentY)&&(E.isGesture()&&C()||N()))},A,{capture:!1,passive:_}),N=()=>{k(),x.stop(),m&&m(w)};return{enable(t=!0){t||(e&&A(void 0),k()),x.enable(t)},destroy(){T.destroy(),x.destroy()}}},c=(t,e)=>{if(!e)return;const n=t.currentX,r=t.currentY,i=t.currentTime;l(e,t);const o=t.currentX,s=t.currentY,a=(t.currentTime=h(e))-i;if(a>0&&a<100){const e=(s-r)/a;t.velocityX=(o-n)/a*.7+.3*t.velocityX,t.velocityY=.7*e+.3*t.velocityY}t.deltaX=o-t.startX,t.deltaY=s-t.startY,t.event=e},l=(t,e)=>{let n=0,r=0;if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];n=t.clientX,r=t.clientY}else void 0!==t.pageX&&(n=t.pageX,r=t.pageY)}e.currentX=n,e.currentY=r},h=t=>t.timeStamp||Date.now()},7505:(t,e,n)=>{"use strict";n.d(e,{a:()=>o,b:()=>E,c:()=>y,g:()=>i,i:()=>T});var r=n(2322);const i=t=>s(t),o=(t,e)=>("string"==typeof t&&(e=t,t=void 0),i(t).includes(e)),s=(t=window)=>{if(void 0===t)return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=a(t),e.forEach(e=>t.document.documentElement.classList.add(`plt-${e}`))),e},a=t=>Object.keys(m).filter(e=>m[e](t)),u=t=>!!p(t,/iPad/i)||!(!p(t,/Macintosh/i)||!l(t)),c=t=>p(t,/android|sink/i),l=t=>g(t,"(any-pointer:coarse)"),h=t=>d(t)||f(t),d=t=>!!(t.cordova||t.phonegap||t.PhoneGap),f=t=>{const e=t.Capacitor;return!(!e||!e.isNative)},p=(t,e)=>e.test(t.navigator.userAgent),g=(t,e)=>t.matchMedia(e).matches,m={ipad:u,iphone:t=>p(t,/iPhone/i),ios:t=>p(t,/iPhone|iPod/i)||u(t),android:c,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return u(t)||(t=>c(t)&&!p(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:d,capacitor:f,electron:t=>p(t,/electron/i),pwa:t=>!(!t.matchMedia("(display-mode: standalone)").matches&&!t.navigator.standalone),mobile:l,mobileweb:t=>l(t)&&!h(t),desktop:t=>!l(t),hybrid:h};class v{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,e){const n=this.m.get(t);return void 0!==n?n:e}getBoolean(t,e=!1){const n=this.m.get(t);return void 0===n?e:"string"==typeof n?"true"===n:!!n}getNumber(t,e){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n}set(t,e){this.m.set(t,e)}}const y=new v,_="ionic:",b="ionic-persist-config";let w;const E=t=>t&&(0,r.g)(t)||w,T=(t={})=>{if("undefined"==typeof window)return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{};s(n);const a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(t=>{try{const e=t.sessionStorage.getItem(b);return null!==e?JSON.parse(e):{}}catch(e){return{}}})(n)),{persistConfig:!1}),i.config),(t=>{const e={};return t.location.search.slice(1).split("&").map(t=>t.split("=")).map(([t,e])=>[decodeURIComponent(t),decodeURIComponent(e)]).filter(([t])=>"ionic:"===t.substr(0,_.length)).map(([t,e])=>[t.slice(_.length),e]).forEach(([t,n])=>{e[t]=n}),e})(n)),t);y.reset(a),y.getBoolean("persistConfig")&&((t,e)=>{try{t.sessionStorage.setItem(b,JSON.stringify(e))}catch(n){return}})(n,a),i.config=y,i.mode=w=y.get("mode",e.documentElement.getAttribute("mode")||(o(n,"ios")?"ios":"md")),y.set("mode",w),e.documentElement.setAttribute("mode",w),e.documentElement.classList.add(w),y.getBoolean("_testing")&&y.set("animated",!1);const u=t=>t.tagName&&t.tagName.startsWith("ION-"),c=t=>["ios","md"].includes(t);(0,r.s)(t=>{for(;t;){const e=t.mode||t.getAttribute("mode");if(e){if(c(e))return e;u(t)&&console.warn('Invalid ionic mode: "'+e+'", expected: "ios" or "md"')}t=t.parentElement}return w})}},5337:(t,e,n)=>{"use strict";n.r(e),n.d(e,{iosTransitionAnimation:()=>h,shadow:()=>s});var r=n(9691),i=n(5538);n(2322);const o=t=>document.querySelector(`${t}.ion-cloned-element`),s=t=>t.shadowRoot||t,a=t=>{const e="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=e){const t=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=t?t.querySelector(n):null}return t.querySelector(n)},u=(t,e)=>{const n="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs");let r=[];if(null!=n){const t=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=t&&(r=t.querySelectorAll("ion-buttons"))}else r=t.querySelectorAll("ion-buttons");for(const i of r){const t=i.closest("ion-header"),n=t&&!t.classList.contains("header-collapse-condense-inactive"),r=i.querySelector("ion-back-button"),o=i.classList.contains("buttons-collapse"),s="start"===i.slot||""===i.slot;if(null!==r&&s&&(o&&n&&e||!o))return r}return null},c=(t,e,n,i,a,u)=>{const c=e?`calc(100% - ${u.right+4}px)`:u.left-4+"px",l=e?"7px":"-7px",h=e?"-4px":"4px",d=e?"-4px":"4px",f=e?"right":"left",p=e?"left":"right",g=n?[{offset:0,opacity:1,transform:`translate3d(${h}, ${u.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${l}, ${a.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${l}, ${a.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${h}, ${u.top-46}px, 0) scale(1)`}],m=n?[{offset:0,opacity:1,transform:`translate3d(${d}, ${u.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${d}, ${u.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${d}, ${u.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${d}, ${u.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${d}, ${u.top-46}px, 0) scale(1)`}],v=(0,r.c)(),y=(0,r.c)(),_=o("ion-back-button"),b=s(_).querySelector(".button-text"),w=s(_).querySelector("ion-icon");_.text=i.text,_.mode=i.mode,_.icon=i.icon,_.color=i.color,_.disabled=i.disabled,_.style.setProperty("display","block"),_.style.setProperty("position","fixed"),y.addElement(w),v.addElement(b),v.beforeStyles({"transform-origin":`${f} center`}).beforeAddWrite(()=>{i.style.setProperty("display","none"),_.style.setProperty(f,c)}).afterAddWrite(()=>{i.style.setProperty("display",""),_.style.setProperty("display","none"),_.style.removeProperty(f)}).keyframes(g),y.beforeStyles({"transform-origin":`${p} center`}).keyframes(m),t.addAnimation([v,y])},l=(t,e,n,i,s,a)=>{const u=e?`calc(100% - ${s.right}px)`:`${s.left}px`,c=e?"-18px":"18px",l=e?"right":"left",h=n?[{offset:0,opacity:0,transform:`translate3d(${c}, ${a.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${s.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${s.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${c}, ${a.top-4}px, 0) scale(0.5)`}],d=o("ion-title"),f=(0,r.c)();d.innerText=i.innerText,d.size=i.size,d.color=i.color,f.addElement(d),f.beforeStyles({"transform-origin":`${l} center`,height:"46px",display:"",position:"relative",[l]:u}).beforeAddWrite(()=>{i.style.setProperty("display","none")}).afterAddWrite(()=>{i.style.setProperty("display",""),d.style.setProperty("display","none")}).keyframes(h),t.addAnimation(f)},h=(t,e)=>{try{const n="cubic-bezier(0.32,0.72,0,1)",o="opacity",h="transform",d="0%",f=.8,p="rtl"===t.ownerDocument.dir,g=p?"-99.5%":"99.5%",m=p?"33%":"-33%",v=e.enteringEl,y=e.leavingEl,_="back"===e.direction,b=v.querySelector(":scope > ion-content"),w=v.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),E=v.querySelectorAll(":scope > ion-header > ion-toolbar"),T=(0,r.c)(),I=(0,r.c)();if(T.addElement(v).duration(e.duration||540).easing(e.easing||n).fill("both").beforeRemoveClass("ion-page-invisible"),y&&t){const e=(0,r.c)();e.addElement(t),T.addAnimation(e)}if(b||0!==E.length||0!==w.length?(I.addElement(b),I.addElement(w)):I.addElement(v.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),T.addAnimation(I),_?I.beforeClearStyles([o]).fromTo("transform",`translateX(${m})`,`translateX(${d})`).fromTo(o,f,1):I.beforeClearStyles([o]).fromTo("transform",`translateX(${g})`,`translateX(${d})`),b){const t=s(b).querySelector(".transition-effect");if(t){const e=t.querySelector(".transition-cover"),n=t.querySelector(".transition-shadow"),i=(0,r.c)(),s=(0,r.c)(),a=(0,r.c)();i.addElement(t).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),s.addElement(e).beforeClearStyles([o]).fromTo(o,0,.1),a.addElement(n).beforeClearStyles([o]).fromTo(o,.03,.7),i.addAnimation([s,a]),I.addAnimation([i])}}const C=v.querySelector("ion-header.header-collapse-condense"),{forward:S,backward:k}=((t,e,n,r,i)=>{const o=u(r,n),s=a(i),h=a(r),d=u(i,n),f=null!==o&&null!==s&&!n,p=null!==h&&null!==d&&n;if(f){const r=s.getBoundingClientRect(),i=o.getBoundingClientRect();l(t,e,n,s,r,i),c(t,e,n,o,r,i)}else if(p){const r=h.getBoundingClientRect(),i=d.getBoundingClientRect();l(t,e,n,h,r,i),c(t,e,n,d,r,i)}return{forward:f,backward:p}})(T,p,_,v,y);if(E.forEach(t=>{const e=(0,r.c)();e.addElement(t),T.addAnimation(e);const n=(0,r.c)();n.addElement(t.querySelector("ion-title"));const i=(0,r.c)(),a=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]")),u=t.closest("ion-header"),c=u&&u.classList.contains("header-collapse-condense-inactive");let l;l=a.filter(_?t=>{const e=t.classList.contains("buttons-collapse");return e&&!c||!e}:t=>!t.classList.contains("buttons-collapse")),i.addElement(l);const h=(0,r.c)();h.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const f=(0,r.c)();f.addElement(s(t).querySelector(".toolbar-background"));const v=(0,r.c)(),y=t.querySelector("ion-back-button");if(y&&v.addElement(y),e.addAnimation([n,i,h,f,v]),i.fromTo(o,.01,1),h.fromTo(o,.01,1),_)c||n.fromTo("transform",`translateX(${m})`,`translateX(${d})`).fromTo(o,.01,1),h.fromTo("transform",`translateX(${m})`,`translateX(${d})`),v.fromTo(o,.01,1);else if(C||n.fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(o,.01,1),h.fromTo("transform",`translateX(${g})`,`translateX(${d})`),f.beforeClearStyles([o,"transform"]),(null==u?void 0:u.translucent)?f.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):f.fromTo(o,.01,"var(--opacity)"),S||v.fromTo(o,.01,1),y&&!S){const t=(0,r.c)();t.addElement(s(y).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),e.addAnimation(t)}}),y){const t=(0,r.c)(),e=y.querySelector(":scope > ion-content"),n=y.querySelectorAll(":scope > ion-header > ion-toolbar"),a=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(e||0!==n.length||0!==a.length?(t.addElement(e),t.addElement(a)):t.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),T.addAnimation(t),_){t.beforeClearStyles([o]).fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)");const e=(0,i.g)(y);T.afterAddWrite(()=>{"normal"===T.getDirection()&&e.style.setProperty("display","none")})}else t.fromTo("transform",`translateX(${d})`,`translateX(${m})`).fromTo(o,1,f);if(e){const n=s(e).querySelector(".transition-effect");if(n){const e=n.querySelector(".transition-cover"),i=n.querySelector(".transition-shadow"),s=(0,r.c)(),a=(0,r.c)(),u=(0,r.c)();s.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(e).beforeClearStyles([o]).fromTo(o,.1,0),u.addElement(i).beforeClearStyles([o]).fromTo(o,.7,.03),s.addAnimation([a,u]),t.addAnimation([s])}}n.forEach(t=>{const e=(0,r.c)();e.addElement(t);const n=(0,r.c)();n.addElement(t.querySelector("ion-title"));const i=(0,r.c)(),a=t.querySelectorAll("ion-buttons,[menuToggle]"),u=t.closest("ion-header"),c=u&&u.classList.contains("header-collapse-condense-inactive"),l=Array.from(a).filter(t=>{const e=t.classList.contains("buttons-collapse");return e&&!c||!e});i.addElement(l);const f=(0,r.c)(),g=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");g.length>0&&f.addElement(g);const v=(0,r.c)();v.addElement(s(t).querySelector(".toolbar-background"));const y=(0,r.c)(),b=t.querySelector("ion-back-button");if(b&&y.addElement(b),e.addAnimation([n,i,f,y,v]),T.addAnimation(e),y.fromTo(o,.99,0),i.fromTo(o,.99,0),f.fromTo(o,.99,0),_){if(c||n.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)").fromTo(o,.99,0),f.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)"),v.beforeClearStyles([o,"transform"]),(null==u?void 0:u.translucent)?v.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):v.fromTo(o,"var(--opacity)",0),b&&!k){const t=(0,r.c)();t.addElement(s(b).querySelector(".button-text")).fromTo("transform",`translateX(${d})`,`translateX(${(p?-124:124)+"px"})`),e.addAnimation(t)}}else c||n.fromTo("transform",`translateX(${d})`,`translateX(${m})`).fromTo(o,.99,0).afterClearStyles([h,o]),f.fromTo("transform",`translateX(${d})`,`translateX(${m})`).afterClearStyles([h,o]),y.afterClearStyles([o]),n.afterClearStyles([o]),i.afterClearStyles([o])})}return T}catch(n){throw n}}},8176:(t,e,n)=>{"use strict";n.r(e),n.d(e,{mdTransitionAnimation:()=>o});var r=n(9691),i=n(5538);n(2322);const o=(t,e)=>{const n="back"===e.direction,o=e.leavingEl,s=(0,i.g)(e.enteringEl),a=s.querySelector("ion-toolbar"),u=(0,r.c)();if(u.addElement(s).fill("both").beforeRemoveClass("ion-page-invisible"),n?u.duration(e.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):u.duration(e.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),a){const t=(0,r.c)();t.addElement(a),u.addAnimation(t)}if(o&&n){u.duration(e.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const t=(0,r.c)();t.addElement((0,i.g)(o)).onFinish(e=>{1===e&&t.elements.length>0&&t.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),u.addAnimation(t)}return u}},1558:(t,e,n)=>{"use strict";n.d(e,{B:()=>D,a:()=>c,b:()=>l,c:()=>p,d:()=>I,e:()=>m,f:()=>S,g:()=>x,h:()=>a,i:()=>R,l:()=>h,m:()=>d,p:()=>f,s:()=>O,t:()=>g});var r=n(7505),i=n(4641),o=n(1843);let s=0;const a=new WeakMap,u=t=>({create:e=>v(t,e),dismiss:(e,n,r)=>w(document,e,n,t,r),getTop:async()=>E(document,t)}),c=u("ion-alert"),l=u("ion-action-sheet"),h=u("ion-loading"),d=u("ion-modal"),f=u("ion-picker"),p=u("ion-popover"),g=u("ion-toast"),m=t=>{"undefined"!=typeof document&&b(document);const e=s++;t.overlayIndex=e,t.hasAttribute("id")||(t.id=`ion-overlay-${e}`)},v=(t,e)=>"undefined"!=typeof customElements?customElements.whenDefined(t).then(()=>{const n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,e),k(document).appendChild(n),new Promise(t=>(0,o.c)(n,t))}):Promise.resolve(),y='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',_="input:not([type=hidden]), textarea, button, select",b=t=>{0===s&&(s=1,t.addEventListener("focus",e=>((t,e)=>{const n=E(e),r=t.target;if(n&&r)if(n===r)n.lastFocus=void 0;else{const t=(0,o.g)(n);if(!t.contains(r))return;const i=t.querySelector(".ion-overlay-wrapper");if(!i)return;if(i.contains(r))n.lastFocus=r;else{const t=n.lastFocus;((t,e)=>{let n=t.querySelector(y);const r=n&&n.shadowRoot;r&&(n=r.querySelector(_)||n),n?n.focus():e.focus()})(i,n),t===e.activeElement&&((t,e)=>{const n=Array.from(t.querySelectorAll(y));let r=n.length>0?n[n.length-1]:null;const i=r&&r.shadowRoot;i&&(r=i.querySelector(_)||r),r?r.focus():e.focus()})(i,n),n.lastFocus=e.activeElement}}})(e,t),!0),t.addEventListener("ionBackButton",e=>{const n=E(t);n&&n.backdropDismiss&&e.detail.register(i.OVERLAY_BACK_BUTTON_PRIORITY,()=>n.dismiss(void 0,D))}),t.addEventListener("keyup",e=>{if("Escape"===e.key){const e=E(t);e&&e.backdropDismiss&&e.dismiss(void 0,D)}}))},w=(t,e,n,r,i)=>{const o=E(t,r,i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},E=(t,e,n)=>{const r=((t,e)=>(void 0===e&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(t=>t.overlayIndex>0)))(t,e);return void 0===n?r[r.length-1]:r.find(t=>t.id===n)},T=(t=!1)=>{const e=k(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))},I=async(t,e,n,i,o)=>{if(t.presented)return;T(!0),t.presented=!0,t.willPresent.emit();const s=(0,r.b)(t),a=t.enterAnimation?t.enterAnimation:r.c.get(e,"ios"===s?n:i);await A(t,a,t.el,o)&&t.didPresent.emit(),"ION-TOAST"!==t.el.tagName&&C(t.el),t.keyboardClose&&t.el.focus()},C=async t=>{let e=document.activeElement;if(!e)return;const n=e&&e.shadowRoot;n&&(e=n.querySelector(_)||e),await t.onDidDismiss(),e.focus()},S=async(t,e,n,i,o,s,u)=>{if(!t.presented)return!1;T(!1),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n});const c=(0,r.b)(t),l=t.leaveAnimation?t.leaveAnimation:r.c.get(i,"ios"===c?o:s);"gesture"!==n&&await A(t,l,t.el,u),t.didDismiss.emit({data:e,role:n}),a.delete(t)}catch(c){console.error(c)}return t.el.remove(),!0},k=t=>t.querySelector("ion-app")||t.body,A=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const o=e(n.shadowRoot||t.el,i);t.animated&&r.c.getBoolean("animated",!0)||o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const t=n.ownerDocument.activeElement;t&&t.matches("input, ion-input, ion-textarea")&&t.blur()});const s=a.get(t)||[];return a.set(t,[...s,o]),await o.play(),!0},x=(t,e)=>{let n;const r=new Promise(t=>n=t);return N(t,e,t=>{n(t.detail)}),r},N=(t,e,n)=>{const r=i=>{(0,o.b)(t,e,r),n(i)};(0,o.a)(t,e,r)},R=t=>"cancel"===t||t===D,P=t=>t(),O=(t,e)=>{if("function"==typeof t)return r.c.get("_zoneGate",P)(()=>{try{return t(e)}catch(n){console.error(n)}})},D="backdrop"},2087:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,s){n(i=t[e].apply(t,r)).then(o,s)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},8512:(t,e,n)=>{"use strict";n.d(e,{X:()=>o});var r=n(5959),i=n(3895);class o extends r.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(t){super.next(this._value=t)}}},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),o=n(7498),s=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(1484),i=n(4294);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),o=n(7570),s=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),o=n(7570),s=n(5331),a=n(1484),u=n(4294);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),o=n(6015);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),o=n(7570),s=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(8318);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),o=n(7570),s=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(8318),i=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},7254:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var r=n(8318),i=n(8470),o=n(5024),s=n(9996);function a(t,e,n,c){return(0,o.m)(n)&&(c=n,n=void 0),c?a(t,e,n).pipe((0,s.U)(t=>(0,i.k)(t)?c(...t):c(t))):new r.y(r=>{u(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function u(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)u(t[o],e,n,r,i)}r.add(o)}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(6163),i=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},436:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});var r=n(3982);function i(t,e){return(0,r.zg)(t,e,1)}},7768:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(6673);function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},3835:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(6673);function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},3530:(t,e,n)=>{"use strict";n.d(e,{P:()=>c});var r=n(9665),i=n(3835),o=n(611),s=n(7768),a=n(790),u=n(3392);function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?(0,i.h)((e,n)=>t(e,n,c)):u.y,(0,o.q)(1),n?(0,s.d)(e):(0,a.T)(()=>new r.K))}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(3982),i=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9098:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>u});var r=n(6673),i=n(653),o=n(878),s=n(8318);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return t=this.error,new s.y(e=>e.error(t));case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},4187:(t,e,n)=>{"use strict";n.d(e,{R:()=>m});var r=n(8318);let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n(8470);class g extends r.y{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,p.k)(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},4689:(t,e,n)=>{"use strict";n.d(e,{w:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,o.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},611:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(6673),i=n(8402),o=n(653);function s(t){return e=>0===t?(0,o.c)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.W}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(6673);function i(){}var o=n(5024);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},790:(t,e,n)=>{"use strict";n.d(e,{T:()=>o});var r=n(9665),i=n(6673);function o(t=u){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.K}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(8318),i=n(7570);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},8402:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},9665:(t,e,n)=>{"use strict";n.d(e,{K:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),o=n(5686),s=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},957:(t,e,n)=>{"use strict";n.d(e,{K:()=>a});var r=n(1116),i=(n(8291),n(376),n(8809)),o=n(1462),s=n(7368);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.ez,i.Pc,o.u5]]}),t})()},376:(t,e,n)=>{"use strict";n.d(e,{N:()=>i});var r=n(7368);let i=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-loading"]],decls:3,vars:0,consts:[[1,"spinner"],[1,"double-bounce1"],[1,"double-bounce2"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"div",1),r._UZ(2,"div",2),r.qZA())},styles:[".spinner[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.double-bounce1[_ngcontent-%COMP%], .double-bounce2[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#fc96ab;opacity:.6;position:absolute;top:0;left:0;animation:sk-bounce 2s ease-in-out infinite}.double-bounce2[_ngcontent-%COMP%]{animation-delay:-1s}@keyframes sk-bounce{0%,to{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}"]}),t})()},8291:(t,e,n)=>{"use strict";n.d(e,{B:()=>l});var r=n(7368),i=n(2693),o=n(2661),s=n(1116),a=n(8809);function u(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ion-slide",5),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).shared.openLink("{{slide.link}}")}),r.qZA()}2&t&&r.Jzz("background: url(",e.$implicit.pic,");background-size: cover;background-position: center;background-repeat: no-repeat")}function c(t,e){if(1&t&&(r.TgZ(0,"ion-slides",2,3),r.YNc(2,u,1,3,"ion-slide",4),r.qZA()),2&t){const t=r.oxw();r.Q6J("options",t.slideOpts),r.xp6(2),r.Q6J("ngForOf",t.shared.topSlider)}}let l=(()=>{class t{constructor(t,e){this.http=t,this.shared=e,this.slideOpts={autoplay:!0}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(i.eN),r.Y36(o.F))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-sildes"]],decls:2,vars:1,consts:[["class","swiper-wrapper","pager","true",3,"options",4,"ngIf"],[1,"swiper-pagination"],["pager","true",1,"swiper-wrapper",3,"options"],["slider",""],["class","swiper-slide",3,"style","click",4,"ngFor","ngForOf"],[1,"swiper-slide",3,"click"]],template:function(t,e){1&t&&(r.YNc(0,c,3,2,"ion-slides",0),r._UZ(1,"div",1)),2&t&&r.Q6J("ngIf",e.shared.topSlider&&e.shared.topSlider.length>0)},directives:[s.O5,a.Hr,s.sg,a.A$],styles:[""]}),t})()},2661:(t,e,n)=>{"use strict";n.d(e,{F:()=>xy});var r=n(4762),i=n(2693),o=n(1062),s=(n(9738),n(2107),n(250)),a=n(308),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var l,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d=d||{},f=h||self;function p(){}function g(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(){this.s=this.s,this.o=this.o}var C={};I.prototype.s=!1,I.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}(this);delete C[t]}},I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function A(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function N(t){return/^[\s\xa0]*$/.test(t)}var R,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var L=f.navigator;if(L){var M=L.userAgent;if(M){R=M;break t}}R=""}function F(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j(t){var e={};for(var n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<U.length;o++)n=U[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=p;var $,B,z=O(R,"Opera"),H=O(R,"Trident")||O(R,"MSIE"),G=O(R,"Edge"),W=G||H,K=O(R,"Gecko")&&!(O(R.toLowerCase(),"webkit")&&!O(R,"Edge"))&&!(O(R,"Trident")||O(R,"MSIE"))&&!O(R,"Edge"),Y=O(R.toLowerCase(),"webkit")&&!O(R,"Edge");function Q(){var t=f.document;return t?t.documentMode:void 0}t:{var X="",J=(B=R,K?/rv:([^\);]+)(\)|;)/.exec(B):G?/Edge\/([\d\.]+)/.exec(B):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Y?/WebKit\/(\S+)/.exec(B):z?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(J&&(X=J?J[1]:""),H){var Z=Q();if(null!=Z&&Z>parseFloat(X)){$=String(Z);break t}}$=X}var tt={};var et=f.document&&H&&(Q()||parseInt($,10))||void 0,nt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",p,e),f.removeEventListener("test",p,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(K){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&it.Z.h.call(this)}}rt.prototype.h=function(){this.defaultPrevented=!0},T(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),at=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++at,this.ca=this.fa=!1}function ct(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lt(t){this.src=t,this.g={},this.h=0}function ht(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ct(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=dt(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new ut(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function gt(t,e,n,r,i){if(r&&r.once)return vt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=It(n),t&&t[st]?t.N(e,n,m(r)?!!r.capture:!!r,i):mt(t,e,n,!1,r,i)}function mt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=Et(t);if(a||(t[ft]=a=new lt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=It(n),t&&t[st]?t.O(e,n,m(r)?!!r.capture:!!r,i):mt(t,e,n,!0,r,i)}function yt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=It(n),t&&t[st]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=dt(o=t.g[e],n,r,i))&&(ct(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Et(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,r,i)),(n=-1<t?e[t]:null)&&_t(n))}function _t(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[st])ht(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(ht(n,t),0==n.h&&(n.src=null,e[ft]=null)):ct(t)}}}function bt(t){return t in pt?pt[t]:pt[t]="on"+t}function wt(t,e){if(t.ca)t=!0;else{e=new it(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&_t(t),t=n.call(r,e)}return t}function Et(t){return(t=t[ft])instanceof lt?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"==typeof t?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function Ct(){I.call(this),this.i=new lt(this),this.P=this,this.I=null}function St(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;V(e=new rt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=kt(s,r,!0,e)&&i}if(i=kt(s=e.g=t,r,!0,e)&&i,i=kt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=kt(s=e.g=n[o],r,!1,e)&&i}function kt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&ht(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}T(Ct,I),Ct.prototype[st]=!0,Ct.prototype.removeEventListener=function(t,e,n,r){yt(this,t,e,n,r)},Ct.prototype.M=function(){if(Ct.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ct(n[r]);delete e.g[t],e.h--}}this.I=null},Ct.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var At=f.JSON.stringify;function xt(){var t=Ft,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Nt,Rt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Pt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Ot},function(t){return t.reset()}),Ot=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Dt(t){f.setTimeout(function(){throw t},0)}function Lt(t,e){Nt||function(){var t=f.Promise.resolve(void 0);Nt=function(){t.then(jt)}}(),Mt||(Nt(),Mt=!0),Ft.add(t,e)}var Mt=!1,Ft=new Rt;function jt(){for(var t;t=xt();){try{t.h.call(t.g)}catch(n){Dt(n)}var e=Pt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mt=!1}function Ut(t,e){Ct.call(this),this.h=t||1,this.g=e||f,this.j=w(this.kb,this),this.l=Date.now()}function Vt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function qt(t,e,n){if("function"==typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function $t(t){t.g=qt(function(){t.g=null,t.i&&(t.i=!1,$t(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}T(Ut,Ct),(l=Ut.prototype).da=!1,l.S=null,l.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),St(this,"tick"),this.da&&(Vt(this),this.start()))}},l.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},l.M=function(){Ut.Z.M.call(this),Vt(this),delete this.g};var Bt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:$t(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(I);function zt(t){I.call(this),this.h=t,this.g={}}T(zt,I);var Ht=[];function Gt(t,e,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=gt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Wt(t){F(t.g,function(t,e){this.g.hasOwnProperty(e)&&_t(t)},t),t.g={}}function Kt(){this.g=!0}function Yt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return At(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}zt.prototype.M=function(){zt.Z.M.call(this),Wt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kt.prototype.Aa=function(){this.g=!1},Kt.prototype.info=function(){};var Qt={},Xt=null;function Jt(){return Xt=Xt||new Ct}function Zt(t){rt.call(this,Qt.Ma,t)}function te(t){var e=Jt();St(e,new Zt(e,t))}function ee(t,e){rt.call(this,Qt.STAT_EVENT,t),this.stat=e}function ne(t){var e=Jt();St(e,new ee(e,t))}function re(t,e){rt.call(this,Qt.Na,t),this.size=e}function ie(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){t()},e)}Qt.Ma="serverreachability",T(Zt,rt),Qt.STAT_EVENT="statevent",T(ee,rt),Qt.Na="timingevent",T(re,rt);var oe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ae(){}function ue(){}ae.prototype.h=null;var ce,le={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function he(){rt.call(this,"d")}function de(){rt.call(this,"c")}function fe(){}function pe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new zt(this),this.P=me,this.W=new Ut(t=W?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}T(he,rt),T(de,rt),T(fe,ae),fe.prototype.g=function(){return new XMLHttpRequest},fe.prototype.i=function(){return{}},ce=new fe;var me=45e3,ve={},ye={};function _e(t,e,n){t.K=1,t.v=$e(Me(e)),t.s=n,t.U=!0,be(t,null)}function be(t,e){t.F=Date.now(),Ie(t),t.A=Me(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),en(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ge,t.g=rr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Bt(w(t.Ia,t,t.g),t.O)),Gt(t.V,t.g,"readystatechange",t.gb),e=t.H?j(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),te(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function we(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ee(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Te(t,n))==ye){4==e&&(t.o=4,ne(14),i=!1),Yt(t.j,t.m,null,"[Incomplete Response]");break}if(r==ve){t.o=4,ne(15),Yt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Yt(t.j,t.m,r,null),xe(t,r)}we(t)&&r!=ye&&r!=ve&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ne(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(e),e.L=!0,ne(11))):(Yt(t.j,t.m,n,"[Invalid Chunked Response]"),Ae(t),ke(t))}function Te(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?ve:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.C=r+n,e))}function Ie(t){t.Y=Date.now()+t.P,Ce(t,t.P)}function Ce(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ie(w(t.eb,t),e)}function Se(t){t.B&&(f.clearTimeout(t.B),t.B=null)}function ke(t){0==t.l.G||t.I||Jn(t.l,t)}function Ae(t){Se(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Vt(t.W),Wt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function xe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||cn(n.i,t)))if(n.I=t.N,!t.J&&cn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Xn(n),Vn(n)}Kn(n),ne(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ie(w(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else tr(n,11)}else if((t.J||n.g==t)&&Xn(n),!N(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(O(l,"spdy")||O(l,"quic")||O(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ln(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,qe(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=nr(r,r.H?r.la:null,r.W),f.J){hn(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Se(p),Ie(p)),r.g=f}else Wn(r);0<n.l.length&&Bn(n)}else"stop"!=o[0]&&"close"!=o[0]||tr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?tr(n,7):Un(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}te(4)}catch(o){}}function Ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||"string"==typeof t)k(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(g(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Re(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Re)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Oe(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Oe(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(l=pe.prototype).setTimeout=function(t){this.P=t},l.gb=function(t){t=t.target;var e=this.L;e&&3==Dn(t)?e.l():this.Ia(t)},l.Ia=function(t){try{if(t==this.g)t:{var e=Dn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||W||this.g&&(this.h.h||this.g.ga()||Ln(this.g)))){this.I||4!=e||7==n||te(8==n||0>=r?3:2),Se(this);var i=this.g.ba();this.N=i;e:if(we(this)){var o=Ln(this.g);t="";var s=o.length,a=4==Dn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ae(this),ke(this);var u="";break e}this.h.i=new f.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ne(12),Ae(this),ke(this);break t}Yt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xe(this,i)}this.U?(Ee(this,e,u),W&&this.i&&3==e&&(Gt(this.V,this.W,"tick",this.fb),this.W.start())):(Yt(this.j,this.m,u,null),xe(this,u)),4==e&&Ae(this),this.i&&!this.I&&(4==e?Jn(this.l,this):(this.i=!1,Ie(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ne(12)):(this.o=0,ne(13)),Ae(this),ke(this)}}}catch(e){}},l.fb=function(){if(this.g){var t=Dn(this.g),e=this.g.ga();this.C<e.length&&(Se(this),Ee(this,t,e),this.i&&4!=t&&Ie(this))}},l.cancel=function(){this.I=!0,Ae(this)},l.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(te(3),ne(17)),Ae(this),this.o=2,ke(this)):Ce(this,this.Y-t)},(l=Re.prototype).R=function(){Pe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},l.T=function(){return Pe(this),this.g.concat()},l.get=function(t,e){return Oe(this.h,t)?this.h[t]:e},l.set=function(t,e){Oe(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},l.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Le(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Le){this.g=void 0!==e?e:t.g,Fe(this,t.j),this.s=t.s,je(this,t.i),Ue(this,t.m),this.l=t.l,e=t.h;var n=new Xe;n.i=e.i,e.g&&(n.g=new Re(e.g),n.h=e.h),Ve(this,n),this.o=t.o}else t&&(n=String(t).match(De))?(this.g=!!e,Fe(this,n[1]||"",!0),this.s=Be(n[2]||""),je(this,n[3]||"",!0),Ue(this,n[4]),this.l=Be(n[5]||"",!0),Ve(this,n[6]||"",!0),this.o=Be(n[7]||"")):(this.g=!!e,this.h=new Xe(null,this.g))}function Me(t){return new Le(t)}function Fe(t,e,n){t.j=n?Be(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function je(t,e,n){t.i=n?Be(e,!0):e}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ve(t,e,n){e instanceof Xe?(t.h=e,function(t,e){e&&!t.j&&(Je(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),en(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=ze(e,Ye)),t.h=new Xe(e,t.g))}function qe(t,e,n){t.h.set(e,n)}function $e(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Le.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ze(e,Ge,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ze(e,Ge,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?Ke:We,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ze(n,Qe)),t.join("")};var Ge=/[#\/\?@]/g,We=/[#\?:]/g,Ke=/[#\?]/g,Ye=/[#\?@]/g,Qe=/#/g;function Xe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Je(t){t.g||(t.g=new Re,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ze(t,e){Je(t),e=nn(t,e),Oe(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Oe((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Pe(t)))}function tn(t,e){return Je(t),e=nn(t,e),Oe(t.g.h,e)}function en(t,e,n){Ze(t,e),0<n.length&&(t.i=null,t.g.set(nn(t,e),x(n)),t.h+=n.length)}function nn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(l=Xe.prototype).add=function(t,e){Je(this),this.i=null,t=nn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},l.forEach=function(t,e){Je(this),this.g.forEach(function(n,r){k(n,function(n){t.call(e,n,r,this)},this)},this)},l.T=function(){Je(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},l.R=function(t){Je(this);var e=[];if("string"==typeof t)tn(this,t)&&(e=A(e,this.g.get(nn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},l.set=function(t,e){return Je(this),this.i=null,tn(this,t=nn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},l.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var rn=function(){return function(t,e){this.h=t,this.g=e}}();function on(t){this.l=t||sn,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.g&&f.g.Ea&&f.g.Ea()&&f.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn=10;function an(t){return!!t.h||!!t.g&&t.g.size>=t.j}function un(t){return t.h?1:t.g?t.g.size:0}function cn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ln(t,e){t.g?t.g.add(e):t.h=e}function hn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function dn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=c(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return x(t.i)}function fn(){}function pn(){this.g=new fn}function gn(t,e,n){var r=n||"";try{Ne(t,function(t,n){var i=t;m(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Nf){throw e.push(r+"type="+encodeURIComponent("_badmap")),Nf}}function mn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function vn(t){this.l=t.$b||null,this.j=t.ib||!1}function yn(t,e){Ct.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=_n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on.prototype.cancel=function(){var t,e;if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=c(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},fn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},fn.prototype.parse=function(t){return f.JSON.parse(t,void 0)},T(vn,ae),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=function(t){return function(){return t}}({}),T(yn,Ct);var _n=0;function bn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function wn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,En(t)}function En(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(l=yn.prototype).open=function(t,e){if(this.readyState!=_n)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,En(this)},l.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||f).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},l.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wn(this)),this.readyState=_n},l.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==f.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},l.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wn(this):En(this),3==this.readyState&&bn(this)}},l.Ua=function(t){this.g&&(this.response=this.responseText=t,wn(this))},l.Ta=function(t){this.g&&(this.response=t,wn(this))},l.ha=function(){this.g&&wn(this)},l.setRequestHeader=function(t,e){this.v.append(t,e)},l.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Tn=f.JSON.parse;function In(t){Ct.call(this),this.headers=new Re,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}T(In,Ct);var Cn="",Sn=/^https?$/i,kn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Nn(t),Pn(t)}function Nn(t){t.D||(t.D=!0,St(t,"complete"),St(t,"error"))}function Rn(t){if(t.h&&void 0!==d&&(!t.C[1]||4!=Dn(t)||2!=t.ba()))if(t.v&&4==Dn(t))qt(t.Fa,0,t);else if(St(t,"readystatechange"),4==Dn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(De)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!Sn.test(o?o.toLowerCase():"")}e=i}if(e)St(t,"complete"),St(t,"success");else{t.m=6;try{var a=2<Dn(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Nn(t)}}finally{Pn(t)}}}function Pn(t,e){if(t.g){On(t);var n=t.g,r=t.C[0]?p:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=r}catch(Nf){}}}function On(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(f.clearTimeout(t.A),t.A=null)}function Dn(t){return t.g?t.g.readyState:0}function Ln(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Cn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return F(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Fn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jn(t){this.za=0,this.l=[],this.h=new Kt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fn("baseRetryDelayMs",5e3,t),this.$a=Fn("retryDelaySeedMs",1e4,t),this.Ya=Fn("forwardChannelMaxRetries",2,t),this.ra=Fn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new on(t&&t.concurrentRequestLimit),this.Ca=new pn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Un(t){if(qn(t),3==t.G){var e=t.V++,n=Me(t.F);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),Hn(t,n),(e=new pe(t,t.h,e,void 0)).K=2,e.v=$e(Me(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.v.toString(),"")),!n&&f.Image&&((new Image).src=e.v,n=!0),n||(e.g=rr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ie(e)}er(t)}function Vn(t){t.g&&(Yn(t),t.g.cancel(),t.g=null)}function qn(t){Vn(t),t.u&&(f.clearTimeout(t.u),t.u=null),Xn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&f.clearTimeout(t.m),t.m=null)}function $n(t,e){t.l.push(new rn(t.Za++,e)),3==t.G&&Bn(t)}function Bn(t){an(t.i)||t.m||(t.m=!0,Lt(t.Ha,t),t.C=0)}function zn(t,e){var n;n=e?e.m:t.V++;var r=Me(t.F);qe(r,"SID",t.J),qe(r,"RID",n),qe(r,"AID",t.U),Hn(t,r),t.o&&t.s&&Mn(r,t.o,t.s),n=new pe(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Gn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ln(t.i,n),_e(n,r,e)}function Hn(t,e){t.j&&Ne({},function(t,n){qe(e,n,t)})}function Gn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?w(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{gn(l,s,"req"+c+"_")}catch(Mr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Wn(t){t.g||t.u||(t.Y=1,Lt(t.Ga,t),t.A=0)}function Kn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ie(w(t.Ga,t),Zn(t,t.A)),t.A++,0))}function Yn(t){null!=t.B&&(f.clearTimeout(t.B),t.B=null)}function Qn(t){t.g=new pe(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Me(t.oa);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.N?"0":"1"),qe(e,"AID",t.U),Hn(t,e),qe(e,"TYPE","xmlhttp"),t.o&&t.s&&Mn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=$e(Me(e)),n.s=null,n.U=!0,be(n,t)}function Xn(t){null!=t.v&&(f.clearTimeout(t.v),t.v=null)}function Jn(t,e){var n=null;if(t.g==e){Xn(t),Yn(t),t.g=null;var r=2}else{if(!cn(t.i,e))return;n=e.D,hn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;St(r=Jt(),new re(r,n,e,i)),Bn(t)}else Wn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(un(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ie(w(t.Ha,t,e),Zn(t,t.C)),t.C++,0)))}(t,e)||2==r&&Kn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tr(t,5);break;case 4:tr(t,10);break;case 3:tr(t,6);break;default:tr(t,2)}}function Zn(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function tr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=w(t.jb,t);n||(n=new Le("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Fe(n,"https"),$e(n)),function(t,e){var n=new Kt;if(f.Image){var r=new Image;r.onload=E(mn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=E(mn,n,r,"TestLoadImage: error",!1,e),r.onabort=E(mn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=E(mn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.G=0,t.j&&t.j.va(e),er(t),qn(t)}function er(t){t.G=0,t.I=-1,t.j&&(0==dn(t.i).length&&0==t.l.length||(t.i.i.length=0,x(t.l),t.l.length=0),t.j.ua())}function nr(t,e,n){var r=function(t){return t instanceof Le?Me(t):new Le(t,void 0)}(n);if(""!=r.i)e&&je(r,e+"."+r.i),Ue(r,r.m);else{var i=f.location;r=function(t,e,n,r){var i=new Le(null,void 0);return t&&Fe(i,t),e&&je(i,e),n&&Ue(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&F(t.aa,function(t,e){qe(r,e,t)}),n=t.sa,(e=t.D)&&n&&qe(r,e,n),qe(r,"VER",t.ma),Hn(t,r),r}function rr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new In(n&&t.Ba&&!t.qa?new vn({ib:!0}):t.qa)).L=t.H,e}function ir(){}function or(){if(H&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function sr(t,e){Ct.call(this),this.g=new jn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!N(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new cr(this)}function ar(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ur(){de.call(this),this.status=1}function cr(t){this.g=t}(l=In.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ce.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:ce),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void xn(this,o)}t=n||"";var i=new Re(this.headers);r&&Ne(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=An,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=f.FormData&&t instanceof f.FormData,!(0<=S(kn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{On(this),0<this.B&&((this.K=function(t){return H&&function(){return t=tt,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=P(String($)).split("."),n=P("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=D(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==o[2].length,0==s[2].length)||D(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=qt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){xn(this,o)}},l.pa=function(){void 0!==d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},l.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),Pn(this))},l.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),In.Z.M.call(this)},l.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},l.cb=function(){Rn(this)},l.ba=function(){try{return 2<Dn(this)?this.g.status:-1}catch(B){return-1}},l.ga=function(){try{return this.g?this.g.responseText:""}catch(B){return""}},l.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tn(e)}},l.Da=function(){return this.m},l.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(l=jn.prototype).ma=8,l.G=1,l.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},l.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new pe(this,this.h,t,void 0),n=this.s;if(this.P&&(n?V(n=j(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Gn(this,e,r),qe(i=Me(this.F),"RID",t),qe(i,"CVER",22),this.D&&qe(i,"X-HTTP-Session-Id",this.D),Hn(this,i),this.o&&n&&Mn(i,this.o,n),ln(this.i,e),this.Ra&&qe(i,"TYPE","init"),this.ja?(qe(i,"$req",r),qe(i,"SID","null"),e.$=!0,_e(e,i,null)):_e(e,i,r),this.G=2}}else 3==this.G&&(t?zn(this,t):0==this.l.length||an(this.i)||zn(this))},l.Ga=function(){if(this.u=null,Qn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ie(w(this.bb,this),t)}},l.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ne(10),Vn(this),Qn(this))},l.ab=function(){null!=this.v&&(this.v=null,Vn(this),Kn(this),ne(19))},l.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ne(2)):(this.h.info("Failed to ping google.com"),ne(1))},(l=ir.prototype).xa=function(){},l.wa=function(){},l.va=function(){},l.ua=function(){},l.Oa=function(){},or.prototype.g=function(t,e){return new sr(t,e)},T(sr,Ct),sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Lt(w(t.hb,t,e))),ne(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=nr(t,null,t.W),Bn(t)},sr.prototype.close=function(){Un(this.g)},sr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,$n(this.g,e)}else this.v?((e={}).__data__=At(t),$n(this.g,e)):$n(this.g,t)},sr.prototype.M=function(){this.g.j=null,delete this.j,Un(this.g),delete this.g,sr.Z.M.call(this)},T(ar,he),T(ur,de),T(cr,ir),cr.prototype.xa=function(){St(this.g,"a")},cr.prototype.wa=function(t){St(this.g,new ar(t))},cr.prototype.va=function(t){St(this.g,new ur(t))},cr.prototype.ua=function(){St(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,se.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Ct.prototype.listen=Ct.prototype.N,In.prototype.listenOnce=In.prototype.O,In.prototype.getLastError=In.prototype.La,In.prototype.getLastErrorCode=In.prototype.Da,In.prototype.getStatus=In.prototype.ba,In.prototype.getResponseJson=In.prototype.Qa,In.prototype.getResponseText=In.prototype.ga,In.prototype.send=In.prototype.ea;var lr=oe,hr=se,dr=Qt,fr=vn,pr=ue,gr=In,mr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();mr.o=-1;var vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,r.__extends)(e,t),e}(Error),_r=new a.Logger("@firebase/firestore");function br(){return _r.logLevel}function wr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_r.logLevel<=a.LogLevel.DEBUG){var i=e.map(Ir);_r.debug.apply(_r,(0,r.__spreadArray)(["Firestore (8.8.0): "+t],i))}}function Er(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_r.logLevel<=a.LogLevel.ERROR){var i=e.map(Ir);_r.error.apply(_r,(0,r.__spreadArray)(["Firestore (8.8.0): "+t],i))}}function Tr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_r.logLevel<=a.LogLevel.WARN){var i=e.map(Ir);_r.warn.apply(_r,(0,r.__spreadArray)(["Firestore (8.8.0): "+t],i))}}function Ir(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Nf){return t}}function Cr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw Er(e),new Error(e)}function Sr(t,e){t||Cr()}function kr(t,e){return t}function Ar(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var xr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ar(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Nr(t,e){return t<e?-1:t>e?1:0}function Rr(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Pr(t){return t+"\0"}var Or=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yr(vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yr(vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yr(vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yr(vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Nr(this.nanoseconds,t.nanoseconds):Nr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Dr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Or(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Lr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var jr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Cr(),void 0===n?n=t.length-e:n>t.length-e&&Cr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new yr(vr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(jr),Vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Vr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yr(vr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new yr(vr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yr(vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new yr(vr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(jr),$r=function(){function t(t){this.fields=t,t.sort(qr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Rr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Br=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Nr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Br.EMPTY_BYTE_STRING=new Br("");var zr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(Sr(!!t),"string"==typeof t){var e=0,n=zr.exec(t);if(Sr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gr(t.seconds),nanos:Gr(t.nanos)}}function Gr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wr(t){return"string"==typeof t?Br.fromBase64String(t):Br.fromUint8Array(t)}function Kr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yr(t){var e=t.mapValue.fields.__previous_value__;return Kr(e)?Yr(e):e}function Qr(t){var e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new Or(e.seconds,e.nanos)}function Xr(t){return null==t}function Jr(t){return 0===t&&1/t==-1/0}function Zr(t){return"number"==typeof t&&Number.isInteger(t)&&!Jr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ti=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ur.fromString(e))},t.fromName=function(e){return new t(Ur.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ur.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ur.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ur(e.slice()))},t}();function ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kr(t)?4:10:Cr()}function ni(t,e){var n=ei(t);if(n!==ei(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qr(t).isEqual(Qr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Hr(t.timestampValue),r=Hr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Wr(t.bytesValue).isEqual(Wr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Gr(t.geoPointValue.latitude)===Gr(e.geoPointValue.latitude)&&Gr(t.geoPointValue.longitude)===Gr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Gr(t.integerValue)===Gr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Gr(t.doubleValue),r=Gr(e.doubleValue);return n===r?Jr(n)===Jr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rr(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lr(n)!==Lr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ni(n[i],r[i])))return!1;return!0}(t,e);default:return Cr()}}function ri(t,e){return void 0!==(t.values||[]).find(function(t){return ni(t,e)})}function ii(t,e){var n=ei(t),r=ei(e);if(n!==r)return Nr(n,r);switch(n){case 0:return 0;case 1:return Nr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Gr(t.integerValue||t.doubleValue),r=Gr(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return oi(t.timestampValue,e.timestampValue);case 4:return oi(Qr(t),Qr(e));case 5:return Nr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Wr(t),r=Wr(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Nr(n[i],r[i]);if(0!==o)return o}return Nr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Nr(Gr(t.latitude),Gr(e.latitude));return 0!==n?n:Nr(Gr(t.longitude),Gr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ii(n[i],r[i]);if(o)return o}return Nr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Nr(r[s],o[s]);if(0!==a)return a;var u=ii(n[r[s]],i[o[s]]);if(0!==u)return u}return Nr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Cr()}}function oi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Nr(t,e);var n=Hr(t),r=Hr(e),i=Nr(n.seconds,r.seconds);return 0!==i?i:Nr(n.nanos,r.nanos)}function si(t){return ai(t)}function ai(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Hr(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wr(t.bytesValue).toBase64():"referenceValue"in t?ti.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ai(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ai(t.fields[o])}return e+"}"}(t.mapValue):Cr();var e}function ui(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ci(t){return!!t&&"integerValue"in t}function li(t){return!!t&&"arrayValue"in t}function hi(t){return!!t&&"nullValue"in t}function di(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fi(t){return!!t&&"mapValue"in t}function pi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Mr(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=pi(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=pi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var gi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!fi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=pi(e)},t.prototype.setAll=function(t){var e=this,n=qr.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=pi(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());fi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ni(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];fi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Mr(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(pi(this.value))},t}();function mi(t){var e=[];return Mr(t.fields,function(t,n){var r=new qr([t]);if(fi(n)){var i=mi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new $r(e)}var vi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Dr.min(),gi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,gi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,gi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=gi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=gi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),yi=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function _i(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new yi(t,e,n,r,i,o,s)}function bi(t){var e=kr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+si(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Xr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Oi(e.startAt)),e.endAt&&(n+="|ub:",n+=Oi(e.endAt)),e.h=n}return e.h}function wi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Li(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ni(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fi(t.startAt,e.startAt)&&Fi(t.endAt,e.endAt)}function Ei(t){return ti.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ti=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,r.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ii(t,n,r):"array-contains"===n?new Ai(t,r):"in"===n?new xi(t,r):"not-in"===n?new Ni(t,r):"array-contains-any"===n?new Ri(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ci(t,n):new Si(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ii(e,this.value)):null!==e&&ei(this.value)===ei(e)&&this.m(ii(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Cr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ii=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ti.fromName(r.referenceValue),i}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=ti.comparator(t.key,this.key);return this.m(e)},e}(Ti),Ci=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ki(0,n),r}return(0,r.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ti),Si=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ki(0,n),r}return(0,r.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ti);function ki(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ti.fromName(t.referenceValue)})}var Ai=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return li(e)&&ri(e.arrayValue,this.value)},e}(Ti),xi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ri(this.value.arrayValue,e)},e}(Ti),Ni=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){if(ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ri(this.value.arrayValue,e)},e}(Ti),Ri=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!li(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ri(e.value.arrayValue,t)})},e}(Ti),Pi=function(t,e){this.position=t,this.before=e};function Oi(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return si(t)}).join(",")}var Di=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Li(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Mi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ti.comparator(ti.fromName(s.referenceValue),n.key):ii(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Fi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}var ji=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Ui(t,e,n,r,i,o,s,a){return new ji(t,e,n,r,i,o,s,a)}function Vi(t){return new ji(t)}function qi(t){return!Xr(t.limit)&&"F"===t.limitType}function $i(t){return!Xr(t.limit)&&"L"===t.limitType}function Bi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Hi(t){return null!==t.collectionGroup}function Gi(t){var e=kr(t);if(null===e.p){e.p=[];var n=zi(e),r=Bi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Di(n)),e.p.push(new Di(qr.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Di(qr.keyField(),u))}}}return e.p}function Wi(t){var e=kr(t);if(!e.T)if("F"===e.limitType)e.T=_i(e.path,e.collectionGroup,Gi(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Gi(e);r<i.length;r++){var o=i[r];n.push(new Di(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Pi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Pi(e.startAt.position,!e.startAt.before):null;e.T=_i(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Ki(t,e,n){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yi(t,e){return wi(Wi(t),Wi(e))&&t.limitType===e.limitType}function Qi(t){return bi(Wi(t))+"|lt:"+t.limitType}function Xi(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+si(e.value);var e}).join(", ")+"]"),Xr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Oi(t.startAt)),t.endAt&&(e+=", endAt: "+Oi(t.endAt)),"Target("+e+")"}(Wi(t))+"; limitType="+t.limitType+")"}function Ji(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ti.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Mi(t.startAt,Gi(t),e)||t.endAt&&Mi(t.endAt,Gi(t),e))}(t,e)}function Zi(t){return function(e,n){for(var r=!1,i=0,o=Gi(t);i<o.length;i++){var s=o[i],a=to(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function to(t,e,n){var r=t.field.isKeyField()?ti.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ii(r,i):Cr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Cr()}}function eo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jr(e)?"-0":e}}function no(t){return{integerValue:""+t}}function ro(t,e){return Zr(e)?no(e):eo(t,e)}var io=function(){this._=void 0};function oo(t,e,n){return t instanceof uo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof co?lo(t,e):t instanceof ho?fo(t,e):function(t,e){var n=ao(t,e),r=go(n)+go(t.A);return ci(n)&&ci(t.A)?no(r):eo(t.R,r)}(t,e)}function so(t,e,n){return t instanceof co?lo(t,e):t instanceof ho?fo(t,e):n}function ao(t,e){return t instanceof po?ci(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e}(io),co=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,r.__extends)(e,t),e}(io);function lo(t,e){for(var n=mo(e),r=function(t){n.some(function(e){return ni(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ho=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,r.__extends)(e,t),e}(io);function fo(t,e){for(var n=mo(e),r=function(t){n=n.filter(function(e){return!ni(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var po=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,r.__extends)(e,t),e}(io);function go(t){return Gr(t.integerValue||t.doubleValue)}function mo(t){return li(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var vo=function(t,e){this.field=t,this.transform=e},yo=function(t,e){this.version=t,this.transformResults=e},_o=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function bo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var wo=function(){};function Eo(t,e,n){t instanceof ko?function(t,e,n){var r=t.value.clone(),i=No(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(t,e,n){if(bo(t.precondition,e)){var r=No(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(xo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function To(t,e,n){t instanceof ko?function(t,e,n){if(bo(t.precondition,e)){var r=t.value.clone(),i=Ro(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(So(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ao?function(t,e,n){if(bo(t.precondition,e)){var r=Ro(t.fieldTransforms,n,e),i=e.data;i.setAll(xo(t)),i.setAll(r),e.convertToFoundDocument(So(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){bo(t.precondition,e)&&e.convertToNoDocument(Dr.min())}(t,e)}function Io(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=ao(o.transform,s||null);null!=a&&(null==n&&(n=gi.empty()),n.set(o.field,a))}return n||null}function Co(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Rr(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof co&&e instanceof co||t instanceof ho&&e instanceof ho?Rr(t.elements,e.elements,ni):t instanceof po&&e instanceof po?ni(t.A,e.A):t instanceof uo&&e instanceof uo}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function So(t){return t.isFoundDocument()?t.version:Dr.min()}var ko=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,r.__extends)(e,t),e}(wo),Ao=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,r.__extends)(e,t),e}(wo);function xo(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function No(t,e,n){var r=new Map;Sr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,so(s,a,n[i]))}return r}function Ro(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,oo(a,u,e))}return r}var Po,Oo,Do=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,r.__extends)(e,t),e}(wo),Lo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,r.__extends)(e,t),e}(wo),Mo=function(t){this.count=t};function Fo(t){switch(t){case vr.OK:return Cr();case vr.CANCELLED:case vr.UNKNOWN:case vr.DEADLINE_EXCEEDED:case vr.RESOURCE_EXHAUSTED:case vr.INTERNAL:case vr.UNAVAILABLE:case vr.UNAUTHENTICATED:return!1;case vr.INVALID_ARGUMENT:case vr.NOT_FOUND:case vr.ALREADY_EXISTS:case vr.PERMISSION_DENIED:case vr.FAILED_PRECONDITION:case vr.ABORTED:case vr.OUT_OF_RANGE:case vr.UNIMPLEMENTED:case vr.DATA_LOSS:return!0;default:return Cr()}}function jo(t){if(void 0===t)return Er("GRPC error has no .code"),vr.UNKNOWN;switch(t){case Po.OK:return vr.OK;case Po.CANCELLED:return vr.CANCELLED;case Po.UNKNOWN:return vr.UNKNOWN;case Po.DEADLINE_EXCEEDED:return vr.DEADLINE_EXCEEDED;case Po.RESOURCE_EXHAUSTED:return vr.RESOURCE_EXHAUSTED;case Po.INTERNAL:return vr.INTERNAL;case Po.UNAVAILABLE:return vr.UNAVAILABLE;case Po.UNAUTHENTICATED:return vr.UNAUTHENTICATED;case Po.INVALID_ARGUMENT:return vr.INVALID_ARGUMENT;case Po.NOT_FOUND:return vr.NOT_FOUND;case Po.ALREADY_EXISTS:return vr.ALREADY_EXISTS;case Po.PERMISSION_DENIED:return vr.PERMISSION_DENIED;case Po.FAILED_PRECONDITION:return vr.FAILED_PRECONDITION;case Po.ABORTED:return vr.ABORTED;case Po.OUT_OF_RANGE:return vr.OUT_OF_RANGE;case Po.UNIMPLEMENTED:return vr.UNIMPLEMENTED;case Po.DATA_LOSS:return vr.DATA_LOSS;default:return Cr()}}(Oo=Po||(Po={}))[Oo.OK=0]="OK",Oo[Oo.CANCELLED=1]="CANCELLED",Oo[Oo.UNKNOWN=2]="UNKNOWN",Oo[Oo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oo[Oo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oo[Oo.NOT_FOUND=5]="NOT_FOUND",Oo[Oo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oo[Oo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oo[Oo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oo[Oo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oo[Oo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oo[Oo.ABORTED=10]="ABORTED",Oo[Oo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oo[Oo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oo[Oo.INTERNAL=13]="INTERNAL",Oo[Oo.UNAVAILABLE=14]="UNAVAILABLE",Oo[Oo.DATA_LOSS=15]="DATA_LOSS";var Uo=function(){function t(t,e){this.comparator=t,this.root=e||qo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Vo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Vo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Vo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Vo(this.root,t,this.comparator,!0)},t}(),Vo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),qo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Cr();if(this.right.isRed())throw Cr();var t=this.left.check();if(t!==this.right.check())throw Cr();return t+(this.isRed()?0:1)},t}();qo.EMPTY=null,qo.RED=!0,qo.BLACK=!1,qo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new qo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var $o=function(){function t(t){this.comparator=t,this.data=new Uo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Bo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Bo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Bo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),zo=new Uo(ti.comparator);function Ho(){return zo}var Go=new Uo(ti.comparator);function Wo(){return Go}var Ko=new Uo(ti.comparator);function Yo(){return Ko}var Qo=new $o(ti.comparator);function Xo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Qo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Jo=new $o(Nr);function Zo(){return Jo}var ts=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,es.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Dr.min(),r,Zo(),Ho(),Xo())},t}(),es=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Br.EMPTY_BYTE_STRING,n,Xo(),Xo(),Xo())},t}(),ns=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},rs=function(t,e){this.targetId=t,this.V=e},is=function(t,e,n,r){void 0===n&&(n=Br.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},os=function(){function t(){this.S=0,this.D=us(),this.C=Br.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Xo(),e=Xo(),n=Xo();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Cr()}}),new es(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=us()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),ss=function(){function t(t){this.W=t,this.G=new Map,this.H=Ho(),this.J=as(),this.Y=new $o(Nr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Cr()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ei(i))if(0===n){var o=new ti(i.path);this.tt(e,o,vi.newNoDocument(o,Dr.min()))}else Sr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Ei(o.target)){var s=new ti(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,vi.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Xo();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ts(t,n,this.Y,this.H,r);return this.H=Ho(),this.J=as(),this.Y=new $o(Nr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new os,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new $o(Nr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||wr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new os),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function as(){return new Uo(ti.comparator)}function us(){return new Uo(ti.comparator)}var cs={asc:"ASCENDING",desc:"DESCENDING"},ls={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hs=function(t,e){this.databaseId=t,this.I=e};function ds(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fs(t,e){return t.I?e.toBase64():e.toUint8Array()}function ps(t,e){return ds(t,e.toTimestamp())}function gs(t){return Sr(!!t),Dr.fromTimestamp(function(t){var e=Hr(t);return new Or(e.seconds,e.nanos)}(t))}function ms(t,e){return function(t){return new Ur(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function vs(t){var e=Ur.fromString(t);return Sr(qs(e)),e}function ys(t,e){return ms(t.databaseId,e.path)}function _s(t,e){var n=vs(e);if(n.get(1)!==t.databaseId.projectId)throw new yr(vr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yr(vr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ti(Ts(n))}function bs(t,e){return ms(t.databaseId,e)}function ws(t){var e=vs(t);return 4===e.length?Ur.emptyPath():Ts(e)}function Es(t){return new Ur(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ts(t){return Sr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Is(t,e,n){return{name:ys(t,e),fields:n.value.mapValue.fields}}function Cs(t,e,n){var r=_s(t,e.name),i=gs(e.updateTime),o=new gi({mapValue:{fields:e.fields}}),s=vi.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ss(t,e){var n;if(e instanceof ko)n={update:Is(t,e.key,e.value)};else if(e instanceof Do)n={delete:ys(t,e.key)};else if(e instanceof Ao)n={update:Is(t,e.key,e.data),updateMask:Vs(e.fieldMask)};else{if(!(e instanceof Lo))return Cr();n={verify:ys(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof uo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof co)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ho)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof po)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Cr()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ps(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Cr()}(t,e.precondition)),n}function ks(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_o.updateTime(gs(t.updateTime)):void 0!==t.exists?_o.exists(t.exists):_o.none()}(e.currentDocument):_o.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Sr("REQUEST_TIME"===e.setToServerValue),n=new uo):"appendMissingElements"in e?n=new co(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ho(e.removeAllFromArray.values||[]):"increment"in e?n=new po(t,e.increment):Cr();var r=qr.fromServerFormat(e.fieldPath);return new vo(r,n)}(t,e)}):[];if(e.update){var i=_s(t,e.update.name),o=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new $r((t.fieldPaths||[]).map(function(t){return qr.fromServerFormat(t)}))}(e.updateMask);return new Ao(i,o,s,n,r)}return new ko(i,o,n,r)}if(e.delete){var a=_s(t,e.delete);return new Do(a,n)}if(e.verify){var u=_s(t,e.verify);return new Lo(u,n)}return Cr()}function As(t,e){return{documents:[bs(t,e.path)]}}function xs(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(di(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NAN"}};if(hi(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(di(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NAN"}};if(hi(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(t.field),op:Ls(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ms(t.field),direction:Ds(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Xr(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ps(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ps(e.endAt)),n}function Ns(t){var e=ws(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Rs(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Di(Fs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Xr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Os(n.startAt));var l=null;return n.endAt&&(l=Os(n.endAt)),Ui(e,i,a,s,u,"F",c,l)}function Rs(t){return t?void 0!==t.unaryFilter?[Us(t)]:void 0!==t.fieldFilter?[js(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Rs(t)}).reduce(function(t,e){return t.concat(e)}):Cr():[]}function Ps(t){return{before:t.before,values:t.position}}function Os(t){return new Pi(t.values||[],!!t.before)}function Ds(t){return cs[t]}function Ls(t){return ls[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Fs(t){return qr.fromServerFormat(t.fieldPath)}function js(t){return Ti.create(Fs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Cr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Us(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Fs(t.unaryFilter.field);return Ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Fs(t.unaryFilter.field);return Ti.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Fs(t.unaryFilter.field);return Ti.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Fs(t.unaryFilter.field);return Ti.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Cr()}}function Vs(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function qs(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function $s(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zs(e)),e=Bs(t.get(n),e);return zs(e)}function Bs(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function zs(t){return t+"\x01\x01"}function Hs(t){var e=t.length;if(Sr(e>=2),2===e)return Sr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ur.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Cr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Cr()}o=s+2}return new Ur(r)}var Gs=function(t,e){this.seconds=t,this.nanoseconds=e},Ws=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ws.store="owner",Ws.key="owner";var Ks=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ks.store="mutationQueues",Ks.keyPath="userId";var Ys=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ys.store="mutations",Ys.keyPath="batchId",Ys.userMutationsIndex="userMutationsIndex",Ys.userMutationsKeyPath=["userId","batchId"];var Qs=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,$s(e)]},t.key=function(t,e,n){return[t,$s(e),n]},t}();Qs.store="documentMutations",Qs.PLACEHOLDER=new Qs;var Xs=function(t,e){this.path=t,this.readTime=e},Js=function(t,e){this.path=t,this.version=e},Zs=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zs.store="remoteDocuments",Zs.readTimeIndex="readTimeIndex",Zs.readTimeIndexPath="readTime",Zs.collectionReadTimeIndex="collectionReadTimeIndex",Zs.collectionReadTimeIndexPath=["parentPath","readTime"];var ta=function(t){this.byteSize=t};ta.store="remoteDocumentGlobal",ta.key="remoteDocumentGlobalKey";var ea=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ea.store="targets",ea.keyPath="targetId",ea.queryTargetsIndexName="queryTargetsIndex",ea.queryTargetsKeyPath=["canonicalId","targetId"];var na=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};na.store="targetDocuments",na.keyPath=["targetId","path"],na.documentTargetsIndex="documentTargetsIndex",na.documentTargetsKeyPath=["path","targetId"];var ra=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ra.key="targetGlobalKey",ra.store="targetGlobal";var ia=function(t,e){this.collectionId=t,this.parent=e};ia.store="collectionParents",ia.keyPath=["collectionId","parent"];var oa=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};oa.store="clientMetadata",oa.keyPath="clientId";var sa=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sa.store="bundles",sa.keyPath="bundleId";var aa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};aa.store="namedQueries",aa.keyPath="name";var ua=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__spreadArray)((0,r.__spreadArray)([],[Ks.store,Ys.store,Qs.store,Zs.store,ea.store,Ws.store,ra.store,na.store]),[oa.store])),[ta.store])),[ia.store])),[sa.store,aa.store]),ca="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",la=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),ha=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},da=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Cr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),fa=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ha,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ma(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=wa(e.target.error);n.ft.reject(new ma(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ma(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(wr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ya(e)},t}(),pa=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,s.getUA)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return wr("SimpleDb","Removing database:",t),_a(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,s.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(wr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ma(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new yr(vr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ma(t,n))},i.onupgradeneeded=function(t){wr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){wr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c;return(0,r.__generator)(this,function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return(0,r.__generator)(this,function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=r.sent(),e=fa.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch(function(t){return e.abort(t),da.reject(t)}).toPromise(),c={},a.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return wr("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ga=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return _a(this.Pt.delete())},t}(),ma=function(t){function e(e,n){var r=this;return(r=t.call(this,vr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,r.__extends)(e,t),e}(yr);function va(t){return"IndexedDbTransactionError"===t.name}var ya=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(wr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(wr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),_a(n)},t.prototype.add=function(t){return wr("SimpleDb","ADD",this.store.name,t,t),_a(this.store.add(t))},t.prototype.get=function(t){var e=this;return _a(this.store.get(t)).next(function(n){return void 0===n&&(n=null),wr("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return wr("SimpleDb","DELETE",this.store.name,t),_a(this.store.delete(t))},t.prototype.count=function(){return wr("SimpleDb","COUNT",this.store.name),_a(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){wr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new da(function(n,r){e.onerror=function(t){var e=wa(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new da(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ga(i),s=e(i.primaryKey,i.value,o);if(s instanceof da){var a=s.catch(function(t){return o.done(),da.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return da.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function _a(t){return new da(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=wa(t.target.error);n(e)}})}var ba=!1;function wa(t){var e=pa._t((0,s.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new yr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ba||(ba=!0,setTimeout(function(){throw r},0)),r}}return t}var Ea=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,r.__extends)(e,t),e}(la);function Ta(t,e){var n=kr(t);return pa.It(n.Mt,e)}var Ia=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Eo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&To(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&To(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dr.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Xo())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rr(this.mutations,t.mutations,function(t,e){return Co(t,e)})&&Rr(this.baseMutations,t.baseMutations,function(t,e){return Co(t,e)})},t}(),Ca=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Sr(e.mutations.length===r.length);for(var i=Yo(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Sa=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Dr.min()),void 0===o&&(o=Dr.min()),void 0===s&&(s=Br.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ka=function(t){this.Lt=t};function Aa(t,e){if(e.document)return Cs(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ti.fromSegments(e.noDocument.path),r=Oa(e.noDocument.readTime),i=vi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ti.fromSegments(e.unknownDocument.path);return r=Oa(e.unknownDocument.version),vi.newUnknownDocument(o,r)}return Cr()}function xa(t,e,n){var r=Na(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ys(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ds(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Zs(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Pa(e.version);return s=e.hasCommittedMutations,new Zs(null,new Xs(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Pa(e.version);return new Zs(new Js(c,l),null,null,!0,r,i)}return Cr()}function Na(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ra(t){var e=new Or(t[0],t[1]);return Dr.fromTimestamp(e)}function Pa(t){var e=t.toTimestamp();return new Gs(e.seconds,e.nanoseconds)}function Oa(t){var e=new Or(t.seconds,t.nanoseconds);return Dr.fromTimestamp(e)}function Da(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ks(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ks(t.Lt,e)}),o=Or.fromMillis(e.localWriteTimeMs);return new Ia(e.batchId,o,n,i)}function La(t){var e,n,r=Oa(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Oa(t.lastLimboFreeSnapshotVersion):Dr.min();return void 0!==t.query.documents?(Sr(1===(n=t.query).documents.length),e=Wi(Vi(ws(n.documents[0])))):e=function(t){return Wi(Ns(t))}(t.query),new Sa(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Br.fromBase64String(t.resumeToken))}function Ma(t,e){var n,r=Pa(e.snapshotVersion),i=Pa(e.lastLimboFreeSnapshotVersion);n=Ei(e.target)?As(t.Lt,e.target):xs(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ea(e.targetId,bi(e.target),r,o,e.sequenceNumber,i,n)}function Fa(t){var e=Ns({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ki(e,e.limit,"L"):e}var ja=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ua(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Oa(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Ua(t).put({bundleId:(n=e).id,createTime:Pa(gs(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Va(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Fa(e.bundledQuery),readTime:Oa(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Va(t).put(function(t){return{name:t.name,readTime:Pa(gs(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ua(t){return Ta(t,sa.store)}function Va(t){return Ta(t,aa.store)}var qa=function(){function t(){this.Bt=new $a}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),da.resolve()},t.prototype.getCollectionParents=function(t,e){return da.resolve(this.Bt.getEntries(e))},t}(),$a=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new $o(Ur.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $o(Ur.comparator)).toArray()},t}(),Ba=function(){function t(){this.qt=new $a}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:$s(i)};return za(t).put(o)}return da.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Pr(e),""],!1,!0);return za(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Hs(o.parent))}return n})},t}();function za(t){return Ta(t,ia.store)}var Ha={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ga=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Wa(t,e,n){var r=t.store(Ys.store),i=t.store(Qs.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Sr(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Qs.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return da.waitFor(o).next(function(){return c})}function Ka(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Cr();e=t.noDocument}return JSON.stringify(e).length}Ga.DEFAULT_COLLECTION_PERCENTILE=10,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ga.DEFAULT=new Ga(41943040,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ga.DISABLED=new Ga(-1,0,0);var Ya=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Sr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xa(t).$t({index:Ys.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ja(t),s=Xa(t);return s.add({}).next(function(a){Sr("number"==typeof a);for(var u=new Ia(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ss(t.Lt,e)}),i=n.mutations.map(function(e){return Ss(t.Lt,e)});return new Ys(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new $o(function(t,e){return Nr(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Qs.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Qs.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),da.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Xa(t).get(e).next(function(t){return t?(Sr(t.userId===n.userId),Da(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?da.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xa(t).$t({index:Ys.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Sr(e.batchId>=r),o=Da(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xa(t).$t({index:Ys.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xa(t).Nt(Ys.userMutationsIndex,n).next(function(t){return t.map(function(t){return Da(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Qs.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ja(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Hs(r[1]);if(a===n.userId&&e.path.isEqual(c))return Xa(t).get(u).next(function(t){if(!t)throw Cr();Sr(t.userId===n.userId),o.push(Da(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $o(Nr),i=[];return e.forEach(function(e){var o=Qs.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ja(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Hs(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),da.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Qs.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new $o(Nr);return Ja(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Hs(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Xa(t).get(e).next(function(t){if(null===t)throw Cr();Sr(t.userId===n.userId),r.push(Da(n.R,t))}))}),da.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Wa(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),da.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return da.resolve();var r=IDBKeyRange.lowerBound(Qs.prefixForUser(e.userId)),i=[];return Ja(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Hs(t[1]);i.push(o)}else r.done()}).next(function(){Sr(0===i.length)})})},t.prototype.containsKey=function(t,e){return Qa(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Za(t).get(this.userId).next(function(t){return t||new Ks(e.userId,-1,"")})},t}();function Qa(t,e,n){var r=Qs.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ja(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Xa(t){return Ta(t,Ys.store)}function Ja(t){return Ta(t,Qs.store)}function Za(t){return Ta(t,Ks.store)}var tu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),eu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new tu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Dr.fromTimestamp(new Or(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return nu(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Sr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return nu(t).$t(function(s,a){var u=La(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return da.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return nu(t).$t(function(t,n){var r=La(n);e(r)})},t.prototype.Xt=function(t){return ru(t).get(ra.key).next(function(t){return Sr(null!==t),t})},t.prototype.Zt=function(t,e){return ru(t).put(ra.key,e)},t.prototype.te=function(t,e){return nu(t).put(Ma(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=bi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nu(t).$t({range:r,index:ea.queryTargetsIndexName},function(t,n,r){var o=La(n);wi(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=iu(t);return e.forEach(function(e){var s=$s(e.path);i.push(o.put(new na(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),da.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=iu(t);return da.forEach(e,function(e){var o=$s(e.path);return da.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=iu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=iu(t),i=Xo();return r.$t({range:n,kt:!0},function(t,e,n){var r=Hs(t[1]),o=new ti(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=$s(e.path),r=IDBKeyRange.bound([n],[Pr(n)],!1,!0),i=0;return iu(t).$t({index:na.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return nu(t).get(e).next(function(t){return t?La(t):null})},t}();function nu(t){return Ta(t,ea.store)}function ru(t){return Ta(t,ra.store)}function iu(t){return Ta(t,na.store)}function ou(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){if(t.code!==vr.FAILED_PRECONDITION||t.message!==ca)throw t;return wr("LocalStore","Unexpectedly lost primary lease"),[2]})})}function su(t,e){var n=t[1],r=e[1],i=Nr(t[0],e[0]);return 0===i?Nr(n,r):i}var au=function(){function t(t){this.ne=t,this.buffer=new $o(su),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();su(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),uu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;wr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,r.__awaiter)(e,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return va(e=n.sent())?(wr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ou(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),cu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return da.resolve(mr.o);var r=new au(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wr("LruGarbageCollector","Garbage collection skipped; disabled"),da.resolve(Ha)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(wr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ha):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(wr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),br()<=a.LogLevel.DEBUG&&wr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),da.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),lu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new cu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return hu(t,n)},t.prototype.removeReference=function(t,e,n){return hu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return hu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Za(t).Ot(function(r){return Qa(t,r,e).next(function(t){return t&&(n=!0),da.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),iu(t).delete([0,$s(s.path)])})});i.push(u)}}).next(function(){return da.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return hu(t,e)},t.prototype.we=function(t,e){var n,r=iu(t),i=mr.o;return r.$t({index:na.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==mr.o&&e(new ti(Hs(n)),i),i=s,n=o):i=mr.o}).next(function(){i!==mr.o&&e(new ti(Hs(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function hu(t,e){return iu(t).put(function(t,e){return new na(0,$s(t.path),e)}(e,t.currentSequenceNumber))}var du=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mr(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Fr(this.inner)},t}(),fu=function(){function t(){this.changes=new du(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Dr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:vi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?da.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),pu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return vu(t).put(yu(e),n)},t.prototype.removeEntry=function(t,e){var n=vu(t),r=yu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return vu(t).get(yu(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return vu(t).get(yu(e)).next(function(t){return{document:n.ye(e,t),size:Ka(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ho();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ho(),i=new Uo(ti.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ka(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return da.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return vu(t).$t({range:r},function(t,e,r){for(var s=ti.fromSegments(t);o&&ti.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ho(),o=e.path.length+1,s={};if(n.isEqual(Dr.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Na(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Zs.collectionReadTimeIndex}return vu(t).$t(s,function(t,n,s){if(t.length===o){var a=Aa(r.R,n);e.path.isPrefixOf(a.key.path)?Ji(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new gu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return mu(t).get(ta.key).next(function(t){return Sr(!!t),t})},t.prototype.me=function(t,e){return mu(t).put(ta.key,e)},t.prototype.ye=function(t,e){if(e){var n=Aa(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Dr.min()))return n}return vi.newInvalidDocument(t)},t}(),gu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new du(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,r.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new $o(function(t,e){return Nr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=xa(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ka(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=xa(e.Ie.R,vi.newNoDocument(o,Dr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),da.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(fu);function mu(t){return Ta(t,ta.store)}function vu(t){return Ta(t,Zs.store)}function yu(t){return t.path.toArray()}var _u=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Sr(n<r&&n>=0&&r<=11);var o=new fa("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ws.store)}(t),function(t){t.createObjectStore(Ks.store,{keyPath:Ks.keyPath}),t.createObjectStore(Ys.store,{keyPath:Ys.keyPath,autoIncrement:!0}).createIndex(Ys.userMutationsIndex,Ys.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Qs.store)}(t),bu(t),function(t){t.createObjectStore(Zs.store)}(t));var s=da.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(na.store),t.deleteObjectStore(ea.store),t.deleteObjectStore(ra.store)}(t),bu(t)),s=s.next(function(){return function(t){var e=t.store(ra.store),n=new ra(0,0,Dr.min().toTimestamp(),0);return e.put(ra.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Ys.store).Nt().next(function(n){t.deleteObjectStore(Ys.store),t.createObjectStore(Ys.store,{keyPath:Ys.keyPath,autoIncrement:!0}).createIndex(Ys.userMutationsIndex,Ys.userMutationsKeyPath,{unique:!0});var r=e.store(Ys.store),i=n.map(function(t){return r.put(t)});return da.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(oa.store,{keyPath:oa.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ta.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zs.store);e.createIndex(Zs.readTimeIndex,Zs.readTimeIndexPath,{unique:!1}),e.createIndex(Zs.collectionReadTimeIndex,Zs.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(sa.store,{keyPath:sa.keyPath})}(t),function(t){t.createObjectStore(aa.store,{keyPath:aa.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Zs.store).$t(function(t,n){e+=Ka(n)}).next(function(){var n=new ta(e);return t.store(ta.store).put(ta.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Ks.store),r=t.store(Ys.store);return n.Nt().next(function(n){return da.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ys.userMutationsIndex,i).next(function(r){return da.forEach(r,function(r){Sr(r.userId===n.userId);var i=Da(e.R,r);return Wa(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(na.store),n=t.store(Zs.store);return t.store(ra.store).get(ra.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Ur(n),s=function(t){return[0,$s(t)]}(o);r.push(e.get(s).next(function(n){return n?da.resolve():function(n){return e.put(new na(0,$s(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return da.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(ia.store,{keyPath:ia.keyPath});var n=e.store(ia.store),r=new $a,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:$s(i)})}};return e.store(Zs.store).$t({kt:!0},function(t,e){var n=new Ur(t);return i(n.popLast())}).next(function(){return e.store(Qs.store).$t({kt:!0},function(t,e){var n=Hs(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(ea.store);return n.$t(function(t,r){var i=La(r),o=Ma(e.R,i);return n.put(o)})},t}();function bu(t){t.createObjectStore(na.store,{keyPath:na.keyPath}).createIndex(na.documentTargetsIndex,na.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ea.store,{keyPath:ea.keyPath}).createIndex(ea.queryTargetsIndexName,ea.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ra.store)}var wu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Eu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new yr(vr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lu(this,i),this.Le=n+"main",this.R=new ka(u),this.Be=new pa(this.Le,11,new _u(this.R)),this.qe=new eu(this.referenceDelegate,this.R),this.Ut=new Ba,this.Ue=function(t,e){return new pu(t,e)}(this.R,this.Ut),this.Ke=new ja,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new yr(vr.FAILED_PRECONDITION,wu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new mr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,r.__awaiter)(e,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,r.__awaiter)(e,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,r.__awaiter)(e,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Iu(e).put(new oa(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(va(e))return wr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return wr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Tu(t).get(Ws.key).next(function(t){return da.resolve(e.tn(t))})},t.prototype.en=function(t){return Iu(t).delete(this.clientId)},t.prototype.nn=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ta(t,oa.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return da.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));r.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?da.resolve(!0):Tu(t).get(Ws.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new yr(vr.FAILED_PRECONDITION,wu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Iu(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&wr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ws.store,oa.store],function(e){var n=new Ea(e,mr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Iu(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ya.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return wr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ua,function(o){return r=new Ea(o,i.Ne?i.Ne.next():mr.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Er("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new yr(vr.FAILED_PRECONDITION,ca);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Tu(t).get(Ws.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new yr(vr.FAILED_PRECONDITION,wu)})},t.prototype.Ze=function(t){var e=new Ws(this.clientId,this.allowTabSynchronization,Date.now());return Tu(t).put(Ws.key,e)},t.yt=function(){return pa.yt()},t.prototype.Xe=function(t){var e=this,n=Tu(t);return n.get(Ws.key).next(function(t){return e.tn(t)?(wr("IndexedDbPersistence","Releasing primary lease."),n.delete(Ws.key)):da.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Er("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,s.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return wr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Er("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Er("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Tu(t){return Ta(t,Ws.store)}function Iu(t){return Ta(t,oa.store)}function Cu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Su=function(t,e){this.progress=t,this.wn=e},ku=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ti.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Hi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ti(e)).next(function(t){var e=Wo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Wo();return this.Ut.getCollectionParents(t,i).next(function(s){return da.forEach(s,function(s){var a=function(t,e){return new ji(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=vi.newInvalidDocument(c),r=r.insert(c,l)),To(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Ji(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Xo(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ao&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Au=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Xo(),i=Xo(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Dr.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(qi(e)||$i(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(br()<=a.LogLevel.DEBUG&&wr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xi(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new $o(Zi(t));return e.forEach(function(e,r){Ji(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return br()<=a.LogLevel.DEBUG&&wr("QueryEngine","Using full collection scan to execute query:",Xi(e)),this.Sn.getDocumentsMatchingQuery(t,e,Dr.min())},t}(),Nu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Uo(Nr),this.kn=new du(function(t){return bi(t)},wi),this.$n=Dr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ku(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Ru(t,e,n,r){return new Nu(t,e,n,r)}function Pu(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=kr(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var r;return n._n.getAllMutationBatches(t).next(function(s){return r=s,i=n.persistence.getMutationQueue(e),o=new ku(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)}).next(function(e){for(var n=[],i=[],s=Xo(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return o.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return s=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Ou(t,e){var n=kr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=da.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Sr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Du(t){var e=kr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Lu(t,e){var n=kr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Sr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Ho();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Mu(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Dr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return da.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Mu(t,e,n,r,i){var o=Xo();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ho();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Dr.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):wr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Fu(t,e){var n=kr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function ju(t,e){var n=kr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?da.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Sa(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Uu(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:i=kr(t),o=i.Fn.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(t){return i.persistence.referenceDelegate.removeTarget(t,o)})];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!va(a=r.sent()))throw a;return wr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Fn=i.Fn.remove(e),i.kn.delete(o.target),[2]}})})}function Vu(t,e,n){var r=kr(t),i=Dr.min(),o=Xo();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=kr(t),i=r.kn.get(n);return void 0!==i?da.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Wi(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Dr.min(),n?o:Xo())}).next(function(t){return{documents:t,Bn:o}})})}function qu(t,e){var n=kr(t),r=kr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function $u(t){var e=kr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=kr(t),i=Ho(),o=Na(n),s=vu(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Zs.readTimeIndex,range:a},function(t,e){var n=Aa(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Ra(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Bu(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){return[2,(e=kr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=vu(t),n=Dr.min();return e.$t({index:Zs.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ra(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function zu(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c,l,h,d,f,p;return(0,r.__generator)(this,function(r){switch(r.label){case 0:for(o=kr(t),s=Xo(),a=Ho(),u=Yo(),c=0,l=n;c<l.length;c++)d=e.qn((h=l[c]).metadata.name),h.document&&(s=s.add(d)),a=a.insert(d,e.Un(h)),u=u.insert(d,e.Kn(h.metadata.readTime));return f=o.On.newChangeBuffer({trackRemovals:!0}),[4,ju(o,function(t){return Wi(Vi(Ur.fromString("__bundle__/docs/"+t)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Mu(t,f,a,Dr.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return o.qe.addMatchingKeys(t,s,p.targetId)}).next(function(){return o.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Hu(t,e,n){return void 0===n&&(n=Xo()),(0,r.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,ju(t,Wi(Fa(e.bundledQuery)))];case 1:return i=r.sent(),[2,(o=kr(t)).persistence.runTransaction("Save named query","readwrite",function(t){var r=gs(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(t,e);var s=i.withResumeToken(Br.EMPTY_BYTE_STRING,r);return o.Fn=o.Fn.insert(s.targetId,s),o.qe.updateTargetData(t,s).next(function(){return o.qe.removeMatchingKeysForTargetId(t,i.targetId)}).next(function(){return o.qe.addMatchingKeys(t,n,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(t,e)})})]}})})}var Gu=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return da.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:gs(n.createTime)}),da.resolve()},t.prototype.getNamedQuery=function(t,e){return da.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Fa(t.bundledQuery),readTime:gs(t.readTime)}}(e)),da.resolve()},t}(),Wu=function(){function t(){this.Wn=new $o(Ku.Gn),this.zn=new $o(Ku.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ku(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Ku(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ti(new Ur([])),r=new Ku(n,t),i=new Ku(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ti(new Ur([])),n=new Ku(e,t),r=new Ku(e,t+1),i=Xo();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ku(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ku=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ti.comparator(t.key,e.key)||Nr(t.ns,e.ns)},t.Hn=function(t,e){return Nr(t.ns,e.ns)||ti.comparator(t.key,e.key)},t}(),Yu=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new $o(Ku.Gn)}return t.prototype.checkEmpty=function(t){return da.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Ia(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Ku(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return da.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return da.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return da.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return da.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return da.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ku(e,0),i=new Ku(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),da.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $o(Nr);return e.forEach(function(t){var e=new Ku(t,0),i=new Ku(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),da.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ti.isDocumentKey(i)||(i=i.child(""));var o=new Ku(new ti(i),0),s=new $o(Nr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),da.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Sr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return da.forEach(e.mutations,function(i){var o=new Ku(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ku(e,0),r=this.rs.firstAfterOrEqual(n);return da.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return da.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Qu=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Uo(ti.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return da.resolve(n?n.document.clone():vi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ho();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():vi.newInvalidDocument(t))}),da.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ho(),i=new ti(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Ji(e,u)&&(r=r.insert(u.key,u.clone()))}return da.resolve(r)},t.prototype.fs=function(t,e){return da.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Xu(this)},t.prototype.getSize=function(t){return da.resolve(this.size)},t}(),Xu=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,r.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),da.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(fu),Ju=function(){function t(t){this.persistence=t,this.ds=new du(function(t){return bi(t)},wi),this.lastRemoteSnapshotVersion=Dr.min(),this.highestTargetId=0,this.ws=0,this._s=new Wu,this.targetCount=0,this.ys=tu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),da.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return da.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return da.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),da.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),da.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new tu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,da.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),da.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,da.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),da.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return da.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return da.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),da.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),da.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),da.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return da.resolve(n)},t.prototype.containsKey=function(t,e){return da.resolve(this._s.containsKey(e))},t}(),Zu=function(){function t(t,e){var n=this;this.gs={},this.Ne=new mr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ju(this),this.Ut=new qa,this.Ue=function(t,e){return new Qu(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new ka(e),this.Ke=new Gu(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Yu(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;wr("MemoryPersistence","Starting transaction:",t);var i=new tc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return da.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),tc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,r.__extends)(e,t),e}(la),ec=function(){function t(t){this.persistence=t,this.As=new Wu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Cr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),da.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),da.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),da.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return da.forEach(this.vs,function(r){var i=ti.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return da.or([function(){return da.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),nc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function rc(t,e){return"firestore_clients_"+t+"_"+e}function ic(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function oc(t,e){return"firestore_targets_"+t+"_"+e}nc.UNAUTHENTICATED=new nc(null),nc.GOOGLE_CREDENTIALS=new nc("google-credentials-uid"),nc.FIRST_PARTY=new nc("first-party-uid");var sc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new yr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Er("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ac=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Er("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),uc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zo(),s=0;i&&s<r.activeTargetIds.length;++s)i=Zr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Er("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),cc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Er("SharedClientState","Failed to parse online state: "+e),null)},t}(),lc=function(){function t(){this.activeTargetIds=Zo()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),hc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Uo(Nr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=rc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new lc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,o,s,a,u,c,l,h=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(o=this.getItem(rc(this.persistenceKey,i)))&&(s=uc.Vs(i,o))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)this.Fs(l[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(oc(this.persistenceKey,t));if(n){var r=ac.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(oc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return wr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){wr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){wr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(wr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,r.__awaiter)(e,void 0,void 0,function(){var t,e,i,o,s,a;return(0,r.__generator)(this,function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(a=function(t){var e=mr.o;if(null!=t)try{var n=JSON.parse(t);Sr("number"==typeof n),e=n}catch(t){Er("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==mr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new sc(this.currentUser,t,e,n),i=ic(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ic(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=oc(this.persistenceKey,t),i=new ac(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return uc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return sc.Vs(new nc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return ac.Vs(r,e)},t.prototype.js=function(t){return cc.Vs(t)},t.prototype.ii=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(wr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zo();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),dc=function(){function t(){this.li=new lc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new lc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),fc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),pc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){wr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){wr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),gc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),vc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,r.__extends)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new gr;s.listenOnce(hr.COMPLETE,function(){try{switch(s.getLastErrorCode()){case lr.NO_ERROR:var e=s.getResponseJson();wr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case lr.TIMEOUT:wr("Connection",'RPC "'+t+'" timed out'),o(new yr(vr.DEADLINE_EXCEEDED,"Request time out"));break;case lr.HTTP_ERROR:var n=s.getStatus();if(wr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vr).indexOf(e)>=0?e:vr.UNKNOWN}(r.status);o(new yr(a,r.message))}else o(new yr(vr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new yr(vr.UNAVAILABLE,"Connection failed."));break;default:Cr()}}finally{wr("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new or,i=Jt(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new fr({})),this.Fi(o.initMessageHeaders,e),(0,s.isMobileCordova)()||(0,s.isReactNative)()||(0,s.isElectron)()||(0,s.isIE)()||(0,s.isUWP)()||(0,s.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");wr("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),c=!1,l=!1,h=new mc({Ei:function(t){l?wr("Connection","Not sending because WebChannel is closed:",t):(c||(wr("Connection","Opening WebChannel transport."),u.open(),c=!0),wr("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),d=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return d(u,pr.EventType.OPEN,function(){l||wr("Connection","WebChannel transport opened.")}),d(u,pr.EventType.CLOSE,function(){l||(l=!0,wr("Connection","WebChannel transport closed"),h.Vi())}),d(u,pr.EventType.ERROR,function(t){l||(l=!0,Tr("Connection","WebChannel transport errored:",t),h.Vi(new yr(vr.UNAVAILABLE,"The operation could not be completed")))}),d(u,pr.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Sr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){wr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Po[t];if(void 0!==e)return jo(e)}(i),s=r.message;void 0===o&&(o=vr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.Vi(new yr(o,s)),u.close()}else wr("Connection","WebChannel received:",n),h.Si(n)}}),d(i,dr.STAT_EVENT,function(t){10===t.stat?wr("Connection","Detected buffering proxy"):11===t.stat&&wr("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);wr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return wr("RestConnection","Received: ",t),t},function(e){throw Tr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+gc[t]},t}());function yc(){return"undefined"!=typeof window?window:null}function _c(){return"undefined"!=typeof document?document:null}function bc(t){return new hs(t,!0)}var wc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&wr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ec=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new wc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===vr.RESOURCE_EXHAUSTED?(Er(e.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===vr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new yr(vr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,r.__awaiter)(t,void 0,void 0,function(){return(0,r.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return wr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(wr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Tc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,r.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Cr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Sr(void 0===e||"string"==typeof e),Br.fromBase64String(e||"")):(Sr(void 0===e||e instanceof Uint8Array),Br.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?vr.UNKNOWN:jo(t.code);return new yr(e,t.message||"")}(a);n=new is(r,i,o,s||null)}else if("documentChange"in e){i=_s(t,(r=e.documentChange).document.name),o=gs(r.document.updateTime);var a=new gi({mapValue:{fields:r.document.fields}}),u=(s=vi.newFoundDocument(i,o,a),r.targetIds||[]);n=new ns(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=_s(t,(r=e.documentDelete).document),o=r.readTime?gs(r.readTime):Dr.min(),a=vi.newNoDocument(i,o),n=new ns([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=_s(t,(r=e.documentRemove).document),n=new ns([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Cr();var c=e.filter;i=new Mo(r=c.count||0),n=new rs(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Dr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Dr.min():e.readTime?gs(e.readTime):Dr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Es(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ei(r)?{documents:As(t,r)}:{query:xs(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=fs(t,e.resumeToken):e.snapshotVersion.compareTo(Dr.min())>0&&(n.readTime=ds(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Es(this.R),e.removeTarget=t,this.cr(e)},e}(Ec),Ic=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Sr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Sr(void 0!==e),t.map(function(t){return function(t,e){var n=gs(t.updateTime?t.updateTime:e);return n.isEqual(Dr.min())&&(n=gs(e)),new yo(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=gs(t.commitTime);return this.listener.Tr(n,e)}return Sr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Es(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ss(e.R,t)})};this.cr(n)},e}(Ec),Cc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,r.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new yr(vr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yr(vr.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yr(vr.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Sc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Er(e),this.Vr=!1):wr("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),kc=function(t,e,n,i,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,r.__awaiter)(s,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return Mc(this)?(wr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return(e=kr(t)).Or.add(4),[4,xc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Ac(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Sc(n,i)};function Ac(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(!Mc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xc(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Nc(t,e){var n=kr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Lc(n)?Dc(n):Xc(n).er()&&Pc(n,e))}function Rc(t,e){var n=kr(t),r=Xc(n);n.$r.delete(e),r.er()&&Oc(n,e),0===n.$r.size&&(r.er()?r.ir():Mc(n)&&n.Br.set("Unknown"))}function Pc(t,e){t.qr.U(e.targetId),Xc(t).mr(e)}function Oc(t,e){t.qr.U(e),Xc(t).yr(e)}function Dc(t){t.qr=new ss({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Xc(t).start(),t.Br.Sr()}function Lc(t){return Mc(t)&&!Xc(t).tr()&&t.$r.size>0}function Mc(t){return 0===kr(t).Or.size}function Fc(t){t.qr=void 0}function jc(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return t.$r.forEach(function(e,n){Pc(t,e)}),[2]})})}function Uc(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(n){return Fc(t),Lc(t)?(t.Br.Nr(e),Dc(t)):t.Br.set("Unknown"),[2]})})}function Vc(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,r.__generator)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof is&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.$r.has(s=o[i])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.$r.delete(s),t.qr.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),wr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,qc(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ns?t.qr.X(e):e instanceof rs?t.qr.rt(e):t.qr.et(e),n.isEqual(Dr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Du(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Br.EMPTY_BYTE_STRING,n.snapshotVersion)),Oc(t,e);var r=new Sa(n.target,e,1,n.sequenceNumber);Pc(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return wr("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,qc(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function qc(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i=this;return(0,r.__generator)(this,function(o){switch(o.label){case 0:if(!va(e))throw e;return t.Or.add(1),[4,xc(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Du(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,r.__awaiter)(i,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return wr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Ac(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function $c(t,e){return e().catch(function(n){return qc(t,n,e)})}function Bc(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:e=kr(t),n=Jc(e),i=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Mc(t)&&t.kr.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Fu(e.localStore,i)];case 3:return null===(o=r.sent())?(0===e.kr.length&&n.ir(),[3,7]):(i=o.batchId,function(t,e){t.kr.push(e);var n=Jc(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,qc(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return zc(e)&&Hc(e),[2]}})})}function zc(t){return Mc(t)&&!Jc(t).tr()&&t.kr.length>0}function Hc(t){Jc(t).start()}function Gc(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return Jc(t).Ar(),[2]})})}function Wc(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,r.__generator)(this,function(r){for(e=Jc(t),n=0,i=t.kr;n<i.length;n++)e.Er(i[n].mutations);return[2]})})}function Kc(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i=t.kr.shift(),o=Ca.from(i,e,n),[4,$c(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return r.sent(),[4,Bc(t)];case 2:return r.sent(),[2]}})})}function Yc(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(n){switch(n.label){case 0:return e&&Jc(t).pr?[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return Fo(i=e.code)&&i!==vr.ABORTED?(n=t.kr.shift(),Jc(t).sr(),[4,$c(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,Bc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zc(t)&&Hc(t),[2]}})})}function Qc(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=kr(t),e?(n.Or.delete(2),[4,Ac(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,xc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xc(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=kr(t);return r.br(),new Tc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:jc.bind(null,t),Ri:Uc.bind(null,t),_r:Vc.bind(null,t)}),t.Mr.push(function(n){return(0,r.__awaiter)(e,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Lc(t)?Dc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Fc(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Jc(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=kr(t);return r.br(),new Ic(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Gc.bind(null,t),Ri:Yc.bind(null,t),Ir:Wc.bind(null,t),Tr:Kc.bind(null,t)}),t.Mr.push(function(n){return(0,r.__awaiter)(e,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Bc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(wr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Zc=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yr(vr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function tl(t,e){if(Er("AsyncQueue",e+": "+t),va(t))return new yr(vr.UNAVAILABLE,e+": "+t);throw t}var el=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ti.comparator(e.key,n.key)}:function(t,e){return ti.comparator(t.key,e.key)},this.keyedMap=Wo(),this.sortedSet=new Uo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),nl=function(){function t(){this.Qr=new Uo(ti.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Cr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),rl=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,el.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yi(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),il=function(){this.Wr=void 0,this.listeners=[]},ol=function(){this.queries=new du(function(t){return Qi(t)},Yi),this.onlineState="Unknown",this.Gr=new Set};function sl(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(n=kr(t),o=!1,(s=n.queries.get(i=e.query))||(o=!0,s=new il),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=tl(u,"Initialization of query '"+Xi(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&ll(n),[2]}})})}function al(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return(0,r.__generator)(this,function(r){return n=kr(t),o=!1,(s=n.queries.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function ul(t,e){for(var n=kr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&ll(n)}function cl(t,e,n){var r=kr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function ll(t){t.Gr.forEach(function(t){t.next()})}var hl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new rl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),dl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),fl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return _s(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Cs(this.R,t.document,!1):vi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return gs(t)},t}(),pl=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=gl(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new fl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Xo()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,zu(this.localStore,new fl(this.R),this.documents,this.ro.id)];case 1:t=r.sent(),e=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?[4,Hu(this.localStore,o=i[n],e.get(o.name))]:[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Su(Object.assign({},this.progress),t))]}})})},t}();function gl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var ml=function(t){this.key=t},vl=function(t){this.key=t},yl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Xo(),this.mutatedKeys=Xo(),this.lo=Zi(t),this.fo=new el(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new nl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=qi(this.query)&&i.size===this.query.limit?i.last():null,c=$i(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Ji(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),qi(this.query)||$i(this.query))for(;s.size>this.query.limit;){var l=qi(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new rl(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new nl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Xo(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new vl(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ml(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Xo();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return rl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),_l=function(t,e,n){this.query=t,this.targetId=e,this.view=n},bl=function(t){this.key=t,this.bo=!1},wl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new du(function(t){return Qi(t)},Yi),this.Vo=new Map,this.So=new Set,this.Do=new Uo(ti.comparator),this.Co=new Map,this.No=new Wu,this.xo={},this.Fo=new Map,this.ko=tu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function El(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=Xl(t),(o=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ju(n.localStore,Wi(e))];case 2:return s=r.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Tl(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.isPrimaryClient&&Nc(n.remoteStore,s),r.label=4;case 4:return[2,i]}})})}function Tl(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c,l;return(0,r.__generator)(this,function(h){switch(h.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(o=e.view._o(n)).Nn?[4,Vu(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,o)})]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.targetChanges.get(e.targetId),a=e.view.applyChanges(o,t.isPrimaryClient,s),[2,(Ml(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,i)},[4,Vu(t.localStore,e,!0)];case 1:return o=h.sent(),s=new yl(e,o.Bn),a=s._o(o.documents),u=es.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=s.applyChanges(a,t.isPrimaryClient,u),Ml(t,n,c.To),l=new _l(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function Il(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=kr(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(t){return!Yi(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Uu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Rc(n.remoteStore,i.targetId),Dl(n,i.targetId)}).catch(ou)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Dl(n,i.targetId),[4,Uu(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})}function Cl(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:i=Jl(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=kr(t),i=Or.now(),o=e.reduce(function(t,e){return t.add(e.key)},Xo());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Io(c,n.get(c.key));null!=l&&s.push(new Ao(c.key,l,mi(l.value.mapValue),_o.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(i.localStore,e)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Uo(Nr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(i,o.batchId,n),[4,Ul(i,o.changes)];case 3:return r.sent(),[4,Bc(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=tl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Sl(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:n=kr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Lu(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Sr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Sr(r.bo):t.removedDocuments.size>0&&(Sr(r.bo),r.bo=!1))}),[4,Ul(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,ou(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function kl(t,e,n){var r=kr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=kr(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&ll(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Al(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(i=kr(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(s=o&&o.key)?(a=(a=new Uo(ti.comparator)).insert(s,vi.newNoDocument(s,Dr.min())),u=Xo().add(s),c=new ts(Dr.min(),new Map,new $o(Nr),a,u),[4,Sl(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(s),i.Co.delete(e),jl(i),[3,4];case 2:return[4,Uu(i.localStore,e,!1).then(function(){return Dl(i,e,n)}).catch(ou)];case 3:r.sent(),r.label=4;case 4:return[2]}})})}function xl(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:n=kr(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ou(n.localStore,e)];case 2:return o=r.sent(),Ol(n,i,null),Pl(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Ul(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,ou(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function Nl(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:i=kr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=kr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Sr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(i.localStore,e)];case 2:return o=r.sent(),Ol(i,e,n),Pl(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Ul(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,ou(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function Rl(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:Mc((n=kr(t)).remoteStore)||wr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=kr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Fo.get(i)||[]).push(e),n.Fo.set(i,o),[3,4]);case 3:return s=r.sent(),a=tl(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Pl(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Ol(t,e,n){var r=kr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Dl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ll(t,e)})}function Ll(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Rc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),jl(t))}function Ml(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ml?(t.No.addReference(o.key,e),Fl(t,o)):o instanceof vl?(wr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ll(t,o.key)):Cr()}}function Fl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(wr("SyncEngine","New document in limbo: "+n),t.So.add(r),jl(t))}function jl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ti(Ur.fromString(e)),r=t.ko.next();t.Co.set(r,new bl(n)),t.Do=t.Do.insert(n,r),Nc(t.remoteStore,new Sa(Wi(Vi(n.path)),r,2,mr.o))}}function Ul(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,r.__generator)(this,function(u){switch(u.label){case 0:return i=kr(t),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(t,r){a.push(i.Oo(r,e,n).then(function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Au.Pn(r.targetId,t);s.push(e)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),i.vo._r(o),[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l;return(0,r.__generator)(this,function(r){switch(r.label){case 0:n=kr(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return da.forEach(e,function(e){return da.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return da.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return r.sent(),[3,4];case 3:if(!va(i=r.sent()))throw i;return wr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.Fn.get(u),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(u,l));return[2]}})})}(i.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Vl(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(n=kr(t)).currentUser.isEqual(e)?[3,3]:(wr("SyncEngine","User change. New user:",e.toKey()),[4,Pu(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new yr(vr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Ul(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function ql(t,e){var n=kr(t),r=n.Co.get(e);if(r&&r.bo)return Xo().add(r.key);var i=Xo(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function $l(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Vu((n=kr(t)).localStore,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Ml(n,e.targetId,o.To),o)]}})})}function Bl(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){return[2,$u((e=kr(t)).localStore).then(function(t){return Ul(e,t)})]})})}function zl(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(t,e){var n=kr(t),r=kr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):da.resolve(null)})})}((o=kr(t)).localStore,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Bc(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ol(o,e,i||null),Pl(o,e),function(t,e){kr(kr(t)._n).Gt(e)}(o.localStore,e)):Cr(),r.label=4;case 4:return[4,Ul(o,s)];case 5:return r.sent(),[3,7];case 6:wr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}})})}function Hl(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return Xl(n=kr(t)),Jl(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Gl(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Qc(n.remoteStore,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)Nc(n.remoteStore,a[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return Dl(n,e),Uu(n.localStore,e,!0)}),Rc(n.remoteStore,e)}),[4,c]);case 4:return r.sent(),[4,Gl(n,u)];case 5:return r.sent(),function(t){var e=kr(t);e.Co.forEach(function(t,n){Rc(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Uo(ti.comparator)}(n),n.$o=!1,[4,Qc(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}})})}function Gl(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l,h,d,f,p,g;return(0,r.__generator)(this,function(r){switch(r.label){case 0:n=kr(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.Vo.get(u=a[s]))&&0!==l.length?[4,ju(n.localStore,Wi(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,d=l,r.label=3;case 3:return h<d.length?(f=n.Po.get(d[h]),[4,$l(n,f)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,qu(n.localStore,u)];case 8:return g=r.sent(),[4,ju(n.localStore,g)];case 9:return c=r.sent(),[4,Tl(n,Wl(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(o),i)]}})})}function Wl(t){return Ui(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Kl(t){var e=kr(t);return kr(kr(e.localStore).persistence).fn()}function Yl(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(o=kr(t)).$o?(wr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$u(o.localStore)];case 3:return s=r.sent(),a=ts.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ul(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Uu(o.localStore,e,!0)];case 6:return r.sent(),Dl(o,e,i),[3,8];case 7:Cr(),r.label=8;case 8:return[2]}})})}function Ql(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d;return(0,r.__generator)(this,function(f){switch(f.label){case 0:if(!(i=Xl(t)).$o)return[3,10];o=0,s=e,f.label=1;case 1:return o<s.length?i.Vo.has(a=s[o])?(wr("SyncEngine","Adding an already active target "+a),[3,5]):[4,qu(i.localStore,a)]:[3,6];case 2:return u=f.sent(),[4,ju(i.localStore,u)];case 3:return c=f.sent(),[4,Tl(i,Wl(u),c.targetId,!1)];case 4:f.sent(),Nc(i.remoteStore,c),f.label=5;case 5:return o++,[3,1];case 6:l=function(t){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,Uu(i.localStore,t,!1).then(function(){Rc(i.remoteStore,t),Dl(i,t)}).catch(ou)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,d=n,f.label=7;case 7:return h<d.length?[5,l(d[h])]:[3,10];case 8:f.sent(),f.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Xl(t){var e=kr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ql.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Al.bind(null,e),e.vo._r=ul.bind(null,e.eventManager),e.vo.Mo=cl.bind(null,e.eventManager),e}function Jl(t){var e=kr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nl.bind(null,e),e}function Zl(t,e,n){var i=kr(t);(function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=r.sent(),[4,function(t,e){var n=kr(t),r=gs(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Ke.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,i)];case 2:return r.sent()?[4,e.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(gl(i)),o=new pl(i,t.localStore,e.R),[4,e.Lo()];case 5:s=r.sent(),r.label=6;case 6:return s?[4,o.oo(s)]:[3,10];case 7:return(a=r.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:s=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=r.sent(),[4,Ul(t,u.wn,void 0)];case 12:return r.sent(),[4,function(t,e){var n=kr(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Ke.saveBundleMetadata(t,e)})}(t.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return Tr("SyncEngine","Loading bundle failed with "+(c=r.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(i,e,n).then(function(){i.sharedClientState.notifyBundleLoaded()})}var th=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return this.R=bc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Ru(this.persistence,new xu,t.initialUser,this.R)},t.prototype.qo=function(t){return new Zu(ec.bs,this.R)},t.prototype.Bo=function(t){return new dc},t.prototype.terminate=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),eh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,r.__extends)(e,t),e.prototype.initialize=function(e){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Bu(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Jl(this.Qo.syncEngine)];case 4:return n.sent(),[4,Bc(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return Ru(this.persistence,new xu,t.initialUser,this.R)},e.prototype.Uo=function(t){return new uu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Cu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ga.withCacheSize(this.cacheSizeBytes):Ga.DEFAULT;return new Eu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yc(),_c(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new dc},e}(th),nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,r.__extends)(e,t),e.prototype.initialize=function(e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i=this;return(0,r.__generator)(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof hc?(this.sharedClientState.syncEngine={ui:zl.bind(null,n),ai:Yl.bind(null,n),hi:Ql.bind(null,n),fn:Kl.bind(null,n),ci:Bl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(t){return(0,r.__awaiter)(i,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,Hl(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(t){var e=yc();if(!hc.yt(e))throw new yr(vr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new hc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(eh),rh=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return kl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vl.bind(null,this.syncEngine),[4,Qc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new ol},t.prototype.createDatastore=function(t){var e=bc(t.databaseInfo.databaseId),n=new vc(t.databaseInfo);return function(t,e,n){return new Cc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return kl(s.syncEngine,t,0)},o=pc.yt()?new pc:new fc,new kc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new wl(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return e=kr(t),wr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,xc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function ih(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var i;return(0,r.__generator)(this,function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]})})},cancel:function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var oh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),sh=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ha,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new dl(JSON.parse(i),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),ah=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,r.__generator)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yr(vr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=kr(t),i=Es(n.R)+"/documents",o={documents:e.map(function(t){return ys(n.R,t)})},[4,n.$i("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Sr(!!e.found);var n=_s(t,e.found.name),r=gs(e.found.updateTime),i=new gi({mapValue:{fields:e.found.fields}});return vi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Sr(!!e.missing),Sr(!!e.readTime);var n=_s(t,e.missing),r=gs(e.readTime);return vi.newNoDocument(n,r)}(t,e):Cr()}(n.R,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Sr(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Do(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,r.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ti.fromPath(n);e.mutations.push(new Lo(r,e.precondition(r)))}),[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=kr(t),i=Es(n.R)+"/documents",o={writes:e.map(function(t){return Ss(n.R,t)})},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Cr();e=Dr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new yr(vr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_o.updateTime(e):_o.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dr.min()))throw new yr(vr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _o.updateTime(e)}return _o.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),uh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new wc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,r.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return(0,r.__generator)(this,function(r){return t=new ah(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Xr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Fo(e)}return!1},t}(),ch=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=nc.UNAUTHENTICATED,this.clientId=xr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,r.__awaiter)(i,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return wr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yr(vr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,r.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=tl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function lh(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o=this;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),wr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),i=n.initialUser,t.setCredentialChangeListener(function(t){return(0,r.__awaiter)(o,void 0,void 0,function(){return(0,r.__generator)(this,function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,Pu(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function hh(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,dh(t)];case 1:return n=o.sent(),wr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(n=kr(t)).asyncQueue.verifyOperationInProgress(),wr("RemoteStore","RemoteStore received new credentials"),i=Mc(n),n.Or.add(3),[4,xc(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,Ac(n)];case 3:return r.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function dh(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(wr("FirestoreClient","Using default OfflineComponentProvider"),[4,lh(t,new th)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function fh(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(wr("FirestoreClient","Using default OnlineComponentProvider"),[4,hh(t,new rh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function ph(t){return dh(t).then(function(t){return t.persistence})}function gh(t){return dh(t).then(function(t){return t.localStore})}function mh(t){return fh(t).then(function(t){return t.remoteStore})}function vh(t){return fh(t).then(function(t){return t.syncEngine})}function yh(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,fh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=El.bind(null,e.syncEngine),n.onUnlisten=Il.bind(null,e.syncEngine),n)]}})})}function _h(t,e,n){var i=this;void 0===n&&(n={});var o=new ha;return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(i,void 0,void 0,function(){var i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new oh({next:function(o){e.enqueueAndForget(function(){return al(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new yr(vr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new yr(vr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new hl(Vi(n.path),o,{includeMetadataChanges:!0,so:!0});return sl(t,s)},[4,yh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function bh(t,e,n){var i=this;void 0===n&&(n={});var o=new ha;return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(i,void 0,void 0,function(){var i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new oh({next:function(n){e.enqueueAndForget(function(){return al(t,s)}),n.fromCache&&"server"===r.source?i.reject(new yr(vr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new hl(n,o,{includeMetadataChanges:!0,so:!0});return sl(t,s)},[4,yh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var wh=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Eh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Th=new Map,Ih=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ch=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(nc.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Sh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),kh=function(){function t(t){var e=this;this.currentUser=nc.UNAUTHENTICATED,this.oc=new ha,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){wr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(wr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(wr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Sr("string"==typeof n.accessToken),new Ih(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Sr(null===t||"string"==typeof t),new nc(t)},t}(),Ah=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=nc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),xh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ah(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(nc.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Nh(t,e,n){if(!n)throw new yr(vr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Rh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yr(vr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ph(t,e,n,r){if(!0===e&&!0===r)throw new yr(vr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Oh(t){if(!ti.isDocumentKey(t))throw new yr(vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Dh(t){if(ti.isDocumentKey(t))throw new yr(vr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Lh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Cr()}function Mh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yr(vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lh(t);throw new yr(vr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fh(t,e){if(e<=0)throw new yr(vr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var jh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yr(vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yr(vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ph("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Uh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jh({}),this._settingsFrozen=!1,t instanceof Eh?(this._databaseId=t,this._credentials=new Ch):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yr(vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eh(t.options.projectId)}(t),this._credentials=new kh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new yr(vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new yr(vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ch;switch(t.type){case"gapi":var e=t.client;return Sr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new yr(vr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Th.get(this))&&(wr("ComponentProvider","Removing Datastore"),Th.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $h(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),qh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),$h=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Vi(r))||this)._path=r,i.type="collection",i}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Vh(this.firestore,null,new ti(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(qh);function Bh(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=(0,s.getModularInstance)(t),Nh("collection","path",e),t instanceof Uh)return Dh(n=Ur.fromString.apply(Ur,(0,r.__spreadArray)([e],i))),new $h(t,null,n);if(!(t instanceof Vh||t instanceof $h))throw new yr(vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dh(n=Ur.fromString.apply(Ur,(0,r.__spreadArray)([t.path],i)).child(Ur.fromString(e))),new $h(t.firestore,null,n)}function zh(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=(0,s.getModularInstance)(t),1===arguments.length&&(e=xr.u()),Nh("doc","path",e),t instanceof Uh)return Oh(n=Ur.fromString.apply(Ur,(0,r.__spreadArray)([e],i))),new Vh(t,null,new ti(n));if(!(t instanceof Vh||t instanceof $h))throw new yr(vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Oh(n=t._path.child(Ur.fromString.apply(Ur,(0,r.__spreadArray)([e],i)))),new Vh(t.firestore,t instanceof $h?t.converter:null,new ti(n))}function Hh(t,e){return t=(0,s.getModularInstance)(t),e=(0,s.getModularInstance)(e),(t instanceof Vh||t instanceof $h)&&(e instanceof Vh||e instanceof $h)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Gh(t,e){return t=(0,s.getModularInstance)(t),e=(0,s.getModularInstance)(e),t instanceof qh&&e instanceof qh&&t.firestore===e.firestore&&Yi(t._query,e._query)&&t.converter===e.converter}var Wh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new wc(this,"async_queue_retry"),this.Ic=function(){var e=_c();e&&wr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=_c();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=_c();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new ha;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,r.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!va(t=n.sent()))throw t;return wr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Zc.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Cr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Kh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Yh=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ha,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Wh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,r.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Jh(this),this._firestoreClient.terminate()},e}(Uh);function Xh(t){return t._firestoreClient||Jh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Jh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new wh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ch(t._credentials,t._queue,r)}function Zh(t,e,n){var i=this,o=new ha;return t.asyncQueue.enqueue(function(){return(0,r.__awaiter)(i,void 0,void 0,function(){var i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,lh(t,n)];case 1:return r.sent(),[4,hh(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vr.FAILED_PRECONDITION||t.code===vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function td(t){if(t._initialized||t._terminated)throw new yr(vr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ed=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new yr(vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),nd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Br.fromBase64String(e))}catch(e){throw new yr(vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Br.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),rd=function(t){this._methodName=t},id=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new yr(vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yr(vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Nr(this._lat,t._lat)||Nr(this._long,t._long)},t}(),od=/^__.*__$/,sd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ao(t,this.data,this.fieldMask,e,this.fieldTransforms):new ko(t,this.data,e,this.fieldTransforms)},t}(),ad=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ao(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ud(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cr()}}var cd=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return xd(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(ud(this.Nc)&&od.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ld=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||bc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new cd({Nc:t,methodName:e,qc:n,path:qr.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function hd(t){var e=t._freezeSettings(),n=bc(t._databaseId);return new ld(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Cd("Data must be an object, but it was:",s,r);var a,u,c=Td(r,s);if(o.merge)a=new $r(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Sd(e,d[h],n);if(!s.contains(f))throw new yr(vr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Nd(l,f)||l.push(f)}a=new $r(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new sd(new gi(c),a,u)}var fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rd);function pd(t,e,n){return new cd({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new vo(t.path,new uo)},e.prototype.isEqual=function(t){return t instanceof e},e}(rd),md=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=pd(this,t,!0),n=this.Kc.map(function(t){return Ed(t,e)}),r=new co(n);return new vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rd),vd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=pd(this,t,!0),n=this.Kc.map(function(t){return Ed(t,e)}),r=new ho(n);return new vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rd),yd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new po(t.R,ro(t.R,this.Qc));return new vo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rd);function _d(t,e,n,r){var i=t.Uc(1,e,n);Cd("Data must be an object, but it was:",i,r);var o=[],a=gi.empty();Mr(r,function(t,r){var u=Ad(e,t,n);r=(0,s.getModularInstance)(r);var c=i.Oc(u);if(r instanceof fd)o.push(u);else{var l=Ed(r,c);null!=l&&(o.push(u),a.set(u,l))}});var u=new $r(o);return new ad(a,u,i.fieldTransforms)}function bd(t,e,n,r,i,o){var a=t.Uc(1,e,n),u=[Sd(e,r,n)],c=[i];if(o.length%2!=0)throw new yr(vr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)u.push(Sd(e,o[l])),c.push(o[l+1]);for(var h=[],d=gi.empty(),f=u.length-1;f>=0;--f)if(!Nd(h,u[f])){var p=u[f],g=c[f];g=(0,s.getModularInstance)(g);var m=a.Oc(p);if(g instanceof fd)h.push(p);else{var v=Ed(g,m);null!=v&&(h.push(p),d.set(p,v))}}var y=new $r(h);return new ad(d,y,a.fieldTransforms)}function wd(t,e,n,r){return void 0===r&&(r=!1),Ed(n,t.Uc(r?4:3,e))}function Ed(t,e){if(Id(t=(0,s.getModularInstance)(t)))return Cd("Unsupported field value:",e,t),Td(t,e);if(t instanceof rd)return function(t,e){if(!ud(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ed(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,s.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ro(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Or.fromDate(t);return{timestampValue:ds(e.R,n)}}if(t instanceof Or)return n=new Or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ds(e.R,n)};if(t instanceof id)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nd)return{bytesValue:fs(e.R,t._byteString)};if(t instanceof Vh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ms(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Lh(t))}(t,e)}function Td(t,e){var n={};return Fr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(t,function(t,r){var i=Ed(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Id(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Or||t instanceof id||t instanceof nd||t instanceof Vh||t instanceof rd)}function Cd(t,e,n){if(!Id(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Lh(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Sd(t,e,n){if((e=(0,s.getModularInstance)(e))instanceof ed)return e._internalPath;if("string"==typeof e)return Ad(t,e);throw xd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kd=new RegExp("[~\\*/\\[\\]]");function Ad(t,e,n){if(e.search(kd)>=0)throw xd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ed.bind.apply(ed,(0,r.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(Nf){throw xd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xd(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new yr(vr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Nd(t,e){return t.some(function(t){return t.isEqual(e)})}var Rd=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Pd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Od("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Rd);function Od(t,e){return"string"==typeof e?Ad(t,e):e instanceof ed?e._internalPath:e._delegate._internalPath}var Dd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ld=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,r.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Od("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Rd),Md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ld),Fd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Dd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Md(n._firestore,n._userDataWriter,r.key,r,new Dd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yr(vr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Md(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Md(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:jd(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function jd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cr()}}function Ud(t,e){return t instanceof Ld&&e instanceof Ld?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Fd&&e instanceof Fd&&t._firestore===e._firestore&&Gh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Vd(t){if($i(t)&&0===t.explicitOrderBy.length)throw new yr(vr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qd=function(){};function $d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=hd(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yr(vr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Qd(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Yd(r,t,l[c]));a={arrayValue:{values:u}}}else a=Yd(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Qd(s,o),a=wd(n,"where",s,"in"===o||"not-in"===o);var h=Ti.create(i,o,a);return function(t,e){if(e.g()){var n=zi(t);if(null!==n&&!n.isEqual(e.field))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Bi(t);null!==r&&Xd(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new yr(vr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new qh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(qd),zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new yr(vr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yr(vr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Di(e,n);return function(t,e){if(null===Bi(t)){var n=zi(t);null!==n&&Xd(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new qh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ji(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(qd),Hd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){return new qh(t.firestore,t.converter,Ki(t._query,this.Hc,this.Jc))},e}(qd),Gd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=Kd(t,this.type,this.Yc,this.Xc);return new qh(t.firestore,t.converter,function(t,e){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(qd),Wd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=Kd(t,this.type,this.Yc,this.Xc);return new qh(t.firestore,t.converter,function(t,e){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(qd);function Kd(t,e,n,r){if(n[0]=(0,s.getModularInstance)(n[0]),n[0]instanceof Rd)return function(t,e,n,r,i){if(!r)throw new yr(vr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Gi(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(ui(e,r.key));else{var c=r.data.field(u.field);if(Kr(c))throw new yr(vr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new yr(vr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Pi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=hd(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new yr(vr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new yr(vr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Hi(t)&&-1!==c.indexOf("/"))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ur.fromString(c));if(!ti.isDocumentKey(l))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ti(l);a.push(ui(e,h))}else{var d=wd(n,r,c);a.push(d)}}return new Pi(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Yd(t,e,n){if("string"==typeof(n=(0,s.getModularInstance)(n))){if(""===n)throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hi(e)&&-1!==n.indexOf("/"))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ur.fromString(n));if(!ti.isDocumentKey(r))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ui(t,new ti(r))}if(n instanceof Vh)return ui(t,n._key);throw new yr(vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lh(n)+".")}function Qd(t,e){if(!Array.isArray(t)||0===t.length)throw new yr(vr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new yr(vr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xd(t,e,n){if(!n.isEqual(e))throw new yr(vr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Jd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ei(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Cr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Mr(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new id(Gr(t.latitude),Gr(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Yr(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Qr(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Hr(t);return new Or(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ur.fromString(t);Sr(qs(n));var r=new Eh(n.get(1),n.get(3)),i=new ti(n.popFirst(5));return r.isEqual(e)||Er("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Zd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.__extends)(e,t),e.prototype.convertBytes=function(t){return new nd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vh(this.firestore,null,e)},e}(Jd),ef=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hd(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=nf(t,this._firestore),i=Zd(r.converter,e,n),o=dd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,_o.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=nf(t,this._firestore);return o="string"==typeof(e=(0,s.getModularInstance)(e))||e instanceof ed?bd(this._dataReader,"WriteBatch.update",a._key,e,n,r):_d(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,_o.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=nf(t,this._firestore);return this._mutations=this._mutations.concat(new Do(e._key,_o.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new yr(vr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nf(t,e){if((t=(0,s.getModularInstance)(t)).firestore!==e)throw new yr(vr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var rf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.__extends)(e,t),e.prototype.convertBytes=function(t){return new nd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vh(this.firestore,null,e)},e}(Jd);function of(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Mh(t,Vh);var o=Mh(t.firestore,Qh),a=hd(o);return af(o,[("string"==typeof(e=(0,s.getModularInstance)(e))||e instanceof ed?bd(a,"updateDoc",t._key,e,n,r):_d(a,"updateDoc",t._key,e)).toMutation(t._key,_o.exists(!0))])}function sf(t){for(var e,n,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];t=(0,s.getModularInstance)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof o[c]||Kh(o[c])||(u=o[c],c++);var l,h,d,f={includeMetadataChanges:u.includeMetadataChanges};if(Kh(o[c])){var p=o[c];o[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),o[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[c+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(t instanceof Vh)h=Mh(t.firestore,Qh),d=Vi(t._key.path),l={next:function(e){o[c]&&o[c](uf(h,t,e))},error:o[c+1],complete:o[c+2]};else{var g=Mh(t,qh);h=Mh(g.firestore,Qh),d=g._query;var m=new rf(h);l={next:function(t){o[c]&&o[c](new Fd(h,m,g,t))},error:o[c+1],complete:o[c+2]},Vd(t._query)}return function(t,e,n,i){var o=this,s=new oh(i),a=new hl(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(o,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return e=sl,[4,yh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(o,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return e=al,[4,yh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(Xh(h),d,f,l)}function af(t,e){return function(t,e){var n=this,i=new ha;return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=Cl,[4,vh(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(Xh(t),e)}function uf(t,e,n){var r=n.docs.get(e._key),i=new rf(t);return new Ld(t,i,e._key,r,new Dd(n.hasPendingWrites,n.fromCache),e.converter)}var cf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,r.__extends)(e,t),e.prototype.get=function(e){var n=this,r=nf(e,this._firestore),i=new rf(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Ld(n._firestore,i,r._key,t._document,new Dd(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=hd(t)}return t.prototype.get=function(t){var e=this,n=nf(t,this._firestore),r=new tf(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Cr();var i=t[0];if(i.isFoundDocument())return new Rd(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Rd(e._firestore,r,n._key,null,n.converter);throw Cr()})},t.prototype.set=function(t,e,n){var r=nf(t,this._firestore),i=Zd(r.converter,e,n),o=dd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=nf(t,this._firestore);return o="string"==typeof(e=(0,s.getModularInstance)(e))||e instanceof ed?bd(this._dataReader,"Transaction.update",a._key,e,n,r):_d(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=nf(t,this._firestore);return this._transaction.delete(e._key),this},t}());function lf(){if("undefined"==typeof Uint8Array)throw new yr(vr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hf(){if("undefined"==typeof atob)throw new yr(vr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var df=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hf(),new t(nd.fromBase64String(e))},t.fromUint8Array=function(e){return lf(),new t(nd.fromUint8Array(e))},t.prototype.toBase64=function(){return hf(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return lf(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ff=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){td(t=Mh(t,Qh));var n=Xh(t),r=t._freezeSettings(),i=new rh;return Zh(n,i,new eh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){td(t=Mh(t,Qh));var e=Xh(t),n=t._freezeSettings(),r=new rh;return Zh(e,r,new nh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new yr(vr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ha;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,r.__awaiter)(e,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return pa.yt()?[4,pa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Cu(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),pf=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Eh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Tr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Mh(t,Uh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Tr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,s.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new yr(vr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Sh(new Ih(o,new nc(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,r.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,ph(t)];case 1:return e=r.sent(),[4,mh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=kr(t);return e.Or.delete(0),Ac(e)}(n))]}})})})}(Xh(Mh(this._delegate,Qh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,r.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,r.__generator)(this,function(i){switch(i.label){case 0:return[4,ph(t)];case 1:return e=i.sent(),[4,mh(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return(e=kr(t)).Or.add(0),[4,xc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Xh(Mh(this._delegate,Qh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ph("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ha;return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(e,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return e=Rl,[4,vh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Xh(Mh(this._delegate,Qh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new oh(e);return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){kr(t).Gr.add(e),e.next()},[4,yh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){kr(t).Gr.delete(e)},[4,yh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}(Xh(t=Mh(t,Qh)),Kh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new yr(vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Af(this,Bh(this._delegate,t))}catch(t){throw bf(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new _f(this,zh(this._delegate,t))}catch(t){throw bf(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Cf(this,function(t,e){if(t=Mh(t,Uh),Nh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yr(vr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qh(t,null,function(t){return new ji(Ur.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw bf(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new ha;return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(t){return fh(t).then(function(t){return t.datastore})}(t)];case 1:return n=r.sent(),new uh(t.asyncQueue,n,e,i).run(),[2]}})})}),i.promise}(Xh(t),function(n){return e(new cf(t,n))})}(this._delegate,function(n){return t(new mf(e,n))})},t.prototype.batch=function(){var t=this;return Xh(this._delegate),new vf(new ef(this._delegate,function(e){return af(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new yr(vr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new yr(vr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.__extends)(e,t),e.prototype.convertBytes=function(t){return new df(new nd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return _f.eu(e,this.firestore,null)},e}(Jd),mf=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gf(t)}return t.prototype.get=function(t){var e=this,n=xf(t);return this._delegate.get(n).then(function(t){return new Tf(e._firestore,new Ld(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=xf(t);return n?(Rh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=xf(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,(0,r.__spreadArray)([a,e,n],o)),this},t.prototype.delete=function(t){var e=xf(t);return this._delegate.delete(e),this},t}(),vf=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=xf(t);return n?(Rh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=xf(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,(0,r.__spreadArray)([a,e,n],o)),this},t.prototype.delete=function(t){var e=xf(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),yf=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Md(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new If(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new gf(e),n),i.set(n,o)),o},t}();yf.su=new WeakMap;var _f=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gf(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new yr(vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Vh(n._delegate,r,new ti(e)))},t.eu=function(e,n,r){return new t(n,new Vh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Af(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Af(this.firestore,Bh(this._delegate,t))}catch(t){throw bf(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,s.getModularInstance)(t))instanceof Vh&&Hh(this._delegate,t)},t.prototype.set=function(t,e){e=Rh("DocumentReference.set",e);try{return function(t,e,n){t=Mh(t,Vh);var r=Mh(t.firestore,Qh),i=Zd(t.converter,e,n);return af(r,[dd(hd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,_o.none())])}(this._delegate,t,e)}catch(t){throw bf(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?of(this._delegate,t):of.apply(void 0,(0,r.__spreadArray)([this._delegate,t,e],n))}catch(t){throw bf(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return af(Mh((t=this._delegate).firestore,Qh),[new Do(t._key,_o.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wf(e),i=Ef(e,function(e){return new Tf(t.firestore,new Ld(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return sf(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Mh(t,Vh);var e=Mh(t.firestore,Qh),n=Xh(e),i=new rf(e);return function(t,e){var n=this,i=new ha;return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=kr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new yr(vr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=tl(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,gh(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}})})}),i.promise}(n,t._key).then(function(n){return new Ld(e,i,t._key,n,new Dd(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Mh(t,Vh);var e=Mh(t.firestore,Qh);return _h(Xh(e),t._key,{source:"server"}).then(function(n){return uf(e,t,n)})}(this._delegate):function(t){t=Mh(t,Vh);var e=Mh(t.firestore,Qh);return _h(Xh(e),t._key).then(function(n){return uf(e,t,n)})}(this._delegate)).then(function(t){return new Tf(e.firestore,new Ld(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?yf.nu(this.firestore,e):null))},t}();function bf(t,e,n){return t.message=t.message.replace(e,n),t}function wf(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Kh(r))return r}return{}}function Ef(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Kh(t[0])?t[0]:Kh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Tf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new _f(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ud(this._delegate,t._delegate)},t}(),If=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Tf),Cf=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gf(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,$d(this._delegate,function(t,e,n){var r=e,i=Od("where",t);return new Bd(i,r,n)}(e,n,r)))}catch(e){throw bf(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,$d(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Od("orderBy",t);return new zd(r,n)}(e,n)))}catch(e){throw bf(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,$d(this._delegate,function(t){return Fh("limit",t),new Hd("limit",t,"F")}(e)))}catch(e){throw bf(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,$d(this._delegate,function(t){return Fh("limitToLast",t),new Hd("limitToLast",t,"L")}(e)))}catch(e){throw bf(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw bf(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw bf(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wd("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw bf(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$d(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wd("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw bf(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Gh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Mh(t,qh);var e=Mh(t.firestore,Qh),n=Xh(e),i=new rf(e);return function(t,e){var n=this,i=new ha;return t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Vu(t,e,!0)];case 1:return u=r.sent(),i=new yl(e,u.Bn),o=i._o(u.documents),s=i.applyChanges(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=tl(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,gh(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}})})}),i.promise}(n,t._query).then(function(n){return new Fd(e,i,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Mh(t,qh);var e=Mh(t.firestore,Qh),n=Xh(e),r=new rf(e);return bh(n,t._query,{source:"server"}).then(function(n){return new Fd(e,r,t,n)})}(this._delegate):function(t){t=Mh(t,qh);var e=Mh(t.firestore,Qh),n=Xh(e),r=new rf(e);return Vd(t._query),bh(n,t._query).then(function(n){return new Fd(e,r,t,n)})}(this._delegate)).then(function(t){return new kf(e.firestore,new Fd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wf(e),i=Ef(e,function(e){return new kf(t.firestore,new Fd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return sf(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?yf.nu(this.firestore,e):null))},t}(),Sf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new If(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),kf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Cf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new If(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Sf(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new If(n._firestore,r))})},t.prototype.isEqual=function(t){return Ud(this._delegate,t._delegate)},t}(),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new _f(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new _f(this.firestore,void 0===t?zh(this._delegate):zh(this._delegate,t))}catch(t){throw bf(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Mh(t.firestore,Qh),r=zh(t),i=Zd(t.converter,e);return af(n,[dd(hd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,_o.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new _f(e.firestore,t)})},e.prototype.isEqual=function(t){return Hh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?yf.nu(this.firestore,t):null))},e}(Cf);function xf(t){return Mh(t,Vh)}var Nf,Rf,Pf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ed.bind.apply(ed,(0,r.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(qr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,s.getModularInstance)(t))instanceof ed&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Of=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new gd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new fd("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new md("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vd("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new yd("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Df=n(5119),Lf={Firestore:pf,GeoPoint:id,Timestamp:Or,Blob:df,Transaction:mf,WriteBatch:vf,DocumentReference:_f,DocumentSnapshot:Tf,Query:Cf,QueryDocumentSnapshot:If,QuerySnapshot:kf,CollectionReference:Af,FieldPath:Pf,FieldValue:Of,setLogLevel:function(t){_r.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Df.Component("firestore",function(t){return function(t,e){return new pf(t,new Qh(t,e),new ff)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Lf)))})(Nf=o.default),Nf.registerVersion("@firebase/firestore","2.3.9"),(Rf=pf).prototype.loadBundle=function(t){return function(t,e){var n=Xh(t=Mh(t,Qh)),i=new Yh;return function(t,e,n,i){var o=this,s=function(t,e){return function(t,e){return new sh(t,e)}(function(t,e){if(t instanceof Uint8Array)return ih(t,e);if(t instanceof ArrayBuffer)return ih(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,bc(e));t.asyncQueue.enqueueAndForget(function(){return(0,r.__awaiter)(o,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return e=Zl,[4,vh(t)];case 1:return e.apply(void 0,[n.sent(),s,i]),[2]}})})})}(n,t._databaseId,e,i),i}(this._delegate,t)},Rf.prototype.namedQuery=function(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=kr(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,gh(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(Xh(e=Mh(e,Qh)),n).then(function(t){return t?new qh(e,null,t.query):null})).then(function(t){return t?new Cf(i,t):null})};var Mf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ff=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,r.__extends)(e,t),e}(Error),jf=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function Uf(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Vf,qf,$f,Bf=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return Uf(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?Uf(t,function(t){return e.decode(t)}):t},t}(),zf=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Bf,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new jf(e,n),this.cancelAllRequests=new Promise(function(t){s.deleteService=function(){return t()}});try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(Nf){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(i=r.sent())&&(n["X-Firebase-AppCheck"]=i),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return o=r.sent(),[3,5];case 4:return r.sent(),[2,{status:0,json:null}];case 5:s=null,r.label=6;case 6:return r.trys.push([6,8,,9]),[4,o.json()];case 7:return s=r.sent(),[3,9];case 8:return r.sent(),[3,9];case 9:return[2,{status:o.status,json:s}]}})})},t.prototype.getAppCheckToken=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i=this._url(t),e=this.serializer.encode(e),o={data:e},s={},[4,this.contextProvider.getContext()];case 1:return(a=r.sent()).authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new Ff("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),c=u.timer,l=u.promise,[4,Promise.race([Hf(c,this.postJSON(i,o,s)),l,Hf(c,this.cancelAllRequests)])];case 2:if(!(h=r.sent()))throw new Ff("cancelled","Firebase Functions instance was deleted.");if(d=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!Mf[a])return new Ff("internal","internal");r=Mf[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(Nf){}return"ok"===r?null:new Ff(r,i,o)}(h.status,h.json,this.serializer))throw d;if(!h.json)throw new Ff("internal","Response is not valid JSON object.");if(void 0===(f=h.json.data)&&(f=h.json.result),void 0===f)throw new Ff("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}})})},t}();function Hf(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}Vf=o.default,qf=fetch.bind(self),$f={Functions:zf},Vf.INTERNAL.registerComponent(new Df.Component("functions",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new zf(r,i,s,o,n,qf)},"PUBLIC").setServiceProps($f).setMultipleInstances(!0)),o.default.registerVersion("@firebase/functions","0.6.13");var Gf,Wf=n(2087),Kf="w:0.4.30",Yf=((Gf={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Gf["not-registered"]="Firebase Installation is not registered.",Gf["installation-not-found"]="Firebase Installation not found.",Gf["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Gf["app-offline"]="Could not process request. Application offline.",Gf["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Gf),Qf=new s.ErrorFactory("installations","Installations",Yf);function Xf(t){return t instanceof s.FirebaseError&&t.code.includes("request-failed")}function Jf(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Zf(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function tp(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,Qf.create("request-failed",{requestName:t,serverCode:(i=n.error).code,serverMessage:i.message,serverStatus:i.status})]}})})}function ep(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function np(t,e){var n=e.refreshToken,r=ep(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function rp(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function ip(t,e){var n=e.fid;return(0,r.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return e=Jf(t),i=ep(t),o={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:Kf})},[4,rp(function(){return fetch(e,o)})];case 1:return(s=r.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,{fid:(a=r.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Zf(a.authToken)}];case 3:return[4,tp("Create Installation",s)];case 4:throw r.sent()}})})}function op(t){return new Promise(function(e){setTimeout(e,t)})}var sp=/^[cdef][\w-]{21}$/;function ap(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,(0,r.__spreadArray)([],(0,r.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return sp.test(e)?e:""}catch(fd){return""}}function up(t){return t.appName+"!"+t.appId}var cp=new Map;function lp(t,e){var n=up(t);hp(n,e),function(t,e){var n=fp();n&&n.postMessage({key:t,fid:e}),pp()}(n,e)}function hp(t,e){var n,i,o=cp.get(t);if(o)try{for(var s=(0,r.__values)(o),a=s.next();!a.done;a=s.next())(0,a.value)(e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}var dp=null;function fp(){return!dp&&"BroadcastChannel"in self&&((dp=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){hp(t.data.key,t.data.fid)}),dp}function pp(){0===cp.size&&dp&&(dp.close(),dp=null)}var gp,mp="firebase-installations-store",vp=null;function yp(){return vp||(vp=(0,Wf.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(mp)}})),vp}function _p(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=up(t),[4,yp()];case 1:return i=r.sent(),o=i.transaction(mp,"readwrite"),[4,(s=o.objectStore(mp)).get(n)];case 2:return a=r.sent(),[4,s.put(e,n)];case 3:return r.sent(),[4,o.complete];case 4:return r.sent(),a&&a.fid===e.fid||lp(t,e.fid),[2,e]}})})}function bp(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return e=up(t),[4,yp()];case 1:return n=r.sent(),[4,(i=n.transaction(mp,"readwrite")).objectStore(mp).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function wp(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=up(t),[4,yp()];case 1:return i=r.sent(),o=i.transaction(mp,"readwrite"),[4,(s=o.objectStore(mp)).get(n)];case 2:return a=r.sent(),void 0!==(u=e(a))?[3,4]:[4,s.delete(n)];case 3:return r.sent(),[3,6];case 4:return[4,s.put(u,n)];case 5:r.sent(),r.label=6;case 6:return[4,o.complete];case 7:return r.sent(),!u||a&&a.fid===u.fid||lp(t,u.fid),[2,u]}})})}function Ep(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,r.__generator)(this,function(o){switch(o.label){case 0:return[4,wp(t,function(n){var i=function(t){return Cp(t||{fid:ap(),registrationStatus:0})}(n),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Qf.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,ip(t,e)];case 1:return n=r.sent(),[2,_p(t,n)];case 2:return Xf(i=r.sent())&&409===i.customData.serverCode?[4,bp(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,_p(t,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Tp(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry})];case 1:return""!==(n=o.sent()).fid?[3,3]:(i={},[4,e]);case 2:return[2,(i.installationEntry=o.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Tp(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ip(t)];case 1:e=r.sent(),r.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,op(100)];case 3:return r.sent(),[4,Ip(t)];case 4:return e=r.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Ep(t)];case 6:return n=r.sent(),i=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,i];case 7:return[2,e]}})})}function Ip(t){return wp(t,function(t){if(!t)throw Qf.create("installation-not-found");return Cp(t)})}function Cp(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Sp(t,e){var n=t.appConfig,i=t.platformLoggerProvider;return(0,r.__awaiter)(this,void 0,void 0,function(){var t,o,s,a,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return t=function(t,e){var n=e.fid;return Jf(t)+"/"+n+"/authTokens:generate"}(n,e),o=np(n,e),(s=i.getImmediate({optional:!0}))&&o.append("x-firebase-client",s.getPlatformInfoString()),a={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:Kf}})},[4,rp(function(){return fetch(t,a)})];case 1:return(u=r.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,Zf(r.sent())];case 3:return[4,tp("Generate Auth Token",u)];case 4:throw r.sent()}})})}function kp(t,e){return void 0===e&&(e=!1),(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return[4,wp(t.appConfig,function(i){if(!xp(i))throw Qf.create("not-registered");var o,s=i.authToken;if(!e&&2===(o=s).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(o))return i;if(1===s.requestStatus)return n=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ap(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,op(100)];case 3:return r.sent(),[4,Ap(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,kp(t,e)]:[2,i]}})})}(t,e),i;if(!navigator.onLine)throw Qf.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,r.__assign)((0,r.__assign)({},t),{authToken:e})}(i);return n=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,Sp(t,e)];case 1:return n=s.sent(),o=(0,r.__assign)((0,r.__assign)({},e),{authToken:n}),[4,_p(t.appConfig,o)];case 2:return s.sent(),[2,n];case 3:return!Xf(i=s.sent())||401!==i.customData.serverCode&&404!==i.customData.serverCode?[3,5]:[4,bp(t.appConfig)];case 4:return s.sent(),[3,7];case 5:return o=(0,r.__assign)((0,r.__assign)({},e),{authToken:{requestStatus:0}}),[4,_p(t.appConfig,o)];case 6:s.sent(),s.label=7;case 7:throw i;case 8:return[2]}})})}(t,a),a})];case 1:return i=s.sent(),n?[4,n]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=i.authToken,s.label=4;case 4:return[2,o]}})})}function Ap(t){return wp(t,function(t){if(!xp(t))throw Qf.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?(0,r.__assign)((0,r.__assign)({},t),{authToken:{requestStatus:0}}):t})}function xp(t){return void 0!==t&&2===t.registrationStatus}function Np(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,Ep(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function Rp(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=e.fid;return Jf(t)+"/"+n}(t,e),i=np(t,e),o={method:"DELETE",headers:i},[4,rp(function(){return fetch(n,o)})];case 1:return(s=r.sent()).ok?[3,3]:[4,tp("Delete Installation",s)];case 2:throw r.sent();case 3:return[2]}})})}function Pp(t){return Qf.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Df.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Pp("App Configuration");if(!t.name)throw Pp("App Name");try{for(var i=(0,r.__values)(["projectId","apiKey","appId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!t.options[s])throw Pp(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ep(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):kp(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,Np(t.appConfig)];case 1:return n.sent(),[4,kp(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,wp(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Qf.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Qf.create("app-offline");case 3:return[4,Rp(e,n)];case 4:return r.sent(),[4,bp(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){fp();var n=up(t),r=cp.get(n);r||(r=new Set,cp.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=up(t),r=cp.get(n);r&&(r.delete(e),0===r.size&&cp.delete(n),pp())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.30")}(o.default);var Op=((gp={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',gp["only-available-in-window"]="This method is available in a Window context.",gp["only-available-in-sw"]="This method is available in a service worker context.",gp["permission-default"]="The notification permission was not granted and dismissed instead.",gp["permission-blocked"]="The notification permission was not granted and blocked instead.",gp["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",gp["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",gp["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",gp["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",gp["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",gp["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",gp["token-update-no-token"]="FCM returned no token when updating the user to push.",gp["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",gp["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",gp["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",gp["invalid-vapid-key"]="The public VAPID key must be a string.",gp["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",gp),Dp=new s.ErrorFactory("messaging","Messaging",Op),Lp="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Mp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function Fp(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,r.__spreadArray)([],(0,r.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jp(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var Up="fcm_token_details_db",Vp="fcm_token_object_Store";function qp(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,r.__generator)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!i.sent().map(function(t){return t.name}).includes(Up))return[2,null];i.label=2;case 2:return e=null,[4,(0,Wf.openDb)(Up,5,function(i){return(0,r.__awaiter)(n,void 0,void 0,function(){var n,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i.oldVersion<2?[2]:i.objectStoreNames.contains(Vp)?[4,(n=i.transaction.objectStore(Vp)).index("fcmSenderId").get(t)]:[2];case 1:return o=r.sent(),[4,n.clear()];case 2:if(r.sent(),!o)return[2];if(2===i.oldVersion){if(!(s=o).auth||!s.p256dh||!s.endpoint)return[2];e={token:s.fcmToken,createTime:null!==(a=s.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"==typeof s.vapidKey?s.vapidKey:Fp(s.vapidKey)}}}else(3===i.oldVersion||4===i.oldVersion)&&(e={token:(s=o).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:Fp(s.auth),p256dh:Fp(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:Fp(s.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,(0,Wf.deleteDb)(Up)];case 4:return i.sent(),[4,(0,Wf.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,(0,Wf.deleteDb)("undefined")];case 6:return i.sent(),[2,$p(e)?e:null]}})})}function $p(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Bp="firebase-messaging-store",zp=null;function Hp(){return zp||(zp=(0,Wf.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Bp)}})),zp}function Gp(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return e=Yp(t),[4,Hp()];case 1:return[4,r.sent().transaction(Bp).objectStore(Bp).get(e)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,qp(t.appConfig.senderId)];case 4:return(i=r.sent())?[4,Wp(t,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}})})}function Wp(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=Yp(t),[4,Hp()];case 1:return i=r.sent(),[4,(o=i.transaction(Bp,"readwrite")).objectStore(Bp).put(e,n)];case 2:return r.sent(),[4,o.complete];case 3:return r.sent(),[2,e]}})})}function Kp(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return e=Yp(t),[4,Hp()];case 1:return n=r.sent(),[4,(i=n.transaction(Bp,"readwrite")).objectStore(Bp).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function Yp(t){return t.appConfig.appId}function Qp(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,tg(t)];case 1:n=r.sent(),i=eg(e),o={method:"POST",headers:n,body:JSON.stringify(i)},r.label=2;case 2:return r.trys.push([2,5,,6]),[4,fetch(Zp(t.appConfig),o)];case 3:return[4,r.sent().json()];case 4:return s=r.sent(),[3,6];case 5:throw a=r.sent(),Dp.create("token-subscribe-failed",{errorInfo:a});case 6:if(s.error)throw Dp.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Dp.create("token-subscribe-no-token");return[2,s.token]}})})}function Xp(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,tg(t)];case 1:n=r.sent(),i=eg(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(i)},r.label=2;case 2:return r.trys.push([2,5,,6]),[4,fetch(Zp(t.appConfig)+"/"+e.token,o)];case 3:return[4,r.sent().json()];case 4:return s=r.sent(),[3,6];case 5:throw a=r.sent(),Dp.create("token-update-failed",{errorInfo:a});case 6:if(s.error)throw Dp.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Dp.create("token-update-no-token");return[2,s.token]}})})}function Jp(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,tg(t)];case 1:n=r.sent(),i={method:"DELETE",headers:n},r.label=2;case 2:return r.trys.push([2,5,,6]),[4,fetch(Zp(t.appConfig)+"/"+e,i)];case 3:return[4,r.sent().json()];case 4:if((o=r.sent()).error)throw Dp.create("token-unsubscribe-failed",{errorInfo:o.error.message});return[3,6];case 5:throw s=r.sent(),Dp.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}})})}function Zp(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function tg(t){var e=t.appConfig,n=t.installations;return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function eg(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==Lp&&(n.web.applicationPubKey=e),n}function ng(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if("granted"!==Notification.permission)throw Dp.create("permission-blocked");return[4,sg(e,n)];case 1:return i=r.sent(),[4,Gp(t)];case 2:return o=r.sent(),s={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:Fp(i.getKey("auth")),p256dh:Fp(i.getKey("p256dh"))},o?[3,3]:[2,og(t,s)];case 3:if(l=(c=s).endpoint===(u=o.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,Jp(t,o.token)];case 5:return r.sent(),[3,7];case 6:return a=r.sent(),console.warn(a),[3,7];case 7:return[2,og(t,s)];case 8:return Date.now()>=o.createTime+6048e5?[2,ig({token:o.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,o.token];case 9:return[2]}var u,c,l})})}function rg(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Gp(t)];case 1:return(n=r.sent())?[4,Jp(t,n.token)]:[3,4];case 2:return r.sent(),[4,Kp(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}})})}function ig(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,r.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Xp(e,t)];case 1:return i=a.sent(),o=(0,r.__assign)((0,r.__assign)({},t),{token:i,createTime:Date.now()}),[4,Wp(e,o)];case 2:return a.sent(),[2,i];case 3:return s=a.sent(),[4,rg(e,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function og(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Qp(t,e)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Wp(t,i)];case 2:return r.sent(),[2,i.token]}})})}function sg(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jp(e)})]}})})}function ag(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function ug(t){return new Promise(function(e){setTimeout(e,t)})}var cg=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw Dp.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,r.__awaiter)(this,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Gp(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:Lp,r.label=2;case 2:return[2,ng(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return rg(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Dp.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Dp.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Dp.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Dp.create("only-available-in-window")},t.prototype.onMessage=function(){throw Dp.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Dp.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,fg()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=r.sent())?[2,dg(n,e)]:(i=!1,e.notification?[4,pg(lg(e))]:[3,3]);case 2:r.sent(),i=!0,r.label=3;case 3:return!0===i&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(o=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,ug(1e3)]);case 4:return r.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return(0,r.__awaiter)(this,void 0,void 0,function(){var i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,rg(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,Gp(this.firebaseDependencies)];case 3:return i=r.sent(),[4,rg(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,ng(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Lp)];case 5:return r.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(i=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(o=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(ag(t.data)?self.location.origin:null)}(i))?(s=new URL(o,self.location.href),a=new URL(self.location.origin),s.host!==a.host?[2]:[4,hg(s)]):[2]):[2];case 1:return(u=r.sent())?[3,4]:[4,self.clients.openWindow(o)];case 2:return u=r.sent(),[4,ug(3e3)];case 3:return r.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=r.sent(),r.label=6;case 6:return u?(i.messageType=Mp.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,u.postMessage(i)]):[2]}})})},t}();function lg(t){var e,n=(0,r.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function hg(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o,s,a,u;return(0,r.__generator)(this,function(c){switch(c.label){case 0:return[4,fg()];case 1:e=c.sent();try{for(n=(0,r.__values)(e),i=n.next();!i.done;i=n.next())if(o=i.value,s=new URL(o.url,self.location.href),t.host===s.host)return[2,o]}catch(l){a={error:l}}finally{try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function dg(t,e){var n,i;e.isFirebaseMessaging=!0,e.messageType=Mp.PUSH_RECEIVED;try{for(var o=(0,r.__values)(t),s=o.next();!s.done;s=o.next())s.value.postMessage(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function fg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function pg(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var gg=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Mp.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),ag(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Dp.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,ng(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Lp),[2]})})},t.prototype.updateSwReg=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Dp.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),Dp.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,rg(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw Dp.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Dp.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Dp.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Dp.create("invalid-sw-registration");if(this.swRegistration)throw Dp.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Dp.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Dp.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case Mp.NOTIFICATION_CLICKED:return"notification_open";case Mp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function mg(t){return Dp.create("missing-app-config-values",{valueName:t})}var vg={isSupported:yg};function yg(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.default.INTERNAL.registerComponent(new Df.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw mg("App Configuration Object");if(!t.name)throw mg("App Name");var i=t.options;try{for(var o=(0,r.__values)(["projectId","apiKey","appId","messagingSenderId"]),s=o.next();!s.done;s=o.next()){var a=s.value;if(!i[a])throw mg(a)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!yg())throw Dp.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new cg(n):new gg(n)},"PUBLIC").setServiceProps(vg));var _g="firebasestorage.googleapis.com",bg=function(t){function e(n,r){var i=t.call(this,wg(n),"Firebase Storage: "+r+" ("+wg(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,r.__extends)(e,t),e.prototype._codeEquals=function(t){return wg(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(s.FirebaseError);function wg(t){return"storage/"+t}function Eg(){return new bg("unknown","An unknown error occurred, please check the error payload for server response.")}function Tg(){return new bg("canceled","User canceled the upload/download.")}function Ig(){return new bg("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cg(t){return new bg("invalid-argument",t)}function Sg(){return new bg("app-deleted","The Firebase app was deleted.")}function kg(t){return new bg("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ag(t,e){return new bg("invalid-format","String does not match format '"+t+"': "+e)}function xg(t){throw new bg("internal-error","Internal error: "+t)}var Ng={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Rg=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Pg(t,e){switch(t){case Ng.RAW:return new Rg(Og(e));case Ng.BASE64:case Ng.BASE64URL:return new Rg(Dg(t,e));case Ng.DATA_URL:return new Rg((n=new Lg(e)).base64?Dg(Ng.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Nf){throw Ag(Ng.DATA_URL,"Malformed data URL.")}return Og(e)}(n.rest),new Lg(e).contentType)}var n;throw Eg()}function Og(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Dg(t,e){switch(t){case Ng.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Ag(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ng.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Ag(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Nf){throw Ag(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Lg=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ag(Ng.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Mg={STATE_CHANGED:"state_changed"},Fg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jg(t){switch(t){case"running":case"pausing":case"canceling":return Fg.RUNNING;case"paused":return Fg.PAUSED;case"success":return Fg.SUCCESS;case"canceled":return Fg.CANCELED;case"error":default:return Fg.ERROR}}var Ug=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Vg=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ug.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ug.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ug.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw xg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw xg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw xg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Nf){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw xg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),qg=function(){function t(){}return t.prototype.createConnection=function(){return new Vg},t}(),$g=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Nf){return new t(e,"")}if(""===r.path)return r;throw new bg("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===_g?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new bg("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),Bg=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function zg(t){return"string"==typeof t||t instanceof String}function Hg(t){return Gg()&&t instanceof Blob}function Gg(){return"undefined"!=typeof Blob}function Wg(t,e,n,r){if(r<e)throw Cg("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Cg("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Kg(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function Yg(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var Qg=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());!function(t){return void 0!==t}(a)?i():i(a)}catch(Nf){o(Nf)}else null!==s?((r=Eg()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Sg():Tg():new bg("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Xg(!1,null,!0)):this.backoffId_=function(e,n,i){var o=1,s=null,a=!1,u=0;function c(){return 2===u}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function d(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new Xg(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===Ug.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Xg(s,r))}else{var a=r.getErrorCode()===Ug.ABORT;e(!1,new Xg(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,c())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,(0,r.__spreadArray)([null,t],e));else{var i;c()||a?h.call.apply(h,(0,r.__spreadArray)([null,t],e)):(o<64&&(o*=2),1===u?(u=2,i=0):i=1e3*(o+Math.random()),d(i))}}var p=!1;function g(t){p||(p=!0,l||(null!==s?(t||(u=2),clearTimeout(s),d(0)):t||(u=1)))}return d(0),setTimeout(function(){a=!0,g(!0)},i),g}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Xg=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function Jg(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Zg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Jg();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Gg())return new Blob(t);throw new bg("unsupported-environment","This browser doesn't seem to support creating Blobs")}var tm=function(){function t(t,e){var n=0,r="";Hg(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Hg(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Gg()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Zg.apply(null,r))}var i=e.map(function(t){return zg(t)?Pg(Ng.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function em(t){var e;try{e=JSON.parse(t)}catch(Nf){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function nm(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function rm(t,e){return e}var im=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||rm}}(),om=null;function sm(){if(om)return om;var t=[];t.push(new im("bucket")),t.push(new im("generation")),t.push(new im("metageneration")),t.push(new im("name","fullPath",!0));var e=new im("name");e.xform=function(t,e){return function(t){return!zg(t)||t.length<2?t:nm(t)}(e)},t.push(e);var n=new im("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new im("timeCreated")),t.push(new im("updated")),t.push(new im("md5Hash",null,!0)),t.push(new im("cacheControl",null,!0)),t.push(new im("contentDisposition",null,!0)),t.push(new im("contentEncoding",null,!0)),t.push(new im("contentLanguage",null,!0)),t.push(new im("contentType",null,!0)),t.push(new im("metadata","customMetadata",!0)),om=t}function am(t,e,n){var r=em(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new $g(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function um(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var cm=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function lm(t){if(!t)throw Eg()}function hm(t,e){return function(n,r){var i=am(t,r,e);return lm(null!==i),i}}function dm(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new bg("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new bg("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new bg("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new bg("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function fm(t){var e=dm(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new bg("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function pm(t,e,n){var r=Kg(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new cm(r,"GET",hm(t,n),i);return o.errorHandler=fm(e),o}function gm(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var mm=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function vm(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Nf){lm(!1)}return lm(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ym=262144,_m=function(){return function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function bm(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var wm=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=sm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=gm(e,r,i),a={name:s.fullPath},u=Kg(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=um(s,n),h=new cm(u,"POST",function(t){var e;vm(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Nf){lm(!1)}return lm(zg(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=dm(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new cm(n,"POST",function(t){var e=vm(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Nf){lm(!1)}n||lm(!1);var i=Number(n);return lm(!isNaN(i)),new mm(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=dm(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=ym*this._chunkMultiplier,n=new mm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new mm(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new bg("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},f=r.slice(h,h+l);if(null===f)throw Ig();var p=new cm(n,"POST",function(t,n){var i,s=vm(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?hm(e,o)(t,n):null,new mm(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=dm(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Nf){return t._error=Nf,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){ym*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=pm(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=gm(e,r,i),c=um(u,n),l=tm.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Ig();var h={name:u.fullPath},d=Kg(o,t.host),f=t.maxUploadRetryTime,p=new cm(d,"POST",hm(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=dm(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Tg(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=jg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new _m(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(jg(this._state)){case Fg.SUCCESS:bm(this._resolve.bind(null,this.snapshot))();break;case Fg.CANCELED:case Fg.ERROR:bm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(jg(this._state)){case Fg.RUNNING:case Fg.PAUSED:t.next&&bm(t.next.bind(t,this.snapshot))();break;case Fg.SUCCESS:t.complete&&bm(t.complete.bind(t))();break;case Fg.CANCELED:case Fg.ERROR:t.error&&bm(t.error.bind(t,this._error))();break;default:t.error&&bm(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Em=function(){function t(t,e){this._service=t,this._location=e instanceof $g?e:$g.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new $g(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return nm(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new $g(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw kg(t)},t}();function Tm(t){var e={prefixes:[],items:[]};return Im(t,e).then(function(){return e})}function Im(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Cm(t,{pageToken:n})];case 1:return i=r.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(s=e.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,Im(t,e,i.nextPageToken)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function Cm(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Wg("options.maxResults",1,1e3,e.maxResults),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Kg(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new cm(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=em(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new $g(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new $g(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return lm(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=dm(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}})})}function Sm(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new $g(t._location.bucket,n);return new Em(t.storage,r)}function km(t){return/^[A-Za-z]+:\/\//.test(t)}function Am(t,e){if(t instanceof Rm){var n=t;if(null==n._bucket)throw new bg("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Em(n,n._bucket);return null!=e?Am(r,e):r}if(void 0!==e){if(e.includes(".."))throw Cg('`path` param cannot contain ".."');return Sm(t,e)}return t}function xm(t,e){if(e&&km(e)){if(t instanceof Rm)return new Em(t,e);throw Cg("To use ref(service, url), the first argument must be a Storage instance.")}return Am(t,e)}function Nm(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:$g.makeFromBucketSpec(n,t)}var Rm=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=_g,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?$g.makeFromBucketSpec(i,this._host):Nm(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?$g.makeFromBucketSpec(this._url,t):Nm(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Wg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Wg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Em(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new Bg(Sg());var i=function(t,e,n,r,i,o){var s=Yg(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Qg(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function Pm(t,e){return xm(t=(0,s.getModularInstance)(t),e)}var Om=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Dm=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Om(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Om(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Om(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Om(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Lm=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Mm(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Mm(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Mm=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Sm(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Dm(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new wm(t,new tm(e),n)}(t=(0,s.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Ng.RAW),this._throwIfRoot("putString");var i=Pg(e,t),o=(0,r.__assign)({},n);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Dm(new wm(this._delegate,new tm(i.data,!0),o),this)},t.prototype.listAll=function(){var t=this;return function(t){return Tm(t=(0,s.getModularInstance)(t))}(this._delegate).then(function(e){return new Lm(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return Cm(t=(0,s.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new Lm(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=pm(t.storage,t._location,sm()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,s.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=Kg(e.fullServerUrl(),t.host),o=um(n,r),s=t.maxOperationRetryTime,a=new cm(i,"PATCH",hm(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=fm(e),a}(t.storage,t._location,e,sm()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,s.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=Kg(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new cm(r,"GET",function(t,e){return function(n,r){var i=am(t,r,e);return lm(null!==i),function(t,e,n){var r=em(e);if(null===r)return null;if(!zg(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return Kg("/b/"+o(t.bucket)+"/o/"+o(r),n)+Yg({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=fm(e),o}(t.storage,t._location,sm()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new bg("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,s.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=Kg(e.fullServerUrl(),t.host),r=new cm(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=fm(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,s.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw kg(t)},t}(),Fm=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(km(t))throw Cg("ref() expected a child path but got a URL, use refFromURL instead.");return new Mm(Pm(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!km(t))throw Cg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$g.makeFromUrl(t,this._delegate.host)}catch(Nf){throw Cg("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mm(Pm(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function jm(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Fm(r,new Rm(r,i,s,new qg,n,o.default.SDK_VERSION))}!function(t){var e={TaskState:Fg,TaskEvent:Mg,StringFormat:Ng,Storage:Rm,Reference:Mm};t.INTERNAL.registerComponent(new Df.Component("storage",jm,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.6.0")}(o.default);var Um,Vm,qm,$m="0.4.16",Bm=$m,zm="FB-PERF-TRACE-MEASURE",Hm="_wt_",Gm="_fcp",Wm="_fid",Km="@firebase/performance/config",Ym="@firebase/performance/configexpire",Qm="Performance",Xm=((Um={})["trace started"]="Trace {$traceName} was started before.",Um["trace stopped"]="Trace {$traceName} is not running.",Um["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Um["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Um["no window"]="Window is not available.",Um["no app id"]="App id is not available.",Um["no project id"]="Project id is not available.",Um["no api key"]="Api key is not available.",Um["invalid cc log"]="Attempted to queue invalid cc event",Um["FB not default"]="Performance can only start when Firebase app instance is the default one.",Um["RC response not ok"]="RC response is not ok",Um["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Um["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Um["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Um["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Um),Jm=new s.ErrorFactory("performance",Qm,Xm),Zm=new a.Logger(Qm);Zm.logLevel=a.LogLevel.INFO;var tv,ev=function(){function t(t){if(this.window=t,!t)throw Jm.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,s.isIndexedDBAvailable)()||(Zm.info("IndexedDB is not supported by current browswer"),!1):(Zm.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Vm&&(Vm=new t(qm)),Vm},t}();function nv(t,e){var n=t.length-e.length;if(n<0||n>1)throw Jm.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var rv,iv=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=nv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=nv("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Jm.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Jm.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Jm.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===tv&&(tv=new t),tv},t}();function ov(){return rv}var sv=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),av=["firebase_","google_","ga_"],uv=new RegExp("^[a-zA-Z]\\w*$");function cv(){var t=ev.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function lv(){switch(ev.getInstance().document.visibilityState){case"visible":return sv.VISIBLE;case"hidden":return sv.HIDDEN;default:return sv.UNKNOWN}}function hv(){var t=ev.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function dv(t){if(!t)return t;var e=iv.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=fv(e.tracesSamplingRate),e.logNetworkAfterSampling=fv(e.networkRequestsSamplingRate),t}function fv(t){return Math.random()<=t}var pv,gv=1;function mv(){return gv=2,pv=pv||function(){var t=ev.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=iv.getInstance().installationsService.getId()).then(function(t){rv=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=ev.getInstance().localStorage;if(t){var e=t.getItem(Ym);if(e&&Number(e)>Date.now()){var n=t.getItem(Km);if(n)try{return JSON.parse(n)}catch(fd){return}}}}();return e?(dv(e),Promise.resolve()):function(t){return(e=iv.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+iv.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+iv.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:iv.getInstance().getAppId(),app_version:Bm,sdk_version:"0.0.1"})});return fetch(r).then(function(t){if(t.ok)return t.json();throw Jm.create("RC response not ok")})}).catch(function(){Zm.info("Could not fetch config, will use default configs")});var e}(t).then(dv).then(function(t){return function(t){var e=ev.getInstance().localStorage;t&&e&&(e.setItem(Km,JSON.stringify(t)),e.setItem(Ym,String(Date.now()+60*iv.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return vv()},function(){return vv()})}function vv(){gv=3}var yv,_v=1e4,bv=3,wv=[],Ev=!1;function Tv(t){setTimeout(function(){var t,e;if(0!==bv)return wv.length?(e=(t=wv.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=iv.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||Zm.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),i=_v;isNaN(n)||(i=Math.max(n,i));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(wv=(0,r.__spreadArray)((0,r.__spreadArray)([],e),wv),Zm.info("Retry transport request later.")),bv=3,Tv(i)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:iv.getInstance().logSource,log_event:e},t).catch(function(){wv=(0,r.__spreadArray)((0,r.__spreadArray)([],t),wv),bv--,Zm.info("Tries left: "+bv+"."),Tv(_v)})):Tv(_v)},t)}function Iv(t){if(!t.eventTime||!t.message)throw Jm.create("invalid cc log");wv=(0,r.__spreadArray)((0,r.__spreadArray)([],wv),[t])}function Cv(t,e){yv||(yv=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Iv({message:t.apply(void 0,e),eventTime:Date.now()})}}(Av)),yv(t,e)}function Sv(t){var e=iv.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&ev.getInstance().requiredApisAvailable()&&(t.isAuto&&lv()!==sv.VISIBLE||(3===gv?kv(t):mv().then(function(){return kv(t)},function(){return kv(t)})))}function kv(t){if(ov()){var e=iv.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return Cv(t,1)},0)}}function Av(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:xv(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:xv(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function xv(){return{google_app_id:iv.getInstance().getAppId(),app_instance_id:ov(),web_app_info:{sdk_version:Bm,page_url:ev.getInstance().getUrl(),service_worker_status:cv(),visibility_state:lv(),effective_connection_type:hv()},application_process_state:0}}var Nv=["_fp",Gm,Wm],Rv=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=ev.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Jm.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Jm.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Sv(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Jm.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Jm.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,r.__assign)({},n.attributes)),n&&n.metrics)for(var i=0,o=Object.keys(n.metrics);i<o.length;i++){var s=o[i];isNaN(Number(n.metrics[s]))||(this.counters[s]=Number(Math.floor(n.metrics[s])))}Sv(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith(Hm)&&Nv.indexOf(i)>-1)&&i.startsWith("_"))throw Jm.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&Zm.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||av.some(function(t){return n.startsWith(t)})||!n.match(uv)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw Jm.create("invalid attribute name",{attributeName:t});if(!i)throw Jm.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,r.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=ev.getInstance().getUrl();if(i){var o=new t(Hm+i,!0),s=Math.floor(1e3*ev.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric(Gm,Math.floor(1e3*u.startTime)),r&&o.putMetric(Wm,Math.floor(1e3*r))}Sv(o)}},t.createUserTimingTrace=function(e){Sv(new t(e,!1,e))},t}();function Pv(t){var e=t;if(e&&void 0!==e.responseStart){var n=ev.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=iv.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return Cv(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Ov(){ov()&&(setTimeout(function(){return function(){var t=ev.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Rv.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),Rv.createOobTrace(e,n,t))})}else Rv.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=ev.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)Pv(n[e]);t.setupObserver("resource",Pv)}()},0),setTimeout(function(){return function(){for(var t=ev.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)Dv(n[e]);t.setupObserver("measure",Dv)}()},0))}function Dv(t){var e=t.name;e.substring(0,zm.length)!==zm&&Rv.createUserTimingTrace(e)}var Lv=function(){function t(t){this.app=t,ev.getInstance().requiredApisAvailable()&&(0,s.validateIndexedDBOpenable)().then(function(t){t&&(Ev||(Tv(5500),Ev=!0),mv().then(Ov,Ov))}).catch(function(t){Zm.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new Rv(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return iv.getInstance().instrumentationEnabled},set:function(t){iv.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return iv.getInstance().dataCollectionEnabled},set:function(t){iv.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new Df.Component("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw Jm.create("FB not default");if("undefined"==typeof window)throw Jm.create("no window");return function(t){qm=t}(window),iv.getInstance().firebaseAppInstance=t,iv.getInstance().installationsService=e,new Lv(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance",$m)}(o.default);var Mv,Fv="https://www.googletagmanager.com/gtag/js",jv=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),Uv=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),Vv=new a.Logger("@firebase/analytics");function qv(t,e,n,i,o,s){return(0,r.__awaiter)(this,void 0,void 0,function(){var a,u,c,l;return(0,r.__generator)(this,function(r){switch(r.label){case 0:a=i[o],r.label=1;case 1:return r.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return r.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=r.sent(),(c=u.find(function(t){return t.measurementId===o}))?[4,e[c.appId]]:[3,6];case 5:r.sent(),r.label=6;case 6:return[3,8];case 7:return l=r.sent(),Vv.error(l),[3,8];case 8:return t(jv.CONFIG,o,s),[2]}})})}function $v(t,e,n,i,o){return(0,r.__awaiter)(this,void 0,void 0,function(){var s,a,u,c,l,h,d;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),s=[],o&&o.send_to?(a=o.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=r.sent(),c=function(t){var n=u.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return s=[],"break";s.push(r)},l=0,h=a;l<h.length&&"break"!==c(h[l]);l++);r.label=2;case 2:return 0===s.length&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return r.sent(),t(jv.EVENT,i,o||{}),[3,5];case 4:return d=r.sent(),Vv.error(d),[3,5];case 5:return[2]}})})}var Bv=((Mv={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Mv["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Mv["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Mv["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Mv["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Mv["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Mv["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Mv["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Mv["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Mv),zv=new s.ErrorFactory("analytics","Analytics",Bv),Hv=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Gv(t){var e;return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return n=t.appId,i={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=r.sent()).status||304===s.status)return[3,6];a="",r.label=2;case 2:return r.trys.push([2,4,,5]),[4,s.json()];case 3:return u=r.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return r.sent(),[3,5];case 5:throw zv.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}var c})})}function Wv(t,e,n,i){var o=e.throttleEndTimeMillis,a=e.backoffCount;return void 0===i&&(i=Hv),(0,r.__awaiter)(this,void 0,void 0,function(){var e,u,c,l,h,d,f;return(0,r.__generator)(this,function(r){switch(r.label){case 0:e=t.appId,u=t.measurementId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Kv(n,o)];case 2:return r.sent(),[3,4];case 3:if(c=r.sent(),u)return Vv.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:u}];throw c;case 4:return r.trys.push([4,6,,7]),[4,Gv(t)];case 5:return l=r.sent(),i.deleteThrottleMetadata(e),[2,l];case 6:if(!function(t){if(!(t instanceof s.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h=r.sent())){if(i.deleteThrottleMetadata(e),u)return Vv.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:u}];throw h}return d=503===Number(h.customData.httpStatus)?(0,s.calculateBackoffMillis)(a,i.intervalMillis,30):(0,s.calculateBackoffMillis)(a,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},i.setThrottleMetadata(e,f),Vv.debug("Calling attemptFetch again in "+d+" millis"),[2,Wv(t,f,n,i)];case 7:return[2]}})})}function Kv(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(zv.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Yv,Qv,Xv=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),Jv={},Zv=[],ty={},ey="dataLayer",ny="gtag",ry=!1;function iy(t){if(ry)throw zv.create("already-initialized");t.dataLayerName&&(ey=t.dataLayerName),t.gtagName&&(ny=t.gtagName)}var oy="analytics";function sy(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:if((0,s.isBrowserExtension)())return[2,!1];if(!(0,s.areCookiesEnabled)())return[2,!1];if(!(0,s.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,s.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new Df.Component(oy,function(t){return function(t,e){!function(){var t=[];if((0,s.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,s.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=zv.create("invalid-analytics-context",{errorInfo:e});Vv.warn(n.message)}}();var n=t.options.appId;if(!n)throw zv.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw zv.create("no-api-key");Vv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Jv[n])throw zv.create("already-exists",{id:n});if(!ry){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ey);var i=function(t,e,n,i,o){var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[i].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function(t,e,n,i){return function(o,s,a){return(0,r.__awaiter)(this,void 0,void 0,function(){var u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),o!==jv.EVENT?[3,2]:[4,$v(t,e,n,s,a)];case 1:return r.sent(),[3,5];case 2:return o!==jv.CONFIG?[3,4]:[4,qv(t,e,n,i,s,a)];case 3:return r.sent(),[3,5];case 4:t(jv.SET,s),r.label=5;case 5:return[3,7];case 6:return u=r.sent(),Vv.error(u),[3,7];case 7:return[2]}})})}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[o]}}(Jv,Zv,ty,ey,ny);Qv=i.wrappedGtag,Yv=i.gtagCore,ry=!0}return Jv[n]=function(t,e,n,i,o,a){return(0,r.__awaiter)(this,void 0,void 0,function(){var u,c,l,h,d,f,p;return(0,r.__generator)(this,function(g){switch(g.label){case 0:return(u=function(t,e,n){return void 0===e&&(e=Hv),(0,r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c=this;return(0,r.__generator)(this,function(l){if(o=(n=t.options).apiKey,s=n.measurementId,!(i=n.appId))throw zv.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw zv.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Xv,setTimeout(function(){return(0,r.__awaiter)(c,void 0,void 0,function(){return(0,r.__generator)(this,function(t){return u.abort(),[2]})})},6e4),[2,Wv({appId:i,apiKey:o,measurementId:s},a,u,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Vv.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return Vv.error(t)}),e.push(u),c=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return(0,s.isIndexedDBAvailable)()?[3,1]:(Vv.warn(zv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,s.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Vv.warn(zv.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?i.getId():void 0}),[4,Promise.all([u,c])];case 1:return l=g.sent(),h=l[0],d=l[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Fv))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=Fv+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(a,h.measurementId),o("js",new Date),(p={}).origin="firebase",p.update=!0,f=p,null!=d&&(f.firebase_id=d),o(jv.CONFIG,h.measurementId,f),[2,h.measurementId]}})})}(t,Zv,ty,e,Yv,ey),{app:t,logEvent:function(t,e,i){(function(t,e,n,i,o){return(0,r.__awaiter)(this,void 0,void 0,function(){var s,a;return(0,r.__generator)(this,function(u){switch(u.label){case 0:return o&&o.global?(t(jv.EVENT,n,i),[2]):[3,1];case 1:return[4,e];case 2:s=u.sent(),a=(0,r.__assign)((0,r.__assign)({},i),{send_to:s}),t(jv.EVENT,n,a),u.label=3;case 3:return[2]}})})})(Qv,Jv[n],t,e,i).catch(function(t){return Vv.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i&&i.global?(t(jv.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=r.sent(),t(jv.CONFIG,o,{update:!0,screen_name:n}),r.label=3;case 3:return[2]}})})})(Qv,Jv[n],t,e).catch(function(t){return Vv.error(t)})},setUserId:function(t,e){(function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i&&i.global?(t(jv.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=r.sent(),t(jv.CONFIG,o,{update:!0,user_id:n}),r.label=3;case 3:return[2]}})})})(Qv,Jv[n],t,e).catch(function(t){return Vv.error(t)})},setUserProperties:function(t,e){(function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(!i||!i.global)return[3,1];for(o={},s=0,a=Object.keys(n);s<a.length;s++)o["user_properties."+(u=a[s])]=n[u];return t(jv.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:c=r.sent(),t(jv.CONFIG,c,{update:!0,user_properties:n}),r.label=3;case 3:return[2]}})})})(Qv,Jv[n],t,e).catch(function(t){return Vv.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(Jv[n],t).catch(function(t){return Vv.error(t)})},INTERNAL:{delete:function(){return delete Jv[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:iy,EventName:Uv,isSupported:sy})),t.INTERNAL.registerComponent(new Df.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider(oy).getImmediate().logEvent}}catch(Nf){throw zv.create("interop-component-reg-failed",{reason:Nf})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.15")}(o.default);var ay,uy=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=r.sent(),n=e[0],(i=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return o=r.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(s)];case 3:return r.sent(),[2,o]}})})},t}(),cy=((ay={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",ay["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",ay["registration-api-key"]="Undefined API key. Check Firebase app initialization.",ay["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",ay["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ay["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ay["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ay["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",ay["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ay["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',ay["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',ay["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ay["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ay),ly=new s.ErrorFactory("remoteconfig","Remote Config",cy),hy=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n,i,o,s,a,u,c,l,h,d,f,p,g,m,v;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=r.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,o={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===y&&(y=navigator),y.languages&&y.languages[0]||y.language)},s={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(o)},a=fetch(i,s),u=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),r.label=2;case 2:return r.trys.push([2,5,,6]),[4,Promise.race([a,u])];case 3:return r.sent(),[4,a];case 4:return c=r.sent(),[3,6];case 5:throw l=r.sent(),h="fetch-client-network","AbortError"===l.name&&(h="fetch-timeout"),ly.create(h,{originalErrorMessage:l.message});case 6:if(d=c.status,f=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];m=void 0,r.label=7;case 7:return r.trys.push([7,9,,10]),[4,c.json()];case 8:return m=r.sent(),[3,10];case 9:throw v=r.sent(),ly.create("fetch-client-parse",{originalErrorMessage:v.message});case 10:p=m.entries,g=m.state,r.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?d=500:"NO_CHANGE"===g?d=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(p={}),304!==d&&200!==d)throw ly.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:f,config:p}]}var y})})},t}(),dy=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),fy=["1","true","t","yes","y","on"],py=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&fy.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),gy=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=a.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=a.LogLevel.SILENT;break;default:this._logger.logLevel=a.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i=this;return(0,r.__generator)(this,function(o){switch(o.label){case 0:t=new dy,setTimeout(function(){return(0,r.__awaiter)(i,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),n=function(t,e){return t instanceof s.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,r.__assign)((0,r.__assign)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new py("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new py("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new py("static"))},t}();function my(t,e){var n=t.target.error||void 0;return ly.create(e,{originalErrorMessage:n&&n.message})}var vy="app_namespace_store",yy=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(my(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(vy,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([vy],"readonly").objectStore(vy),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(my(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(Nf){i(ly.create("storage-get",{originalErrorMessage:Nf&&Nf.message}))}})]}})})},t.prototype.set=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return n=r.sent(),[2,new Promise(function(r,o){var s=n.transaction([vy],"readwrite").objectStore(vy),a=i.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(my(t,"storage-set"))},u.onsuccess=function(){r()}}catch(Nf){o(ly.create("storage-set",{originalErrorMessage:Nf&&Nf.message}))}})]}})})},t.prototype.delete=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([vy],"readwrite").objectStore(vy),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(my(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(Nf){i(ly.create("storage-delete",{originalErrorMessage:Nf&&Nf.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),_y=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,o,s;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(i=r.sent())&&(this.lastFetchStatus=i),[4,e];case 2:return(o=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(s=r.sent())&&(this.activeConfig=s),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function by(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(ly.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var wy,Ey=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,i=e.backoffCount;return(0,r.__awaiter)(this,void 0,void 0,function(){var e,o,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,by(t.signal,n)];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=r.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return r.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof s.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o=r.sent()))throw o;return a={throttleEndTimeMillis:Date.now()+(0,s.calculateBackoffMillis)(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(a)];case 6:return r.sent(),[2,this.attemptFetch(t,a)];case 7:return[2]}})})},t}(),Ty="@firebase/remote-config";(wy=o.default).INTERNAL.registerComponent(new Df.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw ly.create("registration-window");var o=r.options,s=o.projectId,u=o.apiKey,c=o.appId;if(!s)throw ly.create("registration-project-id");if(!u)throw ly.create("registration-api-key");if(!c)throw ly.create("registration-app-id");var l=new yy(c,r.name,n=n||"firebase"),h=new _y(l),d=new a.Logger(Ty);d.logLevel=a.LogLevel.ERROR;var f=new hy(i,wy.SDK_VERSION,n,s,u,c),p=new Ey(f,l),g=new uy(p,l,h,d),m=new gy(r,g,h,l,d);return m.ensureInitialized(),m},"PUBLIC").setMultipleInstances(!0)),wy.registerVersion(Ty,"0.1.41"),n(6934);var Iy="8.8.0";o.default.registerVersion("firebase",Iy,"app"),o.default.SDK_VERSION=Iy,console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","8.8.0");var Cy=n(7368),Sy=n(9452),ky=n(8809),Ay=n(5912);let xy=(()=>{class t{constructor(t,e,n,r,i){this.http=t,this.loadingCtrl=e,this.afAuth=n,this.toastCtrl=r,this.alertCtrl=i,this.base_url="https://dashboard.spatulagroup.com/api/",this.topSlider=[],this.bottomSlider=[],this.token=""}LoadSettings(){new i.WM({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),this.http.get(this.base_url+"getSettings",{},{"Content-Type":"application/json"}).then(t=>{console.log(JSON.parse(t.data));let e=JSON.parse(t.data);this.facebookLink=e.facebook,this.whatLink=e.whatsapp,this.helpLink=e.help},t=>{console.log(t)})}presentLoading(){return(0,r.__awaiter)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({cssClass:"my-custom-class",message:"\u0627\u0646\u062a\u0638\u0631 \u0642\u0644\u064a\u0644\u0627 ..."}),yield this.loading.present()})}openLink(t){"facebook"==t?t=this.facebookLink:(t=this.whatLink,t="https://wa.me/+218945367550"),window.open(t,"_system","location=yes")}loadUser(){this.userData=JSON.parse(localStorage.getItem("spatulaUser")),console.log(this.userData),this.userData&&(this.token=this.userData.api_token)}openHelp(){window.open("https://spatulagroup.com","_system","location=yes")}show(){return(0,r.__awaiter)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({duration:1e3}),this.loading.present()})}hide(){try{this.loading.dismiss()}catch(t){}}showErroToast(t){return(0,r.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:t||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0627\u062e\u0631\u0649 \u0628\u0627\u0644\u0633\u062d\u0628 \u0627\u0644\u0649 \u0627\u0633\u0641\u0644",animated:!0,duration:4e3,cssClass:"error-toast"})).present()})}showErroAlert(){return(0,r.__awaiter)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create({header:"\u0633\u0628\u0627\u062a\u0648\u0644\u0627",message:"\u0647\u0646\u0627\u0643 \u0645\u0634\u0643\u0644\u0629 \u0628\u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0627\u0646\u062a\u0631\u0646\u062a \u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0627\u062e\u0631\u0649",cssClass:"vtc-popup",buttons:[{text:"\u0645\u0648\u0627\u0641\u0642",role:"Cancel",handler:t=>{}}]});yield t.present()})}TwitterAuth(t){const e=o.default.auth.TwitterAuthProvider.credential(t.token,t.secret);return o.default.auth().signInWithCredential(e)}}return t.\u0275fac=function(e){return new(e||t)(Cy.LFG(Sy.t),Cy.LFG(ky.HT),Cy.LFG(Ay.zQ),Cy.LFG(ky.yF),Cy.LFG(ky.Br))},t.\u0275prov=Cy.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5595:(t,e,n)=>{"use strict";var r=n(9624),i=n(7368),o=n(4174),s=n(8809),a=n(4762),u=n(7254),c=n(8024),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype.open=function(t){return(0,c.DM)(this,"open",{callbackStyle:"object",successName:"success",errorName:"failure"},arguments)},e.prototype.search=function(t){return(0,c.DM)(this,"search",{callbackStyle:"object",successName:"success",errorName:"failure",platforms:["Android"]},arguments)},e.pluginName="Market",e.plugin="cordova-plugin-market",e.pluginRef="cordova.plugins.market",e.repo="https://github.com/xmartlabs/cordova-plugin-market",e.platforms=["Android","iOS"],e.\u0275fac=function(){var t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275prov=i.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(c.KY),h=n(2661),d=n(7310),f=n(4930),p=n(1116);function g(t,e){if(1&t&&i._UZ(0,"div",16),2&t){const t=i.oxw(2);i.Jzz("background: url('http://graph.facebook.com/",t.shared.userData.social_id,"/picture?type=large&width=100'); background-position: center;background-repeat: no-repeat;background-size: cover")}}function m(t,e){if(1&t&&i._UZ(0,"div",16),2&t){const t=i.oxw(2);i.Jzz("background: url('",t.shared.userData.profilePic,"'); background-position: center;background-repeat: no-repeat;background-size: cover")}}function v(t,e){if(1&t&&(i.TgZ(0,"div",14),i.YNc(1,g,1,3,"div",15),i.YNc(2,m,1,3,"div",15),i.TgZ(3,"div"),i.TgZ(4,"p"),i._uU(5),i.qZA(),i.TgZ(6,"p"),i._uU(7),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf","facebook"==t.shared.userData.social_type),i.xp6(1),i.Q6J("ngIf","facebook"!=t.shared.userData.social_type),i.xp6(3),i.Oqu(t.shared.userData.name),i.xp6(2),i.hij("\u0639\u0636\u0648/\u0629 \u0645\u0646\u0630 ",t.shared.userData.created_at,"")}}let y=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,c){this.modalCtrl=t,this.platform=e,this.router=n,this.menuCtrl=r,this.market=i,this.shared=o,this.fb=s,this.twitter=a,this.toastCtrl=u,this.location=c,this.i=0,this.win=window,this.initApp()}presentToast(t,e,n=3e3,r="toast-message-custome"){return(0,a.__awaiter)(this,void 0,void 0,function*(){const i=yield this.toastCtrl.create({message:t,duration:n,position:e,cssClass:r});i.onDidDismiss().then(()=>{console.log("Dismissed toast")}),i.present()})}initApp(){if((0,u.R)(document,"backbutton"),this.platform.backButton.subscribeWithPriority(9999,()=>(0,a.__awaiter)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.getTop();t?t.dismiss():(this.menuCtrl.isOpen()&&this.menuCtrl.close(),console.log(this.router.url),"/home"==this.router.url||"/select-login"==this.router.url||"/intro"==this.router.url||"/login"==this.router.url?0==this.i?(this.presentToast("\u0627\u0636\u063a\u0637 \u0645\u0631\u0629 \u0627\u062e\u0631\u0649 \u0644\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0627\u0644\u062a\u0637\u0628\u064a\u0642","bottom"),this.i++,setTimeout(()=>{this.i=0},3e3)):navigator.app.exitApp():this.location.back())})),document.addEventListener("deviceready",function(){OurCodeWorldpreventscreenshots.disable(function(){console.log("The screenshots are not allowed now.")},function(t){console.error("An error ocurred : "+t)})},!1),this.shared.loadUser(),this.shared.LoadSettings(),null==this.shared.userData)return console.log(this.shared.userData),void this.menuCtrl.enable(!1);this.menuCtrl.enable(!0),this.router.navigate(["/home"],{replaceUrl:!0})}openPage(t){this.router.navigate([t]),this.menuCtrl.close()}logout(){"twitter"==this.shared.userData.social_type?this.twitter.logout().then(t=>{console.log(t),localStorage.clear(),this.router.navigate(["/intro"]),this.menuCtrl.close()}):this.fb.logout().then(t=>{console.log(t),localStorage.clear(),this.router.navigate(["/intro"]),this.menuCtrl.close()})}rateUs(){window.open("https://spatulagroup.com/feedback","_system","location=yes"),this.menuCtrl.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s.IN),i.Y36(s.t4),i.Y36(o.F0),i.Y36(s._q),i.Y36(l),i.Y36(h.F),i.Y36(d.s),i.Y36(f.U),i.Y36(s.yF),i.Y36(p.Ye))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:33,vars:1,consts:[["contentId","main-content"],["contentId","main-content","type","overlay","id","appMenu"],["appMenu",""],["class","user-profile",4,"ngIf"],[1,"menu-body"],[3,"click"],["src","assets/icon/purchases.png"],["src","assets/icon/feedback.png"],["src","assets/icon/help.png"],["src","assets/icon/download.png"],["src","assets/icon/log-out.png"],[1,"menu-footer"],[2,"font-size","10px"],["id","main-content"],[1,"user-profile"],["class","user-image",3,"style",4,"ngIf"],[1,"user-image"]],template:function(t,e){1&t&&(i.TgZ(0,"ion-app"),i.TgZ(1,"ion-split-pane",0),i.TgZ(2,"ion-menu",1,2),i.TgZ(4,"ion-content"),i.YNc(5,v,8,4,"div",3),i.TgZ(6,"div",4),i.TgZ(7,"ul"),i.TgZ(8,"li",5),i.NdJ("click",function(){return e.openPage("/my-courses")}),i._UZ(9,"img",6),i.TgZ(10,"p"),i._uU(11,"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0634\u062a\u0631\u0627\u0647"),i.qZA(),i.qZA(),i.TgZ(12,"li",5),i.NdJ("click",function(){return e.rateUs()}),i._UZ(13,"img",7),i.TgZ(14,"p"),i._uU(15,"\u0634\u0627\u0631\u0643\u064a \u0631\u0627\u064a\u0643 \u062d\u0648\u0644 \u0627\u0644\u062a\u0637\u0628\u064a\u0642"),i.qZA(),i.qZA(),i.TgZ(16,"li",5),i.NdJ("click",function(){return e.shared.openHelp()}),i._UZ(17,"img",8),i.TgZ(18,"p"),i._uU(19,"\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629"),i.qZA(),i.qZA(),i.TgZ(20,"li",5),i.NdJ("click",function(){return e.openPage("/my-downloads")}),i._UZ(21,"img",9),i.TgZ(22,"p"),i._uU(23,"\u062a\u062d\u0645\u064a\u0644\u0627\u062a\u0649"),i.qZA(),i.qZA(),i.TgZ(24,"li",5),i.NdJ("click",function(){return e.logout()}),i._UZ(25,"img",10),i.TgZ(26,"p"),i._uU(27,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"div",11),i.TgZ(29,"span",12),i.TgZ(30,"p"),i._uU(31,"All copyrights reserved, Hanan Alabed"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i._UZ(32,"ion-router-outlet",13),i.qZA(),i.qZA()),2&t&&(i.xp6(5),i.Q6J("ngIf",e.shared.userData&&null!=e.shared.userData))},directives:[s.dr,s.jI,s.z0,s.W2,p.O5,s.jP],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:var(--ion-item-background,var(--ion-background-color,#fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start:8px;--padding-end:8px;--padding-top:20px;--padding-bottom:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150,#d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:10px;--padding-end:10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background:rgba(var(--ion-color-primary-rgb),0.14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:16px;--padding-end:16px;--min-height:50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color:var(--ion-color-primary)}li[_ngcontent-%COMP%]{display:block;margin-right:-40px;margin-bottom:-20px}"]}),t})();const _=[{path:"",redirectTo:"/intro",pathMatch:"full"},{path:"intro",loadChildren:()=>n.e(2128).then(n.bind(n,2128)).then(t=>t.IntroPageModule)},{path:"course-data",loadChildren:()=>n.e(4461).then(n.bind(n,4461)).then(t=>t.CourseDataPageModule)},{path:"free-courses",loadChildren:()=>n.e(3294).then(n.bind(n,3294)).then(t=>t.FreeCoursesPageModule)},{path:"home",loadChildren:()=>n.e(3186).then(n.bind(n,3186)).then(t=>t.HomePageModule)},{path:"login",loadChildren:()=>n.e(5588).then(n.bind(n,5588)).then(t=>t.LoginPageModule)},{path:"my-courses",loadChildren:()=>n.e(8151).then(n.bind(n,8151)).then(t=>t.MyCoursesPageModule)},{path:"paid-courses",loadChildren:()=>n.e(8633).then(n.bind(n,8633)).then(t=>t.PaidCoursesPageModule)},{path:"paid-recipes",loadChildren:()=>n.e(5641).then(n.bind(n,5641)).then(t=>t.PaidRecipesPageModule)},{path:"purchase",loadChildren:()=>n.e(8274).then(n.bind(n,8274)).then(t=>t.PurchasePageModule)},{path:"recipe-data",loadChildren:()=>n.e(6145).then(n.bind(n,6145)).then(t=>t.RecipeDataPageModule)},{path:"recipes",loadChildren:()=>n.e(3993).then(n.bind(n,3993)).then(t=>t.RecipesPageModule)},{path:"select-login",loadChildren:()=>n.e(1781).then(n.bind(n,1781)).then(t=>t.SelectLoginPageModule)},{path:"my-downloads",loadChildren:()=>n.e(8643).then(n.bind(n,8643)).then(t=>t.MyDownloadsPageModule)}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.Bz.forRoot(_,{preloadingStrategy:o.wm})],o.Bz]}),t})();var w=n(2693),E=n(6065),T=n(5700),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype.resolveNativePath=function(t){return(0,c.DM)(this,"resolveNativePath",{},arguments)},e.pluginName="FilePath",e.plugin="cordova-plugin-filepath",e.pluginRef="window.FilePath",e.repo="https://github.com/hiddentao/cordova-plugin-filepath",e.platforms=["Android"],e.\u0275fac=function(){var t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275prov=i.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(c.KY),C=n(7696);const S={apiKey:"AIzaSyCwN2Z0KFce6_wMZRYpu7FVOR6ktLpeLOM",authDomain:"spatula-ed3cf.firebaseapp.com",projectId:"spatula-ed3cf",storageBucket:"spatula-ed3cf.appspot.com",messagingSenderId:"164693328121",appId:"1:164693328121:web:d00ee3023250f45c2a2228",measurementId:"G-GXQJE91PQS"};var k=n(5912),A=n(4474),x=n(957),N=n(9452);let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[y]}),t.\u0275inj=i.cJS({providers:[l,E.Z,C.$,T.K,I,d.s,N.t,f.U,{provide:o.wN,useClass:s.r4}],imports:[[x.K,r.b2,s.Pc.forRoot(),b,w.JF,A.hO.initializeApp(S),k.ww]]}),t})();(0,i.G48)(),r.q6().bootstrapModule(R).catch(t=>console.log(t))},863:(t,e,n)=>{var r={"./ion-action-sheet.entry.js":[2756,8592,2756],"./ion-alert.entry.js":[4558,8592,4558],"./ion-app_8.entry.js":[6503,8592,6503],"./ion-avatar_3.entry.js":[608,8592,608],"./ion-back-button.entry.js":[1229,8592,1229],"./ion-backdrop.entry.js":[9561,9561],"./ion-button_2.entry.js":[8013,8592,8013],"./ion-card_5.entry.js":[7355,8592,7355],"./ion-checkbox.entry.js":[8377,8592,8377],"./ion-chip.entry.js":[2899,8592,2899],"./ion-col_3.entry.js":[9690,9690],"./ion-datetime_3.entry.js":[648,8592,648],"./ion-fab_3.entry.js":[5102,8592,5102],"./ion-img.entry.js":[4054,4054],"./ion-infinite-scroll_2.entry.js":[5269,8592,5269],"./ion-input.entry.js":[845,8592,845],"./ion-item-option_3.entry.js":[7438,8592,7438],"./ion-item_8.entry.js":[497,8592,497],"./ion-loading.entry.js":[7701,8592,7701],"./ion-menu_3.entry.js":[2441,8592,2441],"./ion-modal.entry.js":[9238,8592,9238],"./ion-nav_2.entry.js":[5798,8592,5798],"./ion-popover.entry.js":[8082,8592,8082],"./ion-progress-bar.entry.js":[1864,8592,1864],"./ion-radio_2.entry.js":[202,8592,202],"./ion-range.entry.js":[1988,8592,1988],"./ion-refresher_2.entry.js":[5643,8592,5643],"./ion-reorder_2.entry.js":[4473,8592,4473],"./ion-ripple-effect.entry.js":[8588,8588],"./ion-route_4.entry.js":[2981,8592,2981],"./ion-searchbar.entry.js":[6726,8592,6726],"./ion-segment_2.entry.js":[134,8592,134],"./ion-select_3.entry.js":[8955,8592,8955],"./ion-slide_2.entry.js":[966,966],"./ion-spinner.entry.js":[5737,8592,5737],"./ion-split-pane.entry.js":[1761,1761],"./ion-tab-bar_2.entry.js":[2099,8592,2099],"./ion-tab_2.entry.js":[5670,8592,5670],"./ion-text.entry.js":[9605,8592,9605],"./ion-textarea.entry.js":[7809,8592,7809],"./ion-toast.entry.js":[7132,8592,7132],"./ion-toggle.entry.js":[4468,8592,4468],"./ion-virtual-scroll.entry.js":[172,172]};function i(t){if(!n.o(r,t))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(i))}i.keys=()=>Object.keys(r),i.id=863,t.exports=i},4762:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__extends:()=>i,__assign:()=>o,__rest:()=>s,__decorate:()=>a,__param:()=>u,__metadata:()=>c,__awaiter:()=>l,__generator:()=>h,__createBinding:()=>d,__exportStar:()=>f,__values:()=>p,__read:()=>g,__spread:()=>m,__spreadArrays:()=>v,__spreadArray:()=>y,__await:()=>_,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>E,__makeTemplateObject:()=>T,__importStar:()=>C,__importDefault:()=>S,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>A});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function f(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var I=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return I(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function k(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function A(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}}},t=>{"use strict";t(t.s=5595)}]);